var wd=Object.defineProperty;var kd=(e,t,r)=>t in e?wd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Oe=(e,t,r)=>kd(e,typeof t!="symbol"?t+"":t,r);import{r as b,a as Sd,u as He,L as Os,b as Rr,R as Le,B as jd,c as _d,d as Ee}from"./vendor-react-CHqvrAU8.js";import{i as Cd,a as Td,u as xe}from"./vendor-i18n-C31NHdXO.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Oa={exports:{}},An={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=b,Pd=Symbol.for("react.element"),Rd=Symbol.for("react.fragment"),Ld=Object.prototype.hasOwnProperty,Ed=Ad.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Md={key:!0,ref:!0,__self:!0,__source:!0};function Fa(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Ld.call(t,n)&&!Md.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Pd,type:e,key:a,ref:i,props:s,_owner:Ed.current}}An.Fragment=Rd;An.jsx=Fa;An.jsxs=Fa;Oa.exports=An;var o=Oa.exports,Co={},Fs=Sd;Co.createRoot=Fs.createRoot,Co.hydrateRoot=Fs.hydrateRoot;const{slice:Id,forEach:Nd}=[];function zd(e){return Nd.call(Id.call(arguments,1),t=>{if(t)for(const r in t)e[r]===void 0&&(e[r]=t[r])}),e}function Bd(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(e))}const Vs=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Dd=function(e,t){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(t);let a=`${e}=${s}`;if(n.maxAge>0){const i=n.maxAge-0;if(Number.isNaN(i))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(i)}`}if(n.domain){if(!Vs.test(n.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${n.domain}`}if(n.path){if(!Vs.test(n.path))throw new TypeError("option path is invalid");a+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(a+="; Partitioned"),a},Ws={create(e,t,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),n&&(s.domain=n),document.cookie=Dd(e,t,s)},read(e){const t=`${e}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let s=r[n];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Od={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return Ws.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:r,cookieMinutes:n,cookieDomain:s,cookieOptions:a}=t;r&&typeof document<"u"&&Ws.create(r,e,n,s,a)}},Fd={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,r;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const a=n.substring(1).split("&");for(let i=0;i<a.length;i++){const c=a[i].indexOf("=");c>0&&a[i].substring(0,c)===t&&(r=a[i].substring(c+1))}}return r}},Vd={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:r}=e,n;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const a=s.substring(1);if(t){const i=a.split("&");for(let c=0;c<i.length;c++){const l=i[c].indexOf("=");l>0&&i[c].substring(0,l)===t&&(n=i[c].substring(l+1))}}if(n)return n;if(!n&&r>-1){const i=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?i[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return n}};let Yt=null;const $s=()=>{if(Yt!==null)return Yt;try{if(Yt=typeof window<"u"&&window.localStorage!==null,!Yt)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Yt=!1}return Yt};var Wd={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&$s())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:r}=t;r&&$s()&&window.localStorage.setItem(r,e)}};let Gt=null;const Us=()=>{if(Gt!==null)return Gt;try{if(Gt=typeof window<"u"&&window.sessionStorage!==null,!Gt)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Gt=!1}return Gt};var $d={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Us())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:r}=t;r&&Us()&&window.sessionStorage.setItem(r,e)}},Ud={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:s}=navigator;if(r)for(let a=0;a<r.length;a++)t.push(r[a]);n&&t.push(n),s&&t.push(s)}return t.length>0?t:void 0}},Hd={name:"htmlTag",lookup(e){let{htmlTag:t}=e,r;const n=t||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},qd={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof t=="number"?t:0]?.replace("/",""):void 0}},Yd={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const r=typeof t=="number"?t+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};let Va=!1;try{document.cookie,Va=!0}catch{}const Wa=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Va||Wa.splice(1,1);const Gd=()=>({order:Wa,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class $a{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,r)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=zd(r,this.options||{},Gd()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Od),this.addDetector(Fd),this.addDetector(Wd),this.addDetector($d),this.addDetector(Ud),this.addDetector(Hd),this.addDetector(qd),this.addDetector(Yd),this.addDetector(Vd)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return t.forEach(n=>{if(this.detectors[n]){let s=this.detectors[n].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(r=r.concat(s))}}),r=r.filter(n=>n!=null&&!Bd(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(t,this.options)}))}}$a.type="languageDetector";const Kd={login:"Login",register:"Register",logout:"Logout",language:"Language",logoAlt:"RABHAN Logo",tagline:"Solar Energy Finance",dashboard:"Dashboard"},Xd={en:"English",ar:"العربية"},Zd={home:"Home",about:"About",services:"Services",calculator:"Solar Calculator",contact:"Contact"},Jd={loading:"Loading...",error:"Error",success:"Success",close:"Close",cancel:"Cancel",confirm:"Confirm",save:"Save",saving:"Saving...",edit:"Edit",delete:"Delete",search:"Search",filter:"Filter",sort:"Sort",next:"Next",previous:"Previous",submit:"Submit",reset:"Reset",back:"Back",step:"Step",of:"of",yes:"Yes",no:"No",enabled:"Enabled",disabled:"Disabled",selectOption:"Select an option",unknown:"Unknown",optional:"Optional"},Qd={saudi_arabia:"Saudi Arabia",india:"India"},eu={title:"Document Management",subtitle:{user:"Manage your KYC documents and track verification status",contractor:"Manage your business documents and compliance requirements"},tabs:{overview:"Overview",kyc_progress:"KYC Progress",upload:"Upload",manage:"Manage"},stats:{total:"Total Documents",approved:"Approved",pending:"Pending",rejected:"Rejected"},quick_actions:{title:"Quick Actions",upload_id:"Upload ID Document",upload_id_desc:"Upload your national ID or passport",check_kyc:"Check KYC Status",check_kyc_desc:"View your verification progress",manage_docs:"Manage Documents",manage_docs_desc:"View and organize your documents"},upload:{title:"Upload Document",modal_title:"Upload New Document",category:"Document Category",select_category:"Select document category",drop_zone:{title:"Drop files here to upload",subtitle:"or click to select files"},supported_formats:"Supported formats",max_size:"Maximum size",upload_button:"Upload Document",uploading:"Uploading...",upload_another:"Upload Another",new_document:"New Document",validation_results:"Validation Results",file_validation:"File Validation",virus_scan:"Virus Scan",content_validation:"Content Validation",security_validation:"Security Validation",virus_scanning:"Scanning for viruses...",success:"Document uploaded successfully",error:{categories:"Failed to load document categories",invalid_type:"Invalid file type. Please upload PDF, JPEG, or PNG files.",size_limit:"File size exceeds maximum limit of {{maxSize}}",generic:"Upload failed. Please try again."}},manager:{title:"My Documents",search_placeholder:"Search documents...",all_categories:"All Categories",all_statuses:"All Statuses",loading:"Loading documents...",empty:{title:"No documents found",description:"Upload your first document to get started"},pagination:{showing:"Showing {{start}}-{{end}} of {{total}} documents"},download_success:"Document downloaded successfully",delete_success:"Document deleted successfully",delete_confirm:"Are you sure you want to delete this document?",error:{load_failed:"Failed to load documents",download_failed:"Failed to download document",delete_failed:"Failed to delete document"}},status:{pending:"Pending",processing:"Processing",validated:"Validated",approved:"Approved",rejected:"Rejected",expired:"Expired",archived:"Archived"}},tu={title:"KYC Progress",subtitle:{user:"Complete your identity verification to access all features",contractor:"Complete your business verification to start offering services"},loading:"Loading KYC status...",required:"Required",stats:{completed:"Completed",remaining:"Remaining",uploaded:"Uploaded",progress:"Progress"},progress:{overall:"Overall Progress"},status:{completed:"Completed",partial:"In Progress",pending:"Not Started"},upload_document:"Upload {{category}}",click_to_upload:"Click to upload document",upload:"Upload",reupload:"Re-upload",uploaded_on:"Uploaded on {{date}}",next_steps:{title:"Next Steps",upload_required:"Upload {{count}} required documents",await_approval:"Wait for {{count}} documents to be approved",complete:"Your KYC verification is complete!"},replace:"Replace",download_document:"Download Document",download_failed:"Download failed",confirm_delete:"Are you sure you want to delete this document?",document_deleted:"Document deleted successfully",delete_failed:"Failed to delete document",delete_document:"Delete Document",view:{cards:"Cards",table:"Table"},table:{document:"Document",category:"Category",status:"Status",uploaded:"Uploaded",size:"Size",actions:"Actions"},verified:"Verified",cannot_delete_verified:"Cannot delete admin-verified documents",replace_document:"Replace Document",no_documents:"No Documents",no_documents_description:"Upload documents to get started",not_uploaded:"Not uploaded",categories:{national_id:"National ID",address_proof:"Address Proof",income_proof:"Income Proof",bank_statement:"Bank Statement",salary_certificate:"Salary Certificate",utility_bill:"Utility Bill",commercial_registration:"Commercial Registration",vat_certificate:"VAT Certificate",business_license:"Business License"}},ru={title:"Welcome to Rabhan",subtitle:"A winning platform for everyone!",contractor_title:"Contractor Registration",contractor_subtitle:"Join RABHAN as a Solar Energy Contractor",personal_info:"Personal Information",business_info:"Business Information & Security",contractor_success_message:"Contractor registration successful! Welcome to RABHAN.",already_have_account:"Already have an account?",login_here:"Login here",registration_failed:"Registration failed. Please try again.",user:{title:"Consumer Registration",subtitle:"Transform Your Premises with Rabhan",joinButton:"Dive into Rabhan",benefits:{solarAnalysis:{title:"Smart Energy Estimations",description:"Get personalized solar recommendations based on your energy consumption and roof specifications"},bnplFinancing:{title:"Flexible BNPL Financing",description:"Access up to SAR 5,000 with SAMA-compliant financing options tailored for Saudi residents"},preverified:{title:"Instant Approvals",description:"Get quick financing approvals with our streamlined digital process"},monitoring:{title:"Real-Time Monitoring",description:"Track your solar production, savings, and environmental impact through our advanced monitoring system"}}},contractor:{title:"Vendor & Contractor Registration",subtitle:"Grow Business with Rabhan",joinButton:"Join Rabhan Network",firstName_placeholder:"Enter your first name",lastName_placeholder:"Enter your last name",companyName_placeholder:"Enter your company name",businessEmail_placeholder:"admin@yourcompany.com",password_placeholder:"Create strong password",confirmPassword_placeholder:"Confirm your password",crNumber_placeholder:"1010123456",vatNumber_placeholder:"300123456789003",crNumber_tooltip:"Saudi Commercial Registration number (10 digits, starting with 10/20/30/40)",vatNumber_tooltip:"Saudi VAT number (15 digits, starting and ending with 3)",benefits:{marketplace:{title:"Digital Marketplace",description:"Showcase your services and products to thousands of potential customers across Saudi Arabia"},matching:{title:"Smart Customer Matching",description:"Get matched with customers based on your expertise, location, and service offerings"},analytics:{title:"Business Analytics",description:"Access comprehensive insights about your performance, customer satisfaction, and market trends"},certification:{title:"Certification & Verification",description:"Build trust with customers through our comprehensive verification and certification process"}}}},nu={welcome:"Welcome to RABHAN",subtitle:"Your Solar Energy Financing Partner",loginTitle:"Sign in to your account",registerTitle:"Create your account",loginSubtitle:"Welcome back! Please enter your details.",registerSubtitle:"Join thousands of Saudi families going solar",email:"Email address",emailPlaceholder:"Enter your email address",password:"Password",forgotPassword:"Forgot your password?",rememberMe:"Remember me",loginButton:"Sign in",noAccount:"Don't have an account?",signUpHere:"Sign up here",orContinueWith:"Or continue with",firebaseLogin:"Sign in with Google",alreadyHaveAccount:"Already have an account?",signInHere:"Sign in here",userType:"Consumer Category",validation:{emailRequired:"Email is required",emailInvalid:"Please enter a valid email address",passwordRequired:"Password is required",passwordMinLength:"Password must be at least 8 characters",userTypeRequired:"Please select your consumer category"},login:{title:"Login to Your Account",subtitle:"Welcome back to RABHAN Solar BNPL Platform",email:"Email Address",password:"Password",forgotPassword:"Forgot Password?",loginButton:"Login",noAccount:"Don't have an account?",signUp:"Sign Up"},userTypes:{USER:"Customer",CONTRACTOR:"Contractor",HOMEOWNER:"Residential",BUSINESS:"Commercial",INDUSTRIAL:"Industrial",GOVERNMENT:"Government"},register:{title:"Create Your Account",subtitle:"Join RABHAN Solar BNPL Platform",firstName:"First Name",lastName:"Last Name",email:"Email Address",business_email:"Business Email",business_email_placeholder:"Enter your business email",business_phone:"Business Phone",company_name:"Company Name",company_name_placeholder:"Enter your company name",cr_number:"CR Number",vat_number:"VAT Number",saudi_phone_hint:"Saudi phone numbers only (+966)",next_step:"Next Step",register_contractor:"Register as Contractor",registering:"Registering...",password:"Password",confirmPassword:"Confirm Password",phone:"Phone Number",nationalId:"National ID",agreeTerms:"I agree to the Terms of Service and Privacy Policy",registerButton:"Create Account",hasAccount:"Already have an account?",signIn:"Sign In",createAccount:"Create Account",first_name:"First Name",last_name:"Last Name",confirm_password:"Confirm Password",confirm_password_placeholder:"Confirm your password",agree_to_terms:"I agree to the",terms_and_conditions:"Terms and Conditions",and:"and",privacy_policy:"Privacy Policy",password_min_length:"Password must be at least 8 characters",firstNamePlaceholder:"Enter your first name",first_name_placeholder:"Enter your first name",lastNamePlaceholder:"Enter your last name",last_name_placeholder:"Enter your last name",emailPlaceholder:"Enter your email address",phonePlaceholder:"5XXXXXXXX",nationalIdPlaceholder:"Saudi National ID (10 digits)",passwordPlaceholder:"Enter a strong password",confirmPasswordPlaceholder:"Confirm your password",reviewHint:"Please review your information before creating your account. You can go back to make changes if needed.",steps:{personal:"Personal",contact:"Contact",address:"Address",property:"Property",security:"Security",documents:"Documents",payment:"Payment",verification:"Review",review:"Review & Confirm",personalTitle:"Personal & Contact Information",contactTitle:"Contact Information",addressTitle:"Address Information",propertyTitle:"Property & Energy Information",securityTitle:"Security Settings",documentsTitle:"Document Upload",paymentTitle:"Payment Method Setup",verificationTitle:"Review & Confirm",verificationDescription:"Please review your information before creating your account. You can go back to make changes if needed."},addressSection:"Address Information",financialSection:"Financial Information",propertySection:"Property & Preferences",region:"Region",city:"City",district:"District",streetAddress:"Street Address",landmark:"Landmark",postalCode:"Postal Code",monthlyIncome:"Monthly Income",employmentStatus:"Employment Status",employerName:"Employer Name",employmentDuration:"Employment Duration (Years)",monthlyElectricityBill:"Monthly Electricity Bill",electricityMeterNumber:"Electricity Meter Number",propertyType:"Property Type",propertyOwnership:"Property Ownership",preferredLanguage:"Preferred Language",emailNotifications:"Email Notifications",smsNotifications:"SMS Notifications",marketingConsent:"Marketing Communications",regionPlaceholder:"Select your region",cityPlaceholder:"Enter your city",districtPlaceholder:"Enter your district",streetAddressPlaceholder:"Enter street address",landmarkPlaceholder:"Nearby landmark or building",postalCodePlaceholder:"5-digit postal code",monthlyIncomePlaceholder:"Enter monthly income in SAR",employmentStatusPlaceholder:"Select employment status",employerNamePlaceholder:"Enter employer name",employmentDurationPlaceholder:"Years of employment",monthlyElectricityBillPlaceholder:"Monthly bill amount in SAR",electricityMeterNumberPlaceholder:"SEC meter number",propertyTypePlaceholder:"Select property type",propertyOwnershipPlaceholder:"Select ownership status",roofSize:"Roof Size (m²)",roofSizePlaceholder:"Available roof area",meterNumber:"Electricity Meter Number",meterNumberPlaceholder:"SEC meter number",propertyLocation:"Property GPS Location",latitude:"Latitude",longitude:"Longitude",getCurrentLocation:"Get Current Location",electricityConsumption:{range1:"0-200 kWh",range2:"200-400 kWh",range3:"400-600 kWh",range4:"600-800 kWh",range5:"800-1000 kWh",range6:"1000-1200 kWh",range7:"1200-1500 kWh",range8:"1500+ kWh",selectAverage:"Select average monthly consumption"},electricityConsumptionHint:"Select your average monthly electricity consumption in kWh",paymentMethodHint:"Select your preferred payment method for solar system financing",paymentMethods:{bankAccount:"Bank Account",bankAccountDesc:"Direct debit from your bank account",card:"Credit/Debit Card",cardDesc:"Visa, Mastercard, or Mada card",applePay:"Apple Pay",applePayDesc:"Quick and secure payments with Apple Pay",stcPay:"STC Pay",stcPayDesc:"Mobile wallet payments"},preferredLanguagePlaceholder:"Select preferred language",emailNotificationsDesc:"Receive important updates and notifications via email",smsNotificationsDesc:"Receive urgent notifications and OTP via SMS",marketingConsentDesc:"Receive promotional offers and solar energy tips",regions:{riyadh:"Riyadh",makkah:"Makkah",eastern:"Eastern Province",asir:"Asir",tabuk:"Tabuk",qassim:"Qassim",hail:"Hail",northern:"Northern Borders",jazan:"Jazan",najran:"Najran",bahah:"Al Bahah",jouf:"Al Jouf",madinah:"Madinah"},employment:{government:"Government Employee",private:"Private Sector",selfEmployed:"Self-Employed",retired:"Retired",student:"Student"},propertyTypes:{villa:"Villa",apartment:"Apartment",duplex:"Duplex",townhouse:"Townhouse",commercial:"Commercial",other:"Other"},ownership:{owned:"Owned",rented:"Rented",leased:"Leased",owner:"Owner",tenant:"Tenant",other:"Other"},passwordHints:{title:"Password Requirements",length:"At least 8 characters",uppercase:"One uppercase letter (A-Z)",lowercase:"One lowercase letter (a-z)",number:"One number (0-9)",special:"One special character (!@#$%^&*)"},nafath:{title:"NAFATH Authentication",description:"NAFATH is Saudi Arabia's national digital identity platform that provides secure, government-verified authentication for enhanced security and streamlined access to digital services.",comingSoon:"Coming Soon:",currentlyEmail:"Currently using email-based authentication. NAFATH integration will be available in the next update for enhanced security."},summary:{title:"Account Summary",name:"Full Name",email:"Email",phone:"Phone",nationalId:"National ID",region:"Region",city:"City",monthlyIncome:"Monthly Income",employment:"Employment",propertyType:"Property Type"},review:{personalInfo:"Personal Information",addressInfo:"Address Information",propertyInfo:"Property Information"},sqm:"m²",propertyOwnershipTypes:{owned:"Owned",rented:"Rented",leased:"Leased"},verified:"Verified",sendOTP:"Send OTP",sending:"Sending...",resend:"Resend",enterOTP:"Enter OTP Code",otpPlaceholder:"123456",verify:"Verify",verifying:"Verifying...",otpSentTo:"OTP sent to",validation:{firstName_required:"First name is required",lastNameRequired:"Last name is required",regionRequired:"Region is required",cityRequired:"City is required",postalCodeRequired:"Postal code is required",propertyTypeRequired:"Property type is required",propertyOwnershipRequired:"Property ownership is required",roofSizeRequired:"Roof size is required",electricityConsumptionRequired:"Electricity consumption is required",meterNumberRequired:"Meter number is required",employmentStatusRequired:"Employment status is required",nameMaxLength:"{{field}} must be 25 characters or less",nameInvalid:"{{field}} can only contain letters and spaces",regionInvalid:"Please select a valid region",lastName_required:"Last name is required",email_required:"Email is required",phone_required:"Phone number is required",phone_invalid:"Please enter a valid Saudi phone number",company_name_required:"Company name is required",confirm_password_required:"Please confirm your password",passwords_dont_match:"Passwords do not match",agree_to_terms_required:"You must agree to the terms and conditions",email_already_registered:"This email is already registered",phone_already_registered:"This phone number is already registered",emailRequired:"Email is required",emailMaxLength:"Email must be 50 characters or less",emailInvalid:"Please enter a valid email address",passwordRequired:"Password is required",passwordMinLength:"Password must be at least 8 characters",passwordMaxLength:"Password must be 25 characters or less",passwordWeak:"Password must contain uppercase, lowercase, and number",passwordMismatch:"Passwords do not match",agreeTermsRequired:"You must agree to the terms and conditions",phoneInvalid:"Phone must be Saudi (+966) or Indian (+91) format",phoneRequired:"Phone number is required",phoneSaudiStart:"Saudi phone numbers must start with 5",phoneIndianStart:"Indian phone numbers must start with 6, 7, 8, or 9",phoneNotVerified:"Phone number must be verified",phoneDigits:"Phone number must be {{digits}} digits for {{country}}",nationalIdInvalid:"National ID must be 10 digits starting with 1 or 2",nameRequired:"{{field}} is required",cityMaxLength:"City name must be 30 characters or less",cityInvalid:"City name can only contain letters and spaces",districtRequired:"District is required",districtMaxLength:"District name must be 30 characters or less",districtInvalid:"District name can only contain letters, spaces, and hyphens",streetAddressRequired:"Street address is required",streetAddressMaxLength:"Street address must be 50 characters or less",streetAddressInvalid:"Street address can only contain letters, numbers, spaces, and basic punctuation",landmarkMaxLength:"Landmark must be 50 characters or less",landmarkInvalid:"Landmark can only contain letters, numbers, spaces, and basic punctuation",postalCodeInvalid:"Postal code must be exactly 5 digits",roofSizeInvalid:"Roof size must be between 10 and 10,000 square meters",meterNumberLength:"Meter number must be between 6 and 15 characters",meterNumberInvalid:"Meter number can only contain letters and numbers",latitudeInvalid:"Latitude must be between -90 and 90",longitudeInvalid:"Longitude must be between -180 and 180",documentRequired:"This document is required for KYC verification.",fileTypeInvalid:"Invalid file type. Please upload JPG, JPEG, or PNG images only.",fileSizeInvalid:"File size too large. Maximum size is 3MB.",paymentMethodRequired:"Please select a payment method",nameMinLength:"Name must be at least 2 characters",phoneFormat:"Phone must start with +966",phoneLength:"Phone must be 13 characters (+966xxxxxxxxx)",nationalIdLength:"National ID must be exactly 10 digits",nationalIdStart:"National ID must start with 1 or 2",cityMinLength:"City must be at least 2 characters",streetMinLength:"Street address must be at least 5 characters",streetMaxLength:"Street address must be 50 characters or less",postalCodeLength:"Postal code must be exactly 5 digits",incomeMinimum:"Monthly income must be at least 3,000 SAR",incomeMaximum:"Monthly income cannot exceed 9,999,999 SAR",yearsMaximum:"Years employed cannot exceed 50",dependentsMaximum:"Number of dependents cannot exceed 20",roofSizeMinimum:"Roof size must be at least 10 square meters",roofSizeMaximum:"Roof size cannot exceed 10,000 square meters",meterNumberMinLength:"Meter number must be at least 6 characters",meterNumberMaxLength:"Meter number cannot exceed 15 characters",employerMinLength:"Employer name must be at least 2 characters",jobTitleMinLength:"Job title must be at least 2 characters",validInput:"Valid",saving:"Saving..."},countries:{saudiArabia:"Saudi Arabia",india:"India"},documents:{title:"Required Documents",description:"Upload the required documents for KYC verification. All documents must be clear, readable, and in valid format.",nationalId:"Saudi National ID",nationalIdDesc:"Front and back photo required",proofOfAddress:"Proof of Address",proofOfAddressDesc:"Utility bill or bank statement",fileHint:"JPG, PNG • Max 3MB",uploaded:"Uploaded",upload:"Upload",uploadedIcon:"✓ Uploaded",kyc:{title:"SAMA KYC Compliance",description:"As per SAMA regulations, all BNPL customers must complete KYC verification. Documents are encrypted and stored securely with 7-year retention for compliance."}},placeholders:{postalCode:"12345",latitude:"24.7136",longitude:"46.6753"}}},ou={first_name:"First Name",last_name:"Last Name",first_name_placeholder:"Enter your first name",last_name_placeholder:"Enter your last name",business_email:"Business Email",business_email_placeholder:"Enter your business email",business_phone:"Business Phone",saudi_phone_hint:"Saudi phone numbers only (+966)",next_step:"Next Step",company_name:"Company Name",company_name_placeholder:"Enter your company name",cr_number:"CR Number",vat_number:"VAT Number",password:"Password",password_placeholder:"Enter a strong password",confirm_password:"Confirm Password",confirm_password_placeholder:"Confirm your password",agree_to_terms:"I agree to the",terms_and_conditions:"Terms and Conditions",and:"and",privacy_policy:"Privacy Policy",back:"Back",registering:"Registering...",register_contractor:"Register as Contractor"},su={firstName_required:"First name is required",lastName_required:"Last name is required",email_required:"Email is required",email_invalid:"Please enter a valid email address",phone_required:"Phone number is required",phone_invalid:"Please enter a valid Saudi phone number",password_required:"Password is required",password_min_length:"Password must be at least 8 characters",confirm_password_required:"Please confirm your password",passwords_dont_match:"Passwords do not match",company_name_required:"Company name is required",agree_to_terms_required:"You must agree to the terms and conditions",email_already_registered:"This email is already registered",phone_already_registered:"This phone number is already registered",nameMinLength:"Name must be at least 2 characters",nameMaxLength:"Name must be 25 characters or less",nameInvalid:"Name can only contain letters and spaces",phoneFormat:"Phone must start with +966",phoneLength:"Phone must be 13 characters (+966xxxxxxxxx)",nationalIdLength:"National ID must be exactly 10 digits",nationalIdStart:"National ID must start with 1 or 2",cityMinLength:"City must be at least 2 characters",cityMaxLength:"City must be 30 characters or less",streetMinLength:"Street address must be at least 5 characters",streetMaxLength:"Street address must be 50 characters or less",postalCodeLength:"Postal code must be exactly 5 digits",incomeMinimum:"Monthly income must be at least 3,000 SAR",incomeMaximum:"Monthly income cannot exceed 9,999,999 SAR",yearsMaximum:"Years employed cannot exceed 50",dependentsMaximum:"Number of dependents cannot exceed 20",roofSizeMinimum:"Roof size must be at least 10 square meters",roofSizeMaximum:"Roof size cannot exceed 10,000 square meters",meterNumberMinLength:"Meter number must be at least 6 characters",meterNumberMaxLength:"Meter number cannot exceed 15 characters",employerMinLength:"Employer name must be at least 2 characters",jobTitleMinLength:"Job title must be at least 2 characters",validInput:"Valid",firstName_minLength:"First name must be at least 2 characters",firstName_maxLength:"First name must be less than 50 characters",firstName_invalid:"First name can only contain letters, spaces, hyphens and apostrophes",firstName_spaces:"First name cannot start or end with spaces",firstName_consecutive:"First name cannot have consecutive spaces",lastName_minLength:"Last name must be at least 2 characters",lastName_maxLength:"Last name must be less than 50 characters",lastName_invalid:"Last name can only contain letters, spaces, hyphens and apostrophes",lastName_spaces:"Last name cannot start or end with spaces",lastName_consecutive:"Last name cannot have consecutive spaces",email_maxLength:"Email address must be less than 100 characters",email_business:"Please use a business email address (not personal email)",email_consecutive:"Email cannot contain consecutive dots",email_dots:"Email cannot start or end with a dot",password_maxLength:"Password must be less than 128 characters",password_lowercase:"Password must contain at least one lowercase letter",password_uppercase:"Password must contain at least one uppercase letter",password_number:"Password must contain at least one number",password_special:"Password must contain at least one special character",password_spaces:"Password cannot contain spaces",password_consecutive:"Password cannot have more than 2 consecutive identical characters",password_common:"Password is too common, please choose a stronger password",confirm_password_mismatch:"Passwords do not match",phone_business_required:"Business phone number is required",phone_saudi_invalid:"Please enter a valid Saudi mobile number (5XXXXXXXX)",phone_indian_invalid:"Indian mobile numbers must start with 6, 7, 8, or 9",phone_must_verify:"Phone number must be verified before registration",company_name_minLength:"Company name must be at least 2 characters",company_name_maxLength:"Company name must be less than 100 characters",company_name_invalid:"Company name contains invalid characters",company_name_spaces:"Company name cannot start or end with spaces",company_name_consecutive:"Company name cannot have consecutive spaces",cr_number_digits:"CR number must contain only digits",cr_number_length:"CR number must be exactly 10 digits",cr_number_start:"CR number must start with 10, 20, 30, or 40",vat_number_digits:"VAT number must contain only digits",vat_number_length:"VAT number must be exactly 15 digits",vat_number_format:"VAT number must start and end with 3",terms_required:"You must agree to the Terms and Conditions to register",invalid_characters:"Invalid characters detected",names_identical:"First name and last name cannot be identical",temp_email:"Temporary email addresses are not allowed",email_domain_invalid:"Email domain length is invalid",company_name_generic:"Please enter your actual company name"},iu={verification:{title:"Phone Verification",description:"Verify your phone number to secure your account",success:"Phone number verified successfully!",failed:"Phone verification failed. Please try again.",skip:"Skip for now",back:"Change Phone Number"},country:{label:"Country",placeholder:"Select your country"},number:{label:"Phone Number"},format:{example:"Format example"},validation:{required:"Phone number is required",invalid:"Please enter a valid phone number"},otp:{title:"OTP Verification",label:"Verification Code",description:"Enter the 6-digit code sent to {{phone}}",hint:"Enter the 6-digit code from SMS",send:"Send OTP",sending:"Sending...",sent:"Verification code sent successfully!",verify:"Verify OTP",verifying:"Verifying...",resend:"Resend Code",resendIn:"Resend in {{seconds}}s","resend.countdown":"Resend in {{seconds}}s","send.failed":"Failed to send verification code",error:"Failed to send OTP",invalid:"Invalid OTP code",validation:{length:"Please enter a 6-digit code"}}},au={title:"RABHAN Professional Theme",subtitle:"Professional light gradient theme with wave animations and glassmorphism",features:{waveAnimations:"Wave animations",glassmorphism:"Glassmorphism effects",improvedHover:"Improved hover states",shimmer:"Shimmer animations",float:"Float animations",responsive:"Mobile-first responsive"},ready:"Theme System Ready 🌊✨"},lu={confirm:{title:"Logout Confirmation",message:"Are you sure you want to logout from your account?",messageWithName:"Are you sure you want to logout, {{name}}?",warning:{title:"Important Notice",message:"You will need to login again to access your account and continue using RABHAN services."},cancel:"Cancel",logout:"Logout"}},cu={welcome:{title:"Welcome, {{name}}!",subtitle:"You're logged in as {{userType}}"},status:{active:"Active"},sidebar:{dashboard:"Dashboard",calculator:"Solar Calculator",financing:"Financing",projects:"Projects",marketplace:"Marketplace",documents:"Documents",settings:"Settings",profile:"Profile",logout:"Logout"},quickActions:{title:"Quick Actions"},user:{solarCalculator:"Solar Calculator",viewFinancing:"View Financing Options"},contractor:{viewProjects:"View Projects",viewApplications:"View Applications"},profile:{title:"Profile",email:"Email",userType:"Type",editProfile:"Edit Profile",personalInfo:"Personal Information",addressInfo:"Address Information",propertyEmployment:"Property & Employment",notProvided:"Not provided",completionTitle:"Profile Completion",completionComplete:"Excellent! Your profile is complete.",completionAlmost:"Almost there! Just a few more details to complete your profile.",completionHalfway:"You're halfway there! Complete your profile for better service.",completionStart:"Get started by completing your profile information.",missingFields:"Missing information",tabs:{personal:"Personal",address:"Address",verification:"Verification",employment:"Employment",property:"Property",preferences:"Preferences"},selectSection:"Select a section from the menu to view and edit your information",dateOfBirth:"Date of Birth",maritalStatus:"Marital Status","maritalStatus.single":"Single","maritalStatus.married":"Married","maritalStatus.divorced":"Divorced","maritalStatus.widowed":"Widowed",dependents:"Number of Dependents",landmark:"Landmark",postalCode:"Postal Code",gpsLatitude:"GPS Latitude",gpsLongitude:"GPS Longitude",locationInfo:"Location Information",getMyLocation:"Get My Location",gettingLocation:"Getting Location...",gpsCoordinates:"GPS Coordinates",clickToGetLocation:"Click 'Get My Location' to auto-fill",locationSuccess:"Location retrieved successfully!",locationError:"Location Error",phoneVerified:"Phone Verified",emailVerified:"Email Verified",samaVerified:"SAMA Verified",nafathVerified:"NAFATH Verified",jobTitle:"Job Title",yearsEmployed:"Years Employed",electricityConsumption:"Monthly Electricity Consumption (kWh)",desiredSystemSize:"Desired Solar System Size (kW)",budgetRange:"Budget Range (SAR)",installationTimeline:"Installation Timeline",financingPreference:"Financing Preference",specialRequirements:"Special Requirements",bnplMaxAmount:"BNPL Maximum Amount",bnplEligible:"BNPL Eligible",preferredLanguage:"Preferred Language",emailNotifications:"Email Notifications",smsNotifications:"SMS Notifications",marketingConsent:"Marketing Communications",samaLimit:"SAMA Limit",adminControlled:"Admin Controlled",pendingAdminApproval:"Pending admin approval",updateSuccess:"Profile updated successfully",updateError:"Error updating profile",placeholder:{first_name:"Enter your first name",last_name:"Enter your last name",phone:"Enter your phone number",date_of_birth:"Select your date of birth",marital_status:"Select your marital status",dependents:"Number of dependents",region:"Select your region",city:"Enter your city",district:"Enter your district",street_address:"Enter your street address",landmark:"Enter nearby landmark",postal_code:"Enter 5-digit postal code",gps_latitude:"GPS latitude coordinate",gps_longitude:"GPS longitude coordinate",national_id:"Enter 10-digit national ID",employment_status:"Select employment status",employer_name:"Enter employer name",job_title:"Enter your job title",monthly_income:"Enter monthly income in SAR",years_employed:"Years with current employer",property_type:"Select property type",property_ownership:"Select ownership type",roof_size:"Roof area in square meters",electricity_consumption:"Select consumption range",electricity_meter_number:"Enter meter number",monthly_electricity_bill:"Average monthly bill in SAR",desired_system_size:"Desired capacity in kW",budget_range:"Select budget range",installation_timeline:"Preferred installation timeframe",financing_preference:"Select financing option",special_requirements:"Any special requirements or notes",preferred_language:"Select preferred language"}},activity:{title:"Recent Activity",noActivity:"No recent activity",getStarted:"Start using RABHAN to see your activity here"}},du={pageNotFound:"Page Not Found",somethingWentWrong:"Something went wrong",tryAgain:"Try again",goHome:"Go Home",networkError:"Network error",loginFailed:"Login failed. Please try again.",serverError:"Server error",unauthorizedAccess:"Unauthorized access",forbiddenAccess:"Forbidden access",sessionExpired:"Session expired"},uu={sama:"SAMA Compliant",pdpl:"PDPL Compliant",dataProtection:"Your data is protected",secureConnection:"Secure connection",privacy:"Privacy protected",auditTrail:"Full audit trail",compliance:"Regulatory compliance"},pu={title:"Solar Calculator",subtitle:"Calculate your solar savings instantly",selectClientType:"Select Client Type",residential:"Residential",commercial:"Commercial",inputMethod:"Choose Input Method",monthlyUsage:"Monthly Usage (KWH)",monthlyBill:"Monthly Bill (SAR)",enterValue:"Enter Value",monthlyConsumption:"Monthly Electricity Consumption (KWH)",monthlyElectricityBill:"Monthly Electricity Bill (SAR)",enterKWH:"Enter KWH (minimum 6,000)",enterSAR:"Enter SAR",enterUsageDesc:"Enter your electricity usage",enterBillDesc:"Enter your current bill amount",paymentPeriod:"Payment Period",months:"months",calculating:"Calculating...",calculateSolarSavings:"Calculate Solar Savings",clientType:{residential:"Residential",commercial:"Commercial"},systemCalculated:"🌟 Your Solar Journey Starts Here!",personalizedSolution:"Discover the perfect solar solution tailored just for you - start saving today!",systemSize:"System Size",systemPrice:"System Price",monthlyPayment:"Monthly Payment",lifetimeSavings:"Lifetime Savings",roi:"ROI",financialBreakdown:"Financial Breakdown",downloadReport:"Download Report",recalculate:"Recalculate",getQuote:"Get Quote",results:{title:"🌟 Your Solar Journey Starts Here!",subtitle:"Discover the perfect solar solution tailored just for you - start saving today!",systemSize:"System Size",systemPrice:"System Price",monthlyPayment:"Monthly Payment",roi:"ROI",financialBreakdown:"Financial Breakdown",downloadReport:"Download Report",recalculate:"Recalculate",getQuote:"Get Quote"},consumptionHint:"Enter between 6,000 - 24,000 KWH",billHint:"Minimum {{min}} SAR",validation:{consumptionRequired:"Monthly consumption is required",consumptionMustBeNumber:"Monthly consumption must be a valid number",consumptionMinimum:"Monthly consumption must be at least 6,000 KWH",consumptionMaximum:"Monthly consumption cannot exceed 24,000 KWH",billRequired:"Monthly bill is required",billMustBeNumber:"Monthly bill must be a valid number",billMinimum:"Monthly bill must be at least {{min}} SAR"},error:"Error",validationError:"Please check your inputs",calculationFailed:"Calculation failed. Please try again.",averageElectricityBill:"Average Electricity Monthly Bill",averageMonthlyProduction:"Average Monthly Power Production",installmentOptions:{12:"12 months",18:"18 months",24:"24 months"},numberOfInstallments:"Number of Installments",calculatingMessage:"Calculating your solar savings...",calculatingSubtext:"This will take just a moment",benefits:{reduceBills:"Reduce Bills by 65%",cleanEnergy:"Clean Energy",bnplFinancing:"BNPL Financing"}},mu={badge:{contractor:"Contractor Portal"},dashboard:{loading:"Loading contractor dashboard...",welcome:"Welcome, {{name}}!",subtitle:"Manage your solar business with RABHAN",stats:{totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",totalRevenue:"Total Revenue",pendingPayments:"Pending Payments",averageRating:"Average Rating",reviews:"reviews",monthlyProjects:"This Month"},quickActions:{title:"Quick Actions",newProject:"Start New Project",manageProducts:"Manage Products",viewWallet:"View Wallet"},recentActivity:{title:"Recent Activity",noActivity:"No recent activity to display"}},verification:{verified:"Fully Verified",partial:"Partially Verified",pending:"Verification Pending"},sidebar:{dashboard:"Dashboard",projects:"Projects",quotes:"Quotes",marketplace:"Marketplace",wallet:"Wallet",documents:"Documents",profile:"Business Profile",logout:"Logout"},profile:{title:"Business Profile",businessProfile:"Business Profile Management",comingSoon:"Business profile management will be available soon.",completion:"Profile Completion",updateSuccess:"Business profile updated successfully",updateError:"Error updating business profile",languageUpdated:"Language preference updated successfully",defaultName:"Business Profile",verified:"Verified",pending:"Pending Verification",completionProgress:"Profile Completion",excellentProgress:"Excellent! Your profile is nearly complete and ready for business.",goodProgress:"Good progress! Complete a few more sections to enhance your profile.",completeProfile:"Complete your profile to unlock all contractor features.",verificationDescription:"Verification status is managed by RABHAN admin based on submitted documents",verificationLevel:"Verification Level",adminControlled:"This field is controlled by admin",securityNote:"Security Notice",financialSecurityNote:"Financial information is encrypted and securely stored according to SAMA regulations",gettingLocation:"Getting Location...",getLocation:"Get My Location",locationSuccess:"Location retrieved successfully!",employees:"employees",tabs:{business:"Business Info",contact:"Contact Info",address:"Address",services:"Services",verification:"Verification",financial:"Financial",preferences:"Preferences"},sections:{title:"Profile Sections",businessInfo:"Business Information",contactInfo:"Contact Information",addressInfo:"Address Information",serviceInfo:"Service Information",verification:"Verification & Compliance",financialInfo:"Financial Information",preferences:"Preferences & Settings"},fields:{businessName:"Business Name",businessNameAr:"Business Name (Arabic)",businessType:"Business Type",establishedYear:"Established Year",crNumber:"CR Number",vatNumber:"VAT Number",website:"Website",description:"Business Description",descriptionAr:"Business Description (Arabic)",firstName:"First Name",lastName:"Last Name",email:"Email",phone:"Phone",businessPhone:"Business Phone",businessEmail:"Business Email",contactPerson:"Contact Person",contactPosition:"Contact Position",region:"Region",city:"City",district:"District",postalCode:"Postal Code",streetAddress:"Street Address",gpsLocation:"GPS Location",serviceCategories:"Service Categories",serviceAreas:"Service Areas",yearsExperience:"Years of Experience",employeeCount:"Employee Count",specializations:"Specializations",bankName:"Bank Name",customBankName:"Custom Bank Name",iban:"IBAN",accountHolderName:"Account Holder Name",preferredLanguage:"Preferred Language",emailNotifications:"Email Notifications",smsNotifications:"SMS Notifications",marketingConsent:"Marketing Communications"},placeholders:{businessName:"Enter business name",businessNameAr:"أدخل اسم الشركة",selectBusinessType:"Select business type",description:"Describe your business and services",descriptionAr:"اوصف أعمالك وخدماتك",firstName:"Enter first name",lastName:"Enter last name",contactPerson:"Main contact person",contactPosition:"Manager, Director, etc.",selectRegion:"Select region",city:"Enter city name",district:"Enter district",streetAddress:"Enter street address",latitude:"24.7136",longitude:"46.6753",serviceAreas:"Riyadh, Jeddah, Dammam",specializations:"Solar panels, Inverters, Batteries",addSpecialization:"Add specialization...",selectEmployeeCount:"Select employee count",bankName:"Saudi National Bank",customBankName:"Enter custom bank name",accountHolderName:"Company or individual name"},hints:{separateWithComma:"Separate multiple items with commas",tagInput:"Type and press Enter to add tags, or separate with commas. Use backspace to remove last tag."},businessTypes:{individual:"Individual",llc:"Limited Liability Company (LLC)",corporation:"Corporation",partnership:"Partnership"},serviceCategories:{residential_solar:"Residential Solar",commercial_solar:"Commercial Solar",industrial_solar:"Industrial Solar",maintenance:"Maintenance",consultation:"Consultation",design:"Design",installation:"Installation",monitoring:"Monitoring"},regions:{riyadh:"Riyadh",makkah:"Makkah",eastern:"Eastern Province",asir:"Asir",jazan:"Jazan",medina:"Medina",qassim:"Qassim",hail:"Hail",northern_borders:"Northern Borders",najran:"Najran",tabuk:"Tabuk",bahah:"Bahah",jouf:"Jouf"},verifications:{sama:"SAMA Verified",nafath:"NAFATH Verified",saso:"SASO Certified",sec:"SEC Licensed"},verificationStatuses:{sama:"Saudi Arabian Monetary Authority verification",nafath:"National unified digital identity verification",saso:"Saudi Standards Organization certification",sec:"Saudi Electricity Company license"}},projects:{title:"Project Management",management:"Project Management System",comingSoon:"Project management system will be available soon."},marketplace:{title:"Product Marketplace",productListing:"Product Listing Management",comingSoon:"Product listing management will be available soon."},quotes:{title:"Quote Management",management:"Quote Management System",comingSoon:"Quote management system will be available soon."},wallet:{title:"Financial Wallet",paymentTracking:"Payment Tracking & Wallet",comingSoon:"Payment tracking and wallet management will be available soon."}},hu={header:Kd,languages:Xd,navigation:Zd,common:Jd,countries:Qd,documents:eu,kyc:tu,registration:ru,auth:nu,form:ou,validation:su,phone:iu,theme:au,logout:lu,userApp:cu,errors:du,compliance:uu,solarCalculator:pu,contractorApp:mu},fu={login:"تسجيل الدخول",register:"إنشاء حساب",logout:"تسجيل الخروج",language:"اللغة",logoAlt:"شعار رابحان",tagline:"تمويل الطاقة الشمسية",dashboard:"لوحة التحكم"},gu={en:"English",ar:"العربية"},yu={home:"الرئيسية",about:"من نحن",services:"الخدمات",calculator:"حاسبة الطاقة الشمسية",contact:"اتصل بنا"},bu={loading:"جاري التحميل...",error:"خطأ",success:"نجح",close:"إغلاق",cancel:"إلغاء",confirm:"تأكيد",save:"حفظ",saving:"جاري الحفظ...",edit:"تعديل",delete:"حذف",search:"بحث",filter:"تصفية",sort:"ترتيب",next:"التالي",previous:"السابق",submit:"إرسال",reset:"إعادة تعيين",back:"عودة",yes:"نعم",no:"لا",enabled:"مفعل",disabled:"معطل",unknown:"غير معروف",optional:"اختياري"},xu={saudi_arabia:"المملكة العربية السعودية",india:"الهند"},vu={first_name:"الاسم الأول",last_name:"الاسم الأخير",first_name_placeholder:"أدخل اسمك الأول",last_name_placeholder:"أدخل اسمك الأخير",business_email:"البريد الإلكتروني التجاري",business_email_placeholder:"أدخل بريدك الإلكتروني التجاري",business_phone:"الهاتف التجاري",saudi_phone_hint:"أرقام الهواتف السعودية فقط (+966)",next_step:"الخطوة التالية",company_name:"اسم الشركة",company_name_placeholder:"أدخل اسم شركتك",cr_number:"رقم السجل التجاري",vat_number:"رقم ضريبة القيمة المضافة",password:"كلمة المرور",password_placeholder:"أدخل كلمة مرور قوية",confirm_password:"تأكيد كلمة المرور",confirm_password_placeholder:"أكد كلمة المرور",agree_to_terms:"أوافق على",terms_and_conditions:"الشروط والأحكام",and:"و",privacy_policy:"سياسة الخصوصية",back:"عودة",registering:"جاري التسجيل...",register_contractor:"تسجيل كمقاول"},wu={title:"إدارة المستندات",subtitle:{user:"إدارة مستندات التحقق من الهوية وتتبع حالة التحقق",contractor:"إدارة مستندات الأعمال ومتطلبات الامتثال"},tabs:{overview:"نظرة عامة",kyc_progress:"تقدم التحقق",upload:"رفع",manage:"إدارة"},stats:{total:"إجمالي المستندات",approved:"معتمد",pending:"في الانتظار",rejected:"مرفوض"},quick_actions:{title:"الإجراءات السريعة",upload_id:"رفع وثيقة الهوية",upload_id_desc:"رفع الهوية الوطنية أو جواز السفر",check_kyc:"فحص حالة التحقق",check_kyc_desc:"عرض تقدم التحقق من الهوية",manage_docs:"إدارة المستندات",manage_docs_desc:"عرض وتنظيم مستنداتك"},upload:{title:"رفع مستند",modal_title:"رفع مستند جديد",category:"فئة المستند",select_category:"اختر فئة المستند",drop_zone:{title:"اسحب الملفات هنا للرفع",subtitle:"أو انقر لاختيار الملفات"},supported_formats:"الصيغ المدعومة",max_size:"الحد الأقصى للحجم",upload_button:"رفع المستند",uploading:"جاري الرفع...",upload_another:"رفع آخر",new_document:"مستند جديد",validation_results:"نتائج التحقق",file_validation:"التحقق من الملف",virus_scan:"فحص الفيروسات",content_validation:"التحقق من المحتوى",security_validation:"التحقق الأمني",virus_scanning:"جاري فحص الفيروسات...",success:"تم رفع المستند بنجاح",error:{categories:"فشل في تحميل فئات المستندات",invalid_type:"نوع ملف غير صالح. يرجى رفع ملفات PDF أو JPEG أو PNG.",size_limit:"حجم الملف يتجاوز الحد الأقصى {{maxSize}}",generic:"فشل الرفع. يرجى المحاولة مرة أخرى."}},manager:{title:"مستنداتي",search_placeholder:"البحث في المستندات...",all_categories:"جميع الفئات",all_statuses:"جميع الحالات",loading:"جاري تحميل المستندات...",empty:{title:"لم يتم العثور على مستندات",description:"ارفع مستندك الأول للبدء"},pagination:{showing:"عرض {{start}}-{{end}} من {{total}} مستند"},download_success:"تم تحميل المستند بنجاح",delete_success:"تم حذف المستند بنجاح",delete_confirm:"هل أنت متأكد من حذف هذا المستند؟",error:{load_failed:"فشل في تحميل المستندات",download_failed:"فشل في تحميل المستند",delete_failed:"فشل في حذف المستند"}},status:{pending:"في الانتظار",processing:"قيد المعالجة",validated:"تم التحقق",approved:"معتمد",rejected:"مرفوض",expired:"منتهي الصلاحية",archived:"مؤرشف"}},ku={title:"تقدم التحقق من الهوية",subtitle:{user:"أكمل التحقق من هويتك للوصول إلى جميع الميزات",contractor:"أكمل التحقق من أعمالك لبدء تقديم الخدمات"},loading:"جاري تحميل حالة التحقق...",required:"مطلوب",stats:{completed:"مكتمل",remaining:"متبقي",uploaded:"مرفوع",progress:"التقدم"},progress:{overall:"التقدم العام"},status:{completed:"مكتمل",partial:"قيد التنفيذ",pending:"لم يبدأ"},upload_document:"رفع {{category}}",click_to_upload:"انقر لرفع المستند",upload:"رفع",reupload:"إعادة رفع",uploaded_on:"تم الرفع في {{date}}",next_steps:{title:"الخطوات التالية",upload_required:"رفع {{count}} مستندات مطلوبة",await_approval:"انتظار الموافقة على {{count}} مستندات",complete:"تم اكمال التحقق من هويتك!"},replace:"استبدال",download_document:"تحميل المستند",download_failed:"فشل التحميل",confirm_delete:"هل أنت متأكد من حذف هذا المستند؟",document_deleted:"تم حذف المستند بنجاح",delete_failed:"فشل في حذف المستند",delete_document:"حذف المستند",view:{cards:"بطاقات",table:"جدول"},table:{document:"المستند",category:"الفئة",status:"الحالة",uploaded:"تاريخ الرفع",size:"الحجم",actions:"الإجراءات"},verified:"تم التحقق",cannot_delete_verified:"لا يمكن حذف المستندات المُحققة من قبل الإدارة",replace_document:"استبدال المستند",no_documents:"لا توجد مستندات",no_documents_description:"ارفع مستندات للبدء",not_uploaded:"غير مُرفع",categories:{national_id:"الهوية الوطنية",address_proof:"إثبات العنوان",income_proof:"إثبات الدخل",bank_statement:"كشف حساب بنكي",salary_certificate:"شهادة راتب",utility_bill:"فاتورة المرافق",commercial_registration:"السجل التجاري",vat_certificate:"شهادة ضريبة القيمة المضافة",business_license:"رخصة تجارية"}},Su={title:"أهلاً بك في ربحان",subtitle:"منصة رابحة للجميع!",already_have_account:"لديك حساب بالفعل؟",login_here:"سجل الدخول هنا",registration_failed:"فشل التسجيل. يرجى المحاولة مرة أخرى.",user:{title:"تسجيل المستهلك",subtitle:"حوّل مقرك مع ربحان",joinButton:"انغمس في ربحان",benefits:{solarAnalysis:{title:"تقديرات الطاقة الذكية",description:"احصل على توصيات شمسية مخصصة بناءً على استهلاكك للطاقة ومواصفات سطح منزلك"},bnplFinancing:{title:"تمويل مرن",description:"اوصل إلى 5,000 ريال سعودي مع خيارات التمويل المتوافقة مع ساما والمصممة للمقيمين السعوديين"},preverified:{title:"موافقات فورية",description:"احصل على موافقات تمويل سريعة من خلال عمليتنا الرقمية المبسطة"},monitoring:{title:"مراقبة في الوقت الفعلي",description:"تتبع إنتاج الطاقة الشمسية والوفورات والأثر البيئي من خلال نظام المراقبة المتقدم"}}},contractor:{title:"تسجيل البائع والمقاول",subtitle:"نمِّ أعمالك مع ربحان",joinButton:"انضم لشبكة ربحان",firstName_placeholder:"أدخل اسمك الأول",lastName_placeholder:"أدخل اسمك الأخير",companyName_placeholder:"أدخل اسم شركتك",businessEmail_placeholder:"البريد الإلكتروني التجاري",password_placeholder:"أنشئ كلمة مرور قوية",confirmPassword_placeholder:"أكد كلمة المرور",crNumber_placeholder:"1010123456",vatNumber_placeholder:"300123456789003",crNumber_tooltip:"رقم السجل التجاري السعودي (10 أرقام، يبدأ بـ 10/20/30/40)",vatNumber_tooltip:"رقم ضريبة القيمة المضافة السعودي (15 رقماً، يبدأ وينتهي بـ 3)",benefits:{marketplace:{title:"سوق رقمي",description:"اعرض خدماتك ومنتجاتك لآلاف العملاء المحتملين في جميع أنحاء المملكة العربية السعودية"},matching:{title:"مطابقة العملاء الذكية",description:"احصل على مطابقة مع العملاء بناءً على خبرتك وموقعك وعروض الخدمة"},analytics:{title:"تحليلات الأعمال",description:"احصل على رؤى شاملة حول أدائك ورضا العملاء واتجاهات السوق"},certification:{title:"الاعتماد والتحقق",description:"بناء الثقة مع العملاء من خلال عملية التحقق والاعتماد الشاملة"}}}},ju={welcome:"مرحباً بك في رابحان",subtitle:"شريكك في تمويل الطاقة الشمسية",loginTitle:"تسجيل الدخول إلى حسابك",registerTitle:"إنشاء حسابك",loginSubtitle:"مرحباً بعودتك! يرجى إدخال بياناتك.",registerSubtitle:"انضم إلى الآلاف من الأسر السعودية التي تستخدم الطاقة الشمسية",email:"البريد الإلكتروني",emailPlaceholder:"أدخل عنوان بريدك الإلكتروني",password:"كلمة المرور",forgotPassword:"هل نسيت كلمة المرور؟",rememberMe:"تذكرني",loginButton:"تسجيل الدخول",noAccount:"ليس لديك حساب؟",signUpHere:"سجل هنا",login:{title:"تسجيل الدخول إلى حسابك",subtitle:"أهلاً بك في منصة رابحان للطاقة الشمسية",email:"البريد الإلكتروني",password:"كلمة المرور",forgotPassword:"نسيت كلمة المرور؟",loginButton:"تسجيل الدخول",noAccount:"ليس لديك حساب؟",signUp:"إنشاء حساب"},orContinueWith:"أو الاستمرار بـ",firebaseLogin:"تسجيل الدخول بجوجل",alreadyHaveAccount:"لديك حساب بالفعل؟",signInHere:"سجل الدخول هنا",userType:"فئة المستهلك",validation:{emailRequired:"البريد الإلكتروني مطلوب",emailInvalid:"يرجى إدخال بريد إلكتروني صالح",passwordRequired:"كلمة المرور مطلوبة",passwordMinLength:"كلمة المرور يجب أن تكون 8 أحرف على الأقل",userTypeRequired:"يرجى اختيار فئة المستهلك"},userTypes:{USER:"عميل",CONTRACTOR:"مقاول",HOMEOWNER:"سكني",BUSINESS:"تجاري",INDUSTRIAL:"صناعي",GOVERNMENT:"حكومي"},register:{title:"إنشاء حساب جديد",subtitle:"انضم إلى منصة رابحان للطاقة الشمسية",firstName:"الاسم الأول",lastName:"الاسم الأخير",email:"البريد الإلكتروني",password:"كلمة المرور",confirmPassword:"تأكيد كلمة المرور",phone:"رقم الهاتف",nationalId:"رقم الهوية الوطنية",agreeTerms:"أوافق على شروط الخدمة وسياسة الخصوصية",registerButton:"إنشاء الحساب",hasAccount:"لديك حساب بالفعل؟",signIn:"تسجيل الدخول",createAccount:"إنشاء الحساب",firstNamePlaceholder:"أدخل اسمك الأول",lastNamePlaceholder:"أدخل اسمك الأخير",emailPlaceholder:"أدخل بريدك الإلكتروني",phonePlaceholder:"5XXXXXXXX",nationalIdPlaceholder:"رقم الهوية الوطنية السعودية (10 أرقام)",passwordPlaceholder:"أدخل كلمة مرور قوية",confirmPasswordPlaceholder:"تأكيد كلمة المرور",sendOTP:"إرسال رمز",sending:"جاري الإرسال...",resend:"إعادة إرسال",verify:"تحقق",verifying:"جاري التحقق...",verified:"محقق",otpPlaceholder:"أدخل رمز التحقق",steps:{personal:"شخصي",contact:"تواصل",address:"العنوان",security:"أمان",documents:"الوثائق",verification:"مراجعة",personalTitle:"المعلومات الشخصية والتواصل",contactTitle:"معلومات التواصل",addressTitle:"معلومات العنوان",securityTitle:"إعدادات الأمان",documentsTitle:"رفع الوثائق",verificationTitle:"مراجعة وتأكيد",verificationDescription:"يرجى مراجعة معلوماتك قبل إنشاء حسابك. يمكنك العودة لإجراء تغييرات إذا لزم الأمر."},summary:{title:"ملخص الحساب",name:"الاسم الكامل",email:"البريد الإلكتروني",phone:"الهاتف",nationalId:"رقم الهوية"},passwordHints:{title:"متطلبات كلمة المرور",length:"8 أحرف على الأقل",uppercase:"حرف كبير واحد (A-Z)",lowercase:"حرف صغير واحد (a-z)",number:"رقم واحد (0-9)",special:"رمز خاص واحد (!@#$%^&*)"},enterOTP:"أدخل رمز التحقق",otpSentTo:"تم إرسال رمز التحقق إلى",validation:{firstName_required:"الاسم الأول مطلوب",lastNameRequired:"الاسم الأخير مطلوب",regionRequired:"المنطقة مطلوبة",cityRequired:"المدينة مطلوبة",postalCodeRequired:"الرمز البريدي مطلوب",propertyTypeRequired:"نوع العقار مطلوب",propertyOwnershipRequired:"ملكية العقار مطلوبة",roofSizeRequired:"مساحة السطح مطلوبة",electricityConsumptionRequired:"استهلاك الكهرباء مطلوب",meterNumberRequired:"رقم العداد مطلوب",employmentStatusRequired:"الحالة الوظيفية مطلوبة",nameMaxLength:"{{field}} يجب أن يكون 25 حرفاً أو أقل",nameInvalid:"{{field}} يمكن أن يحتوي على أحرف ومسافات فقط",regionInvalid:"يرجى اختيار منطقة صالحة",emailRequired:"البريد الإلكتروني مطلوب",emailMaxLength:"البريد الإلكتروني يجب أن يكون 50 حرفاً أو أقل",emailInvalid:"يرجى إدخال بريد إلكتروني صحيح",passwordRequired:"كلمة المرور مطلوبة",passwordMinLength:"كلمة المرور يجب أن تكون 8 أحرف على الأقل",passwordMaxLength:"كلمة المرور يجب أن تكون 25 حرفاً أو أقل",passwordWeak:"كلمة المرور يجب أن تحتوي على أحرف كبيرة وصغيرة ورقم",passwordMismatch:"كلمات المرور غير متطابقة",agreeTermsRequired:"يجب الموافقة على الشروط والأحكام",phoneInvalid:"الهاتف يجب أن يكون بصيغة سعودية (+966) أو هندية (+91)",phoneRequired:"رقم الهاتف مطلوب",phoneSaudiStart:"أرقام الهواتف السعودية يجب أن تبدأ بـ 5",phoneIndianStart:"أرقام الهواتف الهندية يجب أن تبدأ بـ 6 أو 7 أو 8 أو 9",phoneNotVerified:"رقم الهاتف يجب أن يكون محققاً",nationalIdInvalid:"رقم الهوية يجب أن يكون 10 أرقام يبدأ بـ 1 أو 2",nameRequired:"{{field}} مطلوب",districtRequired:"الحي مطلوب",streetAddressRequired:"عنوان الشارع مطلوب"}}},_u={nameMinLength:"الاسم يجب أن يكون حرفين على الأقل",nameMaxLength:"الاسم يجب أن يكون 25 حرفاً أو أقل",nameInvalid:"الاسم يمكن أن يحتوي على أحرف ومسافات فقط",phoneFormat:"الهاتف يجب أن يبدأ بـ +966",phoneLength:"الهاتف يجب أن يكون 13 رقماً (+966xxxxxxxxx)",nationalIdLength:"الهوية الوطنية يجب أن تكون 10 أرقام بالضبط",nationalIdStart:"الهوية الوطنية يجب أن تبدأ بـ 1 أو 2",cityMinLength:"المدينة يجب أن تكون حرفين على الأقل",cityMaxLength:"المدينة يجب أن تكون 30 حرفاً أو أقل",streetMinLength:"عنوان الشارع يجب أن يكون 5 أحرف على الأقل",streetMaxLength:"عنوان الشارع يجب أن يكون 50 حرفاً أو أقل",postalCodeLength:"الرمز البريدي يجب أن يكون 5 أرقام بالضبط",incomeMinimum:"الدخل الشهري يجب أن يكون 3,000 ريال سعودي على الأقل",incomeMaximum:"الدخل الشهري لا يمكن أن يتجاوز 9,999,999 ريال سعودي",yearsMaximum:"سنوات العمل لا يمكن أن تتجاوز 50 سنة",dependentsMaximum:"عدد المعالين لا يمكن أن يتجاوز 20",roofSizeMinimum:"مساحة السطح يجب أن تكون 10 متر مربع على الأقل",roofSizeMaximum:"مساحة السطح لا يمكن أن تتجاوز 10,000 متر مربع",meterNumberMinLength:"رقم العداد يجب أن يكون 6 أحرف على الأقل",meterNumberMaxLength:"رقم العداد لا يمكن أن يتجاوز 15 حرفاً",employerMinLength:"اسم صاحب العمل يجب أن يكون حرفين على الأقل",jobTitleMinLength:"المسمى الوظيفي يجب أن يكون حرفين على الأقل",validInput:"صحيح",saving:"جاري الحفظ...",firstName_required:"الاسم الأول مطلوب",lastName_required:"الاسم الأخير مطلوب",email_required:"البريد الإلكتروني مطلوب",email_invalid:"يرجى إدخال بريد إلكتروني صالح",phone_required:"رقم الهاتف مطلوب",phone_invalid:"يرجى إدخال رقم هاتف سعودي صالح",password_required:"كلمة المرور مطلوبة",password_min_length:"كلمة المرور يجب أن تكون 8 أحرف على الأقل",confirm_password_required:"يرجى تأكيد كلمة المرور",passwords_dont_match:"كلمات المرور غير متطابقة",company_name_required:"اسم الشركة مطلوب",agree_to_terms_required:"يجب الموافقة على الشروط والأحكام",email_already_registered:"هذا البريد الإلكتروني مسجل بالفعل",phone_already_registered:"رقم الهاتف هذا مسجل بالفعل",firstName_minLength:"الاسم الأول يجب أن يكون حرفين على الأقل",firstName_maxLength:"الاسم الأول يجب أن يكون أقل من 50 حرفاً",firstName_invalid:"الاسم الأول يمكن أن يحتوي على أحرف ومسافات وواصلات فقط",firstName_spaces:"الاسم الأول لا يمكن أن يبدأ أو ينتهي بمسافات",firstName_consecutive:"الاسم الأول لا يمكن أن يحتوي على مسافات متتالية",lastName_minLength:"الاسم الأخير يجب أن يكون حرفين على الأقل",lastName_maxLength:"الاسم الأخير يجب أن يكون أقل من 50 حرفاً",lastName_invalid:"الاسم الأخير يمكن أن يحتوي على أحرف ومسافات وواصلات فقط",lastName_spaces:"الاسم الأخير لا يمكن أن يبدأ أو ينتهي بمسافات",lastName_consecutive:"الاسم الأخير لا يمكن أن يحتوي على مسافات متتالية",email_maxLength:"عنوان البريد الإلكتروني يجب أن يكون أقل من 100 حرف",email_business:"يرجى استخدام بريد إلكتروني تجاري (وليس شخصي)",email_consecutive:"البريد الإلكتروني لا يمكن أن يحتوي على نقاط متتالية",email_dots:"البريد الإلكتروني لا يمكن أن يبدأ أو ينتهي بنقطة",password_maxLength:"كلمة المرور يجب أن تكون أقل من 128 حرفاً",password_lowercase:"كلمة المرور يجب أن تحتوي على حرف صغير واحد على الأقل",password_uppercase:"كلمة المرور يجب أن تحتوي على حرف كبير واحد على الأقل",password_number:"كلمة المرور يجب أن تحتوي على رقم واحد على الأقل",password_special:"كلمة المرور يجب أن تحتوي على رمز خاص واحد على الأقل",password_spaces:"كلمة المرور لا يمكن أن تحتوي على مسافات",password_consecutive:"كلمة المرور لا يمكن أن تحتوي على أكثر من حرفين متطابقين متتاليين",password_common:"كلمة المرور شائعة جداً، يرجى اختيار كلمة مرور أقوى",confirm_password_mismatch:"كلمات المرور غير متطابقة",phone_business_required:"رقم هاتف العمل مطلوب",phone_saudi_invalid:"يرجى إدخال رقم جوال سعودي صحيح (5XXXXXXXX)",phone_indian_invalid:"أرقام الجوال الهندية يجب أن تبدأ بـ 6 أو 7 أو 8 أو 9",phone_must_verify:"يجب التحقق من رقم الهاتف قبل التسجيل",company_name_minLength:"اسم الشركة يجب أن يكون حرفين على الأقل",company_name_maxLength:"اسم الشركة يجب أن يكون أقل من 100 حرف",company_name_invalid:"اسم الشركة يحتوي على أحرف غير صالحة",company_name_spaces:"اسم الشركة لا يمكن أن يبدأ أو ينتهي بمسافات",company_name_consecutive:"اسم الشركة لا يمكن أن يحتوي على مسافات متتالية",cr_number_digits:"رقم السجل التجاري يجب أن يحتوي على أرقام فقط",cr_number_length:"رقم السجل التجاري يجب أن يكون 10 أرقام بالضبط",cr_number_start:"رقم السجل التجاري يجب أن يبدأ بـ 10 أو 20 أو 30 أو 40",vat_number_digits:"رقم ضريبة القيمة المضافة يجب أن يحتوي على أرقام فقط",vat_number_length:"رقم ضريبة القيمة المضافة يجب أن يكون 15 رقماً بالضبط",vat_number_format:"رقم ضريبة القيمة المضافة يجب أن يبدأ وينتهي بـ 3",terms_required:"يجب الموافقة على الشروط والأحكام للتسجيل",invalid_characters:"تم اكتشاف أحرف غير صالحة",names_identical:"الاسم الأول والأخير لا يمكن أن يكونا متطابقين",temp_email:"عناوين البريد الإلكتروني المؤقتة غير مسموحة",email_domain_invalid:"طول نطاق البريد الإلكتروني غير صالح",company_name_generic:"يرجى إدخال اسم شركتك الفعلي"},Cu={verification:{title:"التحقق من رقم الهاتف",description:"تحقق من رقم هاتفك لتأمين حسابك",success:"تم التحقق من رقم الهاتف بنجاح!",failed:"فشل التحقق من الهاتف. يرجى المحاولة مرة أخرى.",skip:"تخطي الآن",back:"تغيير رقم الهاتف"},otp:{title:"التحقق من الرمز",label:"رمز التحقق",description:"أدخل الرمز المكون من 6 أرقام المرسل إلى {{phone}}",hint:"أدخل الرمز المكون من 6 أرقام من الرسالة النصية",send:"إرسال الرمز",sending:"جاري الإرسال...",sent:"تم إرسال رمز التحقق بنجاح!",verify:"تحقق من الرمز",verifying:"جاري التحقق...",resend:"إعادة إرسال الرمز",resendIn:"إعادة الإرسال خلال {{seconds}} ثانية","resend.countdown":"إعادة الإرسال خلال {{seconds}} ثانية","send.failed":"فشل في إرسال رمز التحقق",error:"فشل في إرسال الرمز",invalid:"رمز التحقق غير صحيح",validation:{length:"يرجى إدخال رمز مكون من 6 أرقام"}},country:{label:"الدولة",placeholder:"اختر دولتك"},number:{label:"رقم الهاتف"},format:{example:"مثال على التنسيق"},validation:{required:"رقم الهاتف مطلوب",invalid:"يرجى إدخال رقم هاتف صحيح"}},Tu={title:"قالب رابحان المهني",subtitle:"قالب احترافي بتدرجات خفيفة مع رسوم متحركة وتأثيرات زجاجية",features:{waveAnimations:"رسوم متحركة موجية",glassmorphism:"تأثيرات زجاجية",improvedHover:"تحسينات التفاعل",shimmer:"تأثيرات اللمعان",float:"رسوم متحركة عائمة",responsive:"تصميم متجاوب للهاتف المحمول"},ready:"نظام القالب جاهز 🌊✨"},Au={confirm:{title:"تأكيد تسجيل الخروج",message:"هل أنت متأكد من أنك تريد تسجيل الخروج من حسابك؟",messageWithName:"هل أنت متأكد من أنك تريد تسجيل الخروج، {{name}}؟",warning:{title:"ملاحظة مهمة",message:"ستحتاج إلى تسجيل الدخول مرة أخرى للوصول إلى حسابك ومتابعة استخدام خدمات رابحان."},cancel:"إلغاء",logout:"تسجيل الخروج"}},Pu={welcome:{title:"مرحباً، {{name}}!",subtitle:"أنت مسجل الدخول كـ {{userType}}"},status:{active:"نشط"},quickActions:{title:"إجراءات سريعة"},user:{solarCalculator:"حاسبة الطاقة الشمسية",viewFinancing:"عرض خيارات التمويل"},contractor:{viewProjects:"عرض المشاريع",viewApplications:"عرض الطلبات"},profile:{title:"الملف الشخصي",email:"البريد الإلكتروني",userType:"النوع",editProfile:"تعديل الملف الشخصي",personalInfo:"المعلومات الشخصية",addressInfo:"معلومات العنوان",propertyEmployment:"العقار والوظيفة",notProvided:"غير مقدم",completionTitle:"اكتمال الملف الشخصي",completionComplete:"ممتاز! ملفك الشخصي مكتمل.",completionAlmost:"تقريباً انتهيت! فقط بعض التفاصيل لإكمال ملفك الشخصي.",completionHalfway:"أنت في منتصف الطريق! أكمل ملفك الشخصي للحصول على خدمة أفضل.",completionStart:"ابدأ بإكمال معلومات ملفك الشخصي.",missingFields:"معلومات مفقودة",tabs:{personal:"شخصي",address:"العنوان",verification:"التحقق",employment:"التوظيف",property:"العقار",preferences:"التفضيلات"},selectSection:"اختر قسماً من القائمة لعرض وتعديل معلوماتك",dateOfBirth:"تاريخ الميلاد",maritalStatus:"الحالة الاجتماعية","maritalStatus.single":"أعزب","maritalStatus.married":"متزوج","maritalStatus.divorced":"مطلق","maritalStatus.widowed":"أرمل",dependents:"عدد المعالين",landmark:"معلم مميز",postalCode:"الرمز البريدي",gpsLatitude:"خط العرض GPS",gpsLongitude:"خط الطول GPS",locationInfo:"معلومات الموقع",getMyLocation:"احصل على موقعي",gettingLocation:"جاري الحصول على الموقع...",gpsCoordinates:"إحداثيات GPS",clickToGetLocation:"اضغط 'احصل على موقعي' للتعبئة التلقائية",locationSuccess:"تم الحصول على الموقع بنجاح!",locationError:"خطأ في الموقع",samaVerified:"تم التحقق من ساما",nafathVerified:"تم التحقق من نفاذ",jobTitle:"المسمى الوظيفي",yearsEmployed:"سنوات الخدمة",electricityConsumption:"الاستهلاك الشهري للكهرباء (كيلو واط/ساعة)",desiredSystemSize:"حجم النظام الشمسي المرغوب (كيلو واط)",budgetRange:"نطاق الميزانية (ريال سعودي)",installationTimeline:"الجدول الزمني للتركيب",financingPreference:"تفضيل التمويل",specialRequirements:"متطلبات خاصة",bnplMaxAmount:"الحد الأقصى للدفع بالتقسيط",bnplEligible:"مؤهل للدفع بالتقسيط",preferredLanguage:"اللغة المفضلة",emailNotifications:"إشعارات البريد الإلكتروني",smsNotifications:"إشعارات الرسائل النصية",marketingConsent:"التسويق عبر الاتصالات",samaLimit:"حد ساما",adminControlled:"يتحكم به المشرف",pendingAdminApproval:"في انتظار موافقة المشرف",placeholder:{first_name:"أدخل اسمك الأول",last_name:"أدخل اسم العائلة",phone:"أدخل رقم هاتفك",date_of_birth:"اختر تاريخ ميلادك",marital_status:"اختر حالتك الاجتماعية",dependents:"عدد المعالين",region:"اختر منطقتك",city:"أدخل مدينتك",district:"أدخل حيك",street_address:"أدخل عنوان الشارع",landmark:"أدخل معلماً مميزاً قريباً",postal_code:"أدخل الرمز البريدي المكون من 5 أرقام",gps_latitude:"إحداثي خط العرض GPS",gps_longitude:"إحداثي خط الطول GPS",national_id:"أدخل رقم الهوية الوطنية المكون من 10 أرقام",employment_status:"اختر حالة التوظيف",employer_name:"أدخل اسم جهة العمل",job_title:"أدخل مسماك الوظيفي",monthly_income:"أدخل راتبك الشهري بالريال السعودي",years_employed:"سنوات العمل مع جهة العمل الحالية",property_type:"اختر نوع العقار",property_ownership:"اختر نوع الملكية",roof_size:"مساحة السطح بالمتر المربع",electricity_consumption:"اختر نطاق الاستهلاك",electricity_meter_number:"أدخل رقم العداد",monthly_electricity_bill:"متوسط الفاتورة الشهرية بالريال السعودي",desired_system_size:"السعة المرغوبة بالكيلو واط",budget_range:"اختر نطاق الميزانية",installation_timeline:"الإطار الزمني المفضل للتركيب",financing_preference:"اختر خيار التمويل",special_requirements:"أي متطلبات خاصة أو ملاحظات",preferred_language:"اختر اللغة المفضلة"}},activity:{title:"النشاط الحديث",noActivity:"لا يوجد نشاط حديث",getStarted:"ابدأ باستخدام رابحان لرؤية نشاطك هنا"},sidebar:{dashboard:"لوحة التحكم",calculator:"حاسبة الطاقة الشمسية",financing:"التمويل",projects:"المشاريع",marketplace:"السوق",documents:"المستندات",settings:"الإعدادات",profile:"الملف الشخصي",logout:"تسجيل الخروج"}},Ru={pageNotFound:"الصفحة غير موجودة",somethingWentWrong:"حدث خطأ ما",tryAgain:"حاول مرة أخرى",goHome:"اذهب للرئيسية",networkError:"خطأ في الشبكة",loginFailed:"فشل تسجيل الدخول. يرجى المحاولة مرة أخرى.",serverError:"خطأ في الخادم",unauthorizedAccess:"وصول غير مصرح به",forbiddenAccess:"وصول محظور",sessionExpired:"انتهت صلاحية الجلسة"},Lu={sama:"متوافق مع ساما",pdpl:"متوافق مع نظام حماية البيانات",dataProtection:"بياناتك محمية",secureConnection:"اتصال آمن",privacy:"الخصوصية محمية",auditTrail:"سجل مراجعة كامل",compliance:"الامتثال التنظيمي"},Eu={title:"حاسبة الطاقة الشمسية",subtitle:"احسب مدخراتك من الطاقة الشمسية فوراً",selectClientType:"اختر نوع العميل",residential:"سكني",commercial:"تجاري",inputMethod:"اختر طريقة الإدخال",monthlyUsage:"الاستهلاك الشهري (كيلوواط ساعة)",monthlyBill:"الفاتورة الشهرية (ريال سعودي)",enterValue:"أدخل القيمة",monthlyConsumption:"استهلاك الكهرباء الشهري (كيلوواط ساعة)",monthlyElectricityBill:"فاتورة الكهرباء الشهرية (ريال سعودي)",enterKWH:"أدخل كيلوواط ساعة (الحد الأدنى 6,000)",enterSAR:"أدخل ريال سعودي",enterUsageDesc:"أدخل استهلاكك للكهرباء",enterBillDesc:"أدخل مبلغ فاتورتك الحالية",paymentPeriod:"فترة الدفع",months:"شهر",calculating:"جاري الحساب...",calculateSolarSavings:"احسب مدخرات الطاقة الشمسية",clientType:{residential:"سكني",commercial:"تجاري"},systemCalculated:"🌟 رحلتك الشمسية تبدأ هنا!",personalizedSolution:"اكتشف الحل الشمسي المثالي المصمم خصيصاً لك - ابدأ توفيرك اليوم!",systemSize:"حجم النظام",systemPrice:"سعر النظام",monthlyPayment:"الدفعة الشهرية",lifetimeSavings:"المدخرات مدى الحياة",roi:"العائد على الاستثمار",financialBreakdown:"التفصيل المالي",downloadReport:"تحميل التقرير",recalculate:"إعادة الحساب",getQuote:"احصل على عرض سعر",results:{title:"🌟 رحلتك الشمسية تبدأ هنا!",subtitle:"اكتشف الحل الشمسي المثالي المصمم خصيصاً لك - ابدأ توفيرك اليوم!",systemSize:"حجم النظام",systemPrice:"سعر النظام",monthlyPayment:"الدفعة الشهرية",roi:"العائد على الاستثمار",financialBreakdown:"التفصيل المالي",downloadReport:"تحميل التقرير",recalculate:"إعادة الحساب",getQuote:"احصل على عرض سعر"},consumptionHint:"أدخل بين 6,000 - 24,000 كيلوواط ساعة",billHint:"الحد الأدنى {{min}} ريال سعودي",validation:{consumptionRequired:"الاستهلاك الشهري مطلوب",consumptionMustBeNumber:"الاستهلاك الشهري يجب أن يكون رقماً صحيحاً",consumptionMinimum:"الاستهلاك الشهري يجب أن يكون 6,000 كيلوواط ساعة على الأقل",consumptionMaximum:"الاستهلاك الشهري لا يمكن أن يتجاوز 24,000 كيلوواط ساعة",billRequired:"الفاتورة الشهرية مطلوبة",billMustBeNumber:"الفاتورة الشهرية يجب أن تكون رقماً صحيحاً",billMinimum:"الفاتورة الشهرية يجب أن تكون {{min}} ريال سعودي على الأقل"},error:"خطأ",validationError:"يرجى التحقق من المدخلات",calculationFailed:"فشل الحساب. يرجى المحاولة مرة أخرى.",averageElectricityBill:"متوسط فاتورة الكهرباء الشهرية",averageMonthlyProduction:"متوسط الإنتاج الشهري للطاقة",installmentOptions:{12:"12 شهر",18:"18 شهر",24:"24 شهر"},numberOfInstallments:"عدد الأقساط",calculatingMessage:"جاري حساب مدخراتك من الطاقة الشمسية...",calculatingSubtext:"سيستغرق هذا لحظة واحدة فقط",benefits:{reduceBills:"تقليل الفواتير بنسبة 65%",cleanEnergy:"طاقة نظيفة",bnplFinancing:"تمويل بالتقسيط"}},Mu={badge:{contractor:"بوابة المقاولين"},dashboard:{loading:"جاري تحميل لوحة المقاول...",welcome:"مرحباً، {{name}}!",subtitle:"إدارة أعمالك في مجال الطاقة الشمسية مع رابحان",stats:{totalProjects:"إجمالي المشاريع",activeProjects:"المشاريع النشطة",completedProjects:"المشاريع المكتملة",totalRevenue:"إجمالي الإيرادات",pendingPayments:"الدفعات المعلقة",averageRating:"متوسط التقييم",reviews:"مراجعة",monthlyProjects:"هذا الشهر"},quickActions:{title:"الإجراءات السريعة",newProject:"بدء مشروع جديد",manageProducts:"إدارة المنتجات",viewWallet:"عرض المحفظة"},recentActivity:{title:"النشاط الأخير",noActivity:"لا توجد أنشطة حديثة للعرض"}},verification:{verified:"مُتحقق بالكامل",partial:"مُتحقق جزئياً",pending:"التحقق معلق"},sidebar:{dashboard:"لوحة التحكم",projects:"المشاريع",quotes:"عروض الأسعار",marketplace:"المتجر الإلكتروني",wallet:"المحفظة",documents:"المستندات",profile:"الملف التجاري",logout:"تسجيل الخروج"},profile:{title:"الملف التجاري",businessProfile:"إدارة الملف التجاري",comingSoon:"إدارة الملف التجاري ستكون متاحة قريباً.",completion:"اكتمال الملف الشخصي",updateSuccess:"تم تحديث الملف التجاري بنجاح",updateError:"خطأ في تحديث الملف التجاري",languageUpdated:"تم تحديث تفضيل اللغة بنجاح",defaultName:"الملف التجاري",verified:"مُتحقق",pending:"في انتظار التحقق",completionProgress:"اكتمال الملف الشخصي",excellentProgress:"ممتاز! ملفك الشخصي مكتمل تقريباً وجاهز للعمل.",goodProgress:"تقدم جيد! أكمل بعض الأقسام لتحسين ملفك الشخصي.",completeProfile:"أكمل ملفك الشخصي لفتح جميع ميزات المقاول.",verificationDescription:"حالة التحقق تدار بواسطة إدارة رابحان بناءً على المستندات المقدمة",verificationLevel:"مستوى التحقق",adminControlled:"هذا الحقل تحت سيطرة الإدارة",securityNote:"ملاحظة أمنية",financialSecurityNote:"المعلومات المالية مُشفرة ومُخزنة بأمان وفقاً لأنظمة ساما",gettingLocation:"جاري تحديد الموقع...",getLocation:"تحديد موقعي",locationSuccess:"تم تحديد الموقع بنجاح!",employees:"موظف",tabs:{business:"معلومات الشركة",contact:"معلومات الاتصال",address:"العنوان",services:"الخدمات",verification:"التحقق",financial:"المالية",preferences:"التفضيلات"},sections:{title:"أقسام الملف الشخصي",businessInfo:"معلومات الشركة",contactInfo:"معلومات الاتصال",addressInfo:"معلومات العنوان",serviceInfo:"معلومات الخدمات",verification:"التحقق والامتثال",financialInfo:"المعلومات المالية",preferences:"التفضيلات والإعدادات"},fields:{businessName:"اسم الشركة",businessNameAr:"اسم الشركة (عربي)",businessType:"نوع الشركة",establishedYear:"سنة التأسيس",crNumber:"رقم السجل التجاري",vatNumber:"الرقم الضريبي",website:"الموقع الإلكتروني",description:"وصف الشركة",descriptionAr:"وصف الشركة (عربي)",firstName:"الاسم الأول",lastName:"اسم العائلة",email:"البريد الإلكتروني",phone:"الهاتف",businessPhone:"هاتف الشركة",businessEmail:"بريد الشركة الإلكتروني",contactPerson:"شخص الاتصال",contactPosition:"منصب شخص الاتصال",region:"المنطقة",city:"المدينة",district:"الحي",postalCode:"الرمز البريدي",streetAddress:"عنوان الشارع",gpsLocation:"الموقع الجغرافي",serviceCategories:"فئات الخدمة",serviceAreas:"مناطق الخدمة",yearsExperience:"سنوات الخبرة",employeeCount:"عدد الموظفين",specializations:"التخصصات",bankName:"اسم البنك",customBankName:"اسم البنك المخصص",iban:"رقم الآيبان",accountHolderName:"اسم صاحب الحساب",preferredLanguage:"اللغة المفضلة",emailNotifications:"إشعارات البريد الإلكتروني",smsNotifications:"إشعارات الرسائل النصية",marketingConsent:"الاتصالات التسويقية"},placeholders:{businessName:"أدخل اسم الشركة",businessNameAr:"أدخل اسم الشركة بالعربية",selectBusinessType:"اختر نوع الشركة",description:"اوصف شركتك وخدماتك",descriptionAr:"اوصف شركتك وخدماتك بالعربية",firstName:"أدخل الاسم الأول",lastName:"أدخل اسم العائلة",contactPerson:"الشخص المسؤول عن التواصل",contactPosition:"مدير، مدير عام، إلخ",selectRegion:"اختر المنطقة",city:"أدخل اسم المدينة",district:"أدخل اسم الحي",streetAddress:"أدخل عنوان الشارع",latitude:"24.7136",longitude:"46.6753",serviceAreas:"الرياض، جدة، الدمام",specializations:"ألواح شمسية، عاكسات، بطاريات",addSpecialization:"إضافة تخصص...",selectEmployeeCount:"اختر عدد الموظفين",bankName:"البنك الأهلي السعودي",customBankName:"أدخل اسم البنك المخصص",accountHolderName:"اسم الشركة أو الشخص"},hints:{separateWithComma:"فصل عدة عناصر بفواصل",tagInput:"اكتب واضغط Enter لإضافة العلامات، أو فصل بفواصل. استخدم Backspace لإزالة العلامة الأخيرة."},businessTypes:{individual:"فردي",llc:"شركة ذات مسؤولية محدودة",corporation:"شركة مساهمة",partnership:"شراكة"},serviceCategories:{residential_solar:"الطاقة الشمسية السكنية",commercial_solar:"الطاقة الشمسية التجارية",industrial_solar:"الطاقة الشمسية الصناعية",maintenance:"الصيانة",consultation:"الاستشارة",design:"التصميم",installation:"التركيب",monitoring:"المراقبة"},regions:{riyadh:"الرياض",makkah:"مكة المكرمة",eastern:"المنطقة الشرقية",asir:"عسير",jazan:"جازان",medina:"المدينة المنورة",qassim:"القصيم",hail:"حائل",northern_borders:"الحدود الشمالية",najran:"نجران",tabuk:"تبوك",bahah:"الباحة",jouf:"الجوف"},verifications:{sama:"معتمد من ساما",nafath:"معتمد من نفاذ",saso:"معتمد من الساسو",sec:"مرخص من شركة الكهرباء"},verificationStatuses:{sama:"تحقق مؤسسة النقد العربي السعودي",nafath:"تحقق الهوية الرقمية الموحدة الوطنية",saso:"شهادة هيئة المواصفات والمقاييس السعودية",sec:"ترخيص شركة الكهرباء السعودية"}},projects:{title:"إدارة المشاريع",management:"نظام إدارة المشاريع",comingSoon:"نظام إدارة المشاريع سيكون متاحاً قريباً."},marketplace:{title:"متجر المنتجات",productListing:"إدارة قائمة المنتجات",comingSoon:"إدارة قائمة المنتجات ستكون متاحة قريباً."},quotes:{title:"إدارة عروض الأسعار",management:"نظام إدارة عروض الأسعار",comingSoon:"نظام إدارة عروض الأسعار سيكون متاحاً قريباً."},wallet:{title:"المحفظة المالية",paymentTracking:"تتبع المدفوعات والمحفظة",comingSoon:"تتبع المدفوعات وإدارة المحفظة ستكون متاحة قريباً."}},Iu={header:fu,languages:gu,navigation:yu,common:bu,countries:xu,form:vu,documents:wu,kyc:ku,registration:Su,auth:ju,validation:_u,phone:Cu,theme:Tu,logout:Au,userApp:Pu,errors:Ru,compliance:Lu,solarCalculator:Eu,contractorApp:Mu},Nu={en:{translation:hu},ar:{translation:Iu}};Cd.use($a).use(Td).init({resources:Nu,fallbackLng:"en",debug:!1,detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},interpolation:{escapeValue:!1},react:{useSuspense:!1}});const ct={primary:{50:"#f0fdfc",100:"#ccfdf9",200:"#99f9f3",300:"#5cecea",400:"#22d3db",500:"#3eb2b1",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},secondary:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},semantic:{success:{25:"#f0fdf4",50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",light:"#ecfdf5",main:"#10b981",dark:"#047857",contrast:"#ffffff"},warning:{25:"#fffcf5",50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",light:"#fffbeb",main:"#f59e0b",dark:"#d97706",contrast:"#ffffff"},error:{25:"#fffbfa",50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",light:"#fef2f2",main:"#ef4444",dark:"#dc2626",contrast:"#ffffff"},info:{25:"#f8fafc",50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",light:"#eff6ff",main:"#3b82f6",dark:"#2563eb",contrast:"#ffffff"}},neutral:{0:"#ffffff",50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a",1e3:"#000000"},gradients:{primary:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",primaryLight:"linear-gradient(135deg, #f0fdfc 0%, #ccfdf9 100%)",primaryDark:"linear-gradient(135deg, #0e7490 0%, #155e75 100%)",page:"linear-gradient(135deg, #f9fafb 0%, #ffffff 100%)",hero:"linear-gradient(135deg, #f0fdfc 0%, #ffffff 50%, #f9fafb 100%)",section:"linear-gradient(135deg, #f0fdfc 0%, #ffffff 100%)",glass:"linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.1) 100%)",glassHover:"linear-gradient(135deg, rgba(255, 255, 255, 0.35) 0%, rgba(255, 255, 255, 0.15) 100%)",card:"linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(249, 250, 251, 0.8) 100%)",cardHover:"linear-gradient(135deg, rgba(240, 253, 252, 0.9) 0%, rgba(204, 253, 249, 0.8) 100%)",button:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",buttonHover:"linear-gradient(135deg, #22d3db 0%, #5cecea 100%)",buttonSecondary:"linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)",buttonSecondaryHover:"linear-gradient(135deg, #f0fdfc 0%, #ccfdf9 100%)",success:"linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)",warning:"linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%)",error:"linear-gradient(135deg, #fef2f2 0%, #fecaca 100%)",info:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",wave:"linear-gradient(45deg, #3eb2b1 0%, #22d3db 25%, #5cecea 50%, #22d3db 75%, #3eb2b1 100%)",waveReverse:"linear-gradient(315deg, #3eb2b1 0%, #22d3db 25%, #5cecea 50%, #22d3db 75%, #3eb2b1 100%)",overlay:"linear-gradient(135deg, rgba(62, 178, 177, 0.03) 0%, rgba(34, 211, 219, 0.03) 100%)",modalOverlay:"linear-gradient(135deg, rgba(31, 41, 55, 0.4) 0%, rgba(31, 41, 55, 0.6) 100%)"},backgrounds:{primary:"#ffffff",secondary:"#f9fafb",tertiary:"#f3f4f6",surface:"#ffffff",overlay:"rgba(31, 41, 55, 0.7)",modal:"rgba(255, 255, 255, 0.98)"},text:{primary:"#111827",secondary:"#4b5563",tertiary:"#6b7280",disabled:"#9ca3af",inverse:"#ffffff",link:"#3eb2b1",gradient:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)"},borders:{light:"#e5e7eb",medium:"#d1d5db",heavy:"#9ca3af",focus:"#3eb2b1",error:"#ef4444",success:"#10b981"}},To={fonts:{primary:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},sizes:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"},weights:{thin:100,extralight:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900}},zu={0:"0px",1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",8:"2rem",10:"2.5rem",12:"3rem",16:"4rem",20:"5rem",24:"6rem",32:"8rem",40:"10rem",48:"12rem",56:"14rem",64:"16rem",components:{button:{padding:{sm:"0.5rem 1rem",md:"0.75rem 1.5rem",lg:"1rem 2rem",xl:"1.25rem 2.5rem"},gap:"0.5rem"},card:{padding:{sm:"1rem",md:"1.5rem",lg:"2rem",xl:"2.5rem"},gap:"1rem"},form:{fieldGap:"1rem",labelGap:"0.5rem",buttonGap:"1.5rem"},layout:{container:"1200px",section:"5rem",header:"4rem",footer:"3rem"}}},Ua={none:"0px",sm:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px",components:{button:"0.5rem",card:"1rem",modal:"1.5rem",input:"0.5rem"}},Ha={none:"none",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",primary:{sm:"0 1px 2px 0 rgba(62, 178, 177, 0.1)",md:"0 4px 6px -1px rgba(62, 178, 177, 0.15), 0 2px 4px -1px rgba(62, 178, 177, 0.1)",lg:"0 10px 15px -3px rgba(62, 178, 177, 0.2), 0 4px 6px -2px rgba(62, 178, 177, 0.1)",xl:"0 20px 25px -5px rgba(62, 178, 177, 0.2), 0 10px 10px -5px rgba(62, 178, 177, 0.1)","2xl":"0 25px 50px -12px rgba(62, 178, 177, 0.3)"},glow:{sm:"0 0 5px rgba(62, 178, 177, 0.3)",md:"0 0 10px rgba(62, 178, 177, 0.4)",lg:"0 0 20px rgba(62, 178, 177, 0.5)",xl:"0 0 40px rgba(62, 178, 177, 0.6)"},inner:{sm:"inset 0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"inset 0 2px 4px 0 rgba(0, 0, 0, 0.1)",lg:"inset 0 4px 8px 0 rgba(0, 0, 0, 0.15)"},components:{button:{default:"0 4px 6px -1px rgba(62, 178, 177, 0.15), 0 2px 4px -1px rgba(62, 178, 177, 0.1)",hover:"0 10px 15px -3px rgba(62, 178, 177, 0.2), 0 4px 6px -2px rgba(62, 178, 177, 0.1)",active:"inset 0 2px 4px 0 rgba(62, 178, 177, 0.2)"},card:{default:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",hover:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},modal:{backdrop:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",content:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},input:{default:"inset 0 1px 2px 0 rgba(0, 0, 0, 0.05)",focus:"0 0 0 3px rgba(62, 178, 177, 0.1)"},dropdown:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"}},w={colors:ct,typography:To,radius:Ua,shadows:Ha,responsive:{fluid:{xl:"clamp(1.25rem, 4vw, 1.5rem)"}},transitions:{fast:"150ms cubic-bezier(0.4, 0, 0.2, 1)",normal:"200ms cubic-bezier(0.4, 0, 0.2, 1)"},zIndex:{dropdown:1e3,sticky:1100,modal:1400},accessibility:{minTouchTarget:"48px"}},Bu=()=>{const e={};return Object.entries(ct.primary).forEach(([t,r])=>{e[`--color-primary-${t}`]=r}),Object.entries(ct.secondary).forEach(([t,r])=>{e[`--color-secondary-${t}`]=r}),Object.entries(ct.neutral).forEach(([t,r])=>{e[`--color-neutral-${t}`]=r}),Object.entries(ct.semantic).forEach(([t,r])=>{Object.entries(r).forEach(([n,s])=>{e[`--color-${t}-${n}`]=s})}),Object.entries(ct.backgrounds).forEach(([t,r])=>{e[`--color-background-${t}`]=r}),Object.entries(ct.text).forEach(([t,r])=>{e[`--color-text-${t}`]=r}),Object.entries(ct.borders).forEach(([t,r])=>{e[`--color-border-${t}`]=r}),Object.entries(ct.gradients).forEach(([t,r])=>{e[`--gradient-${t}`]=r}),Object.entries(To.sizes).forEach(([t,r])=>{e[`--font-size-${t}`]=r}),Object.entries(To.weights).forEach(([t,r])=>{e[`--font-weight-${t}`]=r.toString()}),Object.entries(zu).forEach(([t,r])=>{typeof r=="string"&&(e[`--spacing-${t}`]=r)}),Object.entries(Ua).forEach(([t,r])=>{typeof r=="string"&&(e[`--radius-${t}`]=r)}),Object.entries(Ha).forEach(([t,r])=>{typeof r=="string"&&(e[`--shadow-${t}`]=r)}),e},Du="/assets/rabhan_logo-0PZU2Ao5.svg",Ou=({isOpen:e,onConfirm:t,onCancel:r,userName:n})=>{const{t:s,i18n:a}=xe(),i=a.language==="ar";b.useEffect(()=>{const l=d=>{d.key==="Escape"&&e&&r()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[e,r]),b.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const c=l=>{l.target===l.currentTarget&&r()};return e?o.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"clamp(1rem, 3vw, 2rem)",zIndex:9999,animation:"fadeIn 200ms ease-out"},onClick:c,children:[o.jsxs("div",{style:{width:"100%",maxWidth:"420px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1), 0 0 80px rgba(62, 178, 177, 0.1)",padding:"clamp(2rem, 5vw, 2.5rem)",position:"relative",animation:"slideUp 200ms ease-out",direction:i?"rtl":"ltr",transform:"translateY(0)",margin:"auto"},onClick:l=>l.stopPropagation(),children:[o.jsx("button",{onClick:r,style:{position:"absolute",top:"1rem",right:i?"auto":"1rem",left:i?"1rem":"auto",width:"40px",height:"40px",border:"none",background:"rgba(107, 114, 128, 0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:w.transitions.fast,color:"#6b7280",fontSize:"1.25rem"},onMouseEnter:l=>{l.currentTarget.style.background="rgba(107, 114, 128, 0.2)"},onMouseLeave:l=>{l.currentTarget.style.background="rgba(107, 114, 128, 0.1)"},children:"×"}),o.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[o.jsx("h2",{style:{fontSize:w.responsive.fluid.xl,fontWeight:"600",color:"#1a1a1a",margin:0,marginBottom:"0.5rem",letterSpacing:"-0.025em",fontFamily:w.typography.fonts.primary},children:s("logout.confirm.title")}),o.jsx("p",{style:{fontSize:"1rem",color:"#6b7280",margin:0,lineHeight:1.5,textAlign:"center"},children:n?s("logout.confirm.messageWithName",{name:n}):s("logout.confirm.message")})]}),o.jsx("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px",padding:"1rem",marginBottom:"2rem"},children:o.jsxs("div",{children:[o.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#dc2626",fontWeight:"500",marginBottom:"0.25rem"},children:s("logout.confirm.warning.title")}),o.jsx("p",{style:{margin:0,fontSize:"0.8125rem",color:"#7f1d1d",lineHeight:1.4},children:s("logout.confirm.warning.message")})]})}),o.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexDirection:i?"row-reverse":"row"},children:[o.jsx("button",{onClick:r,style:{flex:1,padding:"0.875rem",background:"rgba(107, 114, 128, 0.1)",border:"1px solid rgba(107, 114, 128, 0.2)",borderRadius:"12px",color:"#374151",fontSize:"1rem",fontWeight:"500",fontFamily:w.typography.fonts.primary,cursor:"pointer",transition:w.transitions.fast,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onMouseEnter:l=>{l.currentTarget.style.background="rgba(107, 114, 128, 0.15)",l.currentTarget.style.borderColor="rgba(107, 114, 128, 0.3)",l.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:l=>{l.currentTarget.style.background="rgba(107, 114, 128, 0.1)",l.currentTarget.style.borderColor="rgba(107, 114, 128, 0.2)",l.currentTarget.style.transform="translateY(0)"},children:o.jsx("span",{children:s("logout.confirm.cancel")})}),o.jsx("button",{onClick:t,style:{flex:1,padding:"0.875rem",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",border:"none",borderRadius:"12px",color:"#ffffff",fontSize:"1rem",fontWeight:"600",fontFamily:w.typography.fonts.primary,cursor:"pointer",transition:w.transitions.fast,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.25)"},onMouseEnter:l=>{l.currentTarget.style.background="linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",l.currentTarget.style.transform="translateY(-1px)",l.currentTarget.style.boxShadow="0 6px 16px rgba(239, 68, 68, 0.35)"},onMouseLeave:l=>{l.currentTarget.style.background="linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",l.currentTarget.style.transform="translateY(0)",l.currentTarget.style.boxShadow="0 4px 12px rgba(239, 68, 68, 0.25)"},children:o.jsx("span",{children:s("logout.confirm.logout")})})]})]}),o.jsx("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          
          @keyframes slideUp {
            from { 
              opacity: 0; 
              transform: translateY(20px); 
            }
            to { 
              opacity: 1; 
              transform: translateY(0); 
            }
          }
        `})]}):null},Lr=({onLogin:e,onRegister:t,onShowCalculator:r,onHome:n,onDashboard:s,isAuthenticated:a=!1,user:i,onLogout:c})=>{const{t:l,i18n:d}=xe(),[u,p]=b.useState(!1),[h,m]=b.useState(!1),[g,x]=b.useState(!1),y=d.language,A=y==="ar",S=v=>{d.changeLanguage(v),p(!1),document.documentElement.dir=v==="ar"?"rtl":"ltr",document.documentElement.lang=v},f=[{code:"en",name:"English",flag:"🌐"},{code:"ar",name:"العربية",flag:"🌐"}];return o.jsxs("header",{style:{background:"#ffffff",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderBottom:`1px solid ${w.colors.borders.light}`,position:"sticky",top:0,zIndex:w.zIndex.sticky,width:"100%",boxShadow:w.shadows.md,direction:A?"rtl":"ltr"},children:[o.jsxs("div",{style:{width:"100%",maxWidth:"1400px",margin:"0 auto",padding:"0 clamp(1rem, 3vw, 2rem)",display:"flex",alignItems:"center",justifyContent:"space-between",height:"clamp(64px, 8vw, 80px)",boxSizing:"border-box"},children:[o.jsx("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"0.5rem",borderRadius:w.radius.lg},onClick:n,children:o.jsx("img",{src:Du,alt:l("header.logoAlt"),style:{width:"clamp(72px, 12vw, 120px)",height:"clamp(72px, 12vw, 120px)",borderRadius:w.radius.lg,objectFit:"contain",filter:"drop-shadow(0 6px 20px rgba(0,0,0,0.15))",transition:w.transitions.normal}})}),o.jsx("button",{onClick:()=>m(!h),style:{display:"none",background:"rgba(62, 178, 177, 0.08)",border:"1px solid rgba(62, 178, 177, 0.2)",cursor:"pointer",padding:"0.75rem",borderRadius:w.radius.lg,color:w.colors.text.primary,fontSize:"1.25rem",minHeight:w.accessibility.minTouchTarget,minWidth:w.accessibility.minTouchTarget,alignItems:"center",justifyContent:"center",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},className:"mobile-menu-button",onMouseEnter:v=>{v.currentTarget.style.background="rgba(62, 178, 177, 0.12)",v.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:v=>{v.currentTarget.style.background="rgba(62, 178, 177, 0.08)",v.currentTarget.style.transform="translateY(0)"},children:"☰"}),o.jsxs("nav",{style:{display:"flex",alignItems:"center",gap:"clamp(0.75rem, 2vw, 1.25rem)"},className:"desktop-nav",children:[o.jsxs("div",{style:{position:"relative"},children:[o.jsxs("button",{onClick:()=>p(!u),style:{background:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",padding:"clamp(0.5rem, 2vw, 0.75rem)",borderRadius:w.radius.sm,fontSize:"clamp(0.875rem, 2.5vw, 1rem)",color:w.colors.text.secondary,transition:w.transitions.normal,minHeight:w.accessibility.minTouchTarget},onMouseOver:v=>{v.currentTarget.style.background=w.colors.gradients.cardHover,v.currentTarget.style.color=w.colors.text.primary},onMouseOut:v=>{v.currentTarget.style.background="transparent",v.currentTarget.style.color=w.colors.text.secondary},children:[o.jsx("span",{style:{fontSize:"1.25rem"},children:f.find(v=>v.code===y)?.flag||"🌐"}),o.jsx("span",{children:f.find(v=>v.code===y)?.name||"English"}),o.jsx("span",{style:{fontSize:"0.75rem"},children:"▼"})]}),u&&o.jsx("div",{style:{position:"absolute",top:"100%",right:A?"auto":"0",left:A?"0":"auto",marginTop:"0.5rem",background:"#ffffff",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:w.radius.components.card,boxShadow:w.shadows.components.dropdown,border:`1px solid ${w.colors.borders.light}`,minWidth:"150px",zIndex:w.zIndex.dropdown,overflow:"hidden"},children:f.map(v=>o.jsxs("button",{onClick:()=>S(v.code),style:{width:"100%",padding:"0.75rem 1rem",background:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.75rem",fontSize:"0.875rem",color:y===v.code?w.colors.text.primary:w.colors.text.secondary,transition:w.transitions.normal,fontWeight:y===v.code?w.typography.weights.semibold:w.typography.weights.normal},onMouseOver:P=>{P.currentTarget.style.background=w.colors.gradients.cardHover,P.currentTarget.style.color=w.colors.text.primary},onMouseOut:P=>{P.currentTarget.style.background="transparent",P.currentTarget.style.color=y===v.code?w.colors.text.primary:w.colors.text.secondary},children:[o.jsx("span",{style:{fontSize:"1.125rem"},children:v.flag}),o.jsx("span",{children:v.name}),y===v.code&&o.jsx("span",{style:{marginLeft:"auto",color:w.colors.semantic.success.main},children:"✓"})]},v.code))})]}),r&&o.jsxs("button",{onClick:r,style:{background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",border:"none",color:"#ffffff",padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(1rem, 2.5vw, 1.25rem)",borderRadius:w.radius.lg,fontSize:"clamp(0.875rem, 2.5vw, 0.9375rem)",fontWeight:w.typography.weights.semibold,fontFamily:w.typography.fonts.primary,cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",minHeight:w.accessibility.minTouchTarget,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",boxShadow:"0 4px 12px rgba(62, 178, 177, 0.25)",position:"relative",overflow:"hidden",letterSpacing:"0.025em"},onMouseEnter:v=>{v.currentTarget.style.background="linear-gradient(135deg, #22d3db 0%, #5cecea 100%)",v.currentTarget.style.transform="translateY(-2px)",v.currentTarget.style.boxShadow="0 8px 20px rgba(62, 178, 177, 0.35)"},onMouseLeave:v=>{v.currentTarget.style.background="linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",v.currentTarget.style.transform="translateY(0)",v.currentTarget.style.boxShadow="0 4px 12px rgba(62, 178, 177, 0.25)"},children:[o.jsx("span",{children:"🔆"}),o.jsx("span",{children:l("navigation.calculator")})]}),a&&s&&o.jsxs("button",{onClick:s,style:{background:"rgba(62, 178, 177, 0.08)",border:"1px solid rgba(62, 178, 177, 0.2)",color:w.colors.text.primary,padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(1rem, 2.5vw, 1.25rem)",borderRadius:w.radius.lg,fontSize:"clamp(0.875rem, 2.5vw, 0.9375rem)",fontWeight:w.typography.weights.semibold,fontFamily:w.typography.fonts.primary,cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",minHeight:w.accessibility.minTouchTarget,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",position:"relative",overflow:"hidden",letterSpacing:"0.025em"},onMouseEnter:v=>{v.currentTarget.style.background="rgba(62, 178, 177, 0.12)",v.currentTarget.style.borderColor="rgba(62, 178, 177, 0.3)",v.currentTarget.style.transform="translateY(-1px)",v.currentTarget.style.boxShadow="0 4px 12px rgba(62, 178, 177, 0.15)"},onMouseLeave:v=>{v.currentTarget.style.background="rgba(62, 178, 177, 0.08)",v.currentTarget.style.borderColor="rgba(62, 178, 177, 0.2)",v.currentTarget.style.transform="translateY(0)",v.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{children:"📊"}),o.jsx("span",{children:l("header.dashboard")})]}),a&&i?o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(0.75rem, 2vw, 1rem)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",background:"rgba(62, 178, 177, 0.08)",borderRadius:w.radius.lg,border:"1px solid rgba(62, 178, 177, 0.2)"},children:[o.jsx("div",{style:{width:"32px",height:"32px",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1rem",color:"#ffffff"},children:i.role==="CONTRACTOR"?"🔧":"👤"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.125rem"},children:[o.jsx("span",{style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)",fontWeight:w.typography.weights.semibold,color:w.colors.text.primary,lineHeight:1,textAlign:A?"right":"left"},children:i.first_name&&i.last_name?`${i.first_name} ${i.last_name}`:i.first_name?i.first_name:i.last_name?i.last_name:i.email.split("@")[0]}),o.jsx("span",{style:{fontSize:"clamp(0.625rem, 1.5vw, 0.75rem)",color:w.colors.text.secondary,lineHeight:1,textAlign:A?"right":"left"},children:i.role==="CONTRACTOR"?l("auth.userTypes.CONTRACTOR"):l("auth.userTypes.USER")})]})]}),o.jsxs("button",{onClick:()=>x(!0),style:{background:"rgba(239, 68, 68, 0.08)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#dc2626",padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(1rem, 2.5vw, 1.25rem)",borderRadius:w.radius.lg,fontSize:"clamp(0.875rem, 2.5vw, 0.9375rem)",fontWeight:w.typography.weights.semibold,fontFamily:w.typography.fonts.primary,cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",minHeight:w.accessibility.minTouchTarget,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",letterSpacing:"0.025em"},onMouseEnter:v=>{v.currentTarget.style.background="rgba(239, 68, 68, 0.12)",v.currentTarget.style.borderColor="rgba(239, 68, 68, 0.3)",v.currentTarget.style.transform="translateY(-1px)",v.currentTarget.style.boxShadow="0 4px 12px rgba(239, 68, 68, 0.15)"},onMouseLeave:v=>{v.currentTarget.style.background="rgba(239, 68, 68, 0.08)",v.currentTarget.style.borderColor="rgba(239, 68, 68, 0.2)",v.currentTarget.style.transform="translateY(0)",v.currentTarget.style.boxShadow="none"},children:[o.jsx("span",{children:"🚪"}),o.jsx("span",{children:l("header.logout")})]})]}):o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"clamp(0.5rem, 1.5vw, 0.75rem)"},children:[o.jsx("button",{onClick:e,style:{background:"rgba(62, 178, 177, 0.08)",border:"1px solid rgba(62, 178, 177, 0.2)",color:w.colors.text.primary,padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(1.25rem, 3vw, 1.5rem)",borderRadius:w.radius.lg,fontSize:"clamp(0.875rem, 2.5vw, 0.9375rem)",fontWeight:w.typography.weights.semibold,fontFamily:w.typography.fonts.primary,cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",minHeight:w.accessibility.minTouchTarget,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",letterSpacing:"0.025em"},onMouseEnter:v=>{v.currentTarget.style.background="rgba(62, 178, 177, 0.12)",v.currentTarget.style.borderColor="rgba(62, 178, 177, 0.3)",v.currentTarget.style.transform="translateY(-1px)",v.currentTarget.style.boxShadow="0 4px 12px rgba(62, 178, 177, 0.15)"},onMouseLeave:v=>{v.currentTarget.style.background="rgba(62, 178, 177, 0.08)",v.currentTarget.style.borderColor="rgba(62, 178, 177, 0.2)",v.currentTarget.style.transform="translateY(0)",v.currentTarget.style.boxShadow="none"},children:l("header.login")}),o.jsx("button",{onClick:t,style:{background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",border:"none",color:"#ffffff",padding:"clamp(0.625rem, 2vw, 0.75rem) clamp(1.25rem, 3vw, 1.5rem)",borderRadius:w.radius.lg,fontSize:"clamp(0.875rem, 2.5vw, 0.9375rem)",fontWeight:w.typography.weights.semibold,fontFamily:w.typography.fonts.primary,cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",minHeight:w.accessibility.minTouchTarget,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(62, 178, 177, 0.25)",position:"relative",overflow:"hidden",letterSpacing:"0.025em"},onMouseEnter:v=>{v.currentTarget.style.background="linear-gradient(135deg, #22d3db 0%, #5cecea 100%)",v.currentTarget.style.transform="translateY(-2px)",v.currentTarget.style.boxShadow="0 8px 20px rgba(62, 178, 177, 0.35)"},onMouseLeave:v=>{v.currentTarget.style.background="linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",v.currentTarget.style.transform="translateY(0)",v.currentTarget.style.boxShadow="0 4px 12px rgba(62, 178, 177, 0.25)"},children:l("header.register")})]})]})]}),h&&o.jsx("div",{style:{background:"#ffffff",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderTop:`1px solid ${w.colors.borders.light}`,padding:"1rem",display:"none"},className:"mobile-menu",children:o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"1rem",fontWeight:w.typography.weights.medium},children:l("header.language")}),o.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:f.map(v=>o.jsxs("button",{onClick:()=>S(v.code),style:{background:y===v.code?w.colors.gradients.primary:"transparent",color:y===v.code?w.colors.text.inverse:w.colors.text.secondary,border:`1px solid ${y===v.code?"transparent":w.colors.borders.light}`,padding:"0.5rem",borderRadius:w.radius.sm,cursor:"pointer",fontSize:"0.875rem",fontWeight:w.typography.weights.medium,transition:w.transitions.normal,minHeight:w.accessibility.minTouchTarget},children:[v.flag," ",v.name]},v.code))})]}),r&&o.jsxs("button",{onClick:()=>{m(!1),r()},style:{background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",border:"none",color:"#ffffff",padding:"0.75rem 1rem",borderRadius:w.radius.lg,fontSize:"1rem",fontWeight:w.typography.weights.semibold,cursor:"pointer",transition:w.transitions.normal,minHeight:w.accessibility.minTouchTarget,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",boxShadow:"0 4px 12px rgba(62, 178, 177, 0.25)"},children:[o.jsx("span",{children:"🔆"}),o.jsx("span",{children:l("navigation.calculator")})]}),a&&s&&o.jsxs("button",{onClick:()=>{m(!1),s()},style:{background:"rgba(62, 178, 177, 0.08)",border:"1px solid rgba(62, 178, 177, 0.2)",color:w.colors.text.primary,padding:"0.75rem 1rem",borderRadius:w.radius.lg,fontSize:"1rem",fontWeight:w.typography.weights.semibold,cursor:"pointer",transition:w.transitions.normal,minHeight:w.accessibility.minTouchTarget,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[o.jsx("span",{children:"📊"}),o.jsx("span",{children:l("header.dashboard")})]}),a&&i?o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"rgba(62, 178, 177, 0.08)",borderRadius:w.radius.lg,border:"1px solid rgba(62, 178, 177, 0.2)"},children:[o.jsx("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem",color:"#ffffff"},children:i.role==="CONTRACTOR"?"🔧":"👤"}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontSize:"1rem",fontWeight:w.typography.weights.semibold,color:w.colors.text.primary,marginBottom:"0.25rem"},children:i.first_name&&i.last_name?`${i.first_name} ${i.last_name}`:i.first_name?i.first_name:i.last_name?i.last_name:i.email.split("@")[0]}),o.jsx("div",{style:{fontSize:"0.875rem",color:w.colors.text.secondary},children:i.role==="CONTRACTOR"?l("auth.userTypes.CONTRACTOR"):l("auth.userTypes.USER")})]})]}),o.jsx("button",{onClick:()=>x(!0),style:{background:"rgba(239, 68, 68, 0.08)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#dc2626",padding:"0.75rem 1rem",borderRadius:w.radius.lg,fontSize:"1rem",fontWeight:w.typography.weights.semibold,cursor:"pointer",transition:w.transitions.normal,minHeight:w.accessibility.minTouchTarget,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:l("header.logout")})]}):o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[o.jsx("button",{onClick:e,style:{background:"transparent",border:`1px solid ${w.colors.borders.medium}`,color:w.colors.text.primary,padding:"0.75rem 1rem",borderRadius:w.radius.components.button,fontSize:"1rem",fontWeight:w.typography.weights.medium,cursor:"pointer",transition:w.transitions.normal,minHeight:w.accessibility.minTouchTarget},children:l("header.login")}),o.jsx("button",{onClick:t,style:{background:w.colors.gradients.button,border:"none",color:w.colors.text.inverse,padding:"0.75rem 1rem",borderRadius:w.radius.components.button,fontSize:"1rem",fontWeight:w.typography.weights.medium,cursor:"pointer",transition:w.transitions.normal,minHeight:w.accessibility.minTouchTarget,boxShadow:w.shadows.primary.sm},children:l("header.register")})]})]})}),o.jsx(Ou,{isOpen:g,onConfirm:()=>{x(!1),c?.()},onCancel:()=>x(!1),userName:(()=>{if(i)return i.first_name&&i.last_name?`${i.first_name} ${i.last_name}`:i.first_name?i.first_name:i.last_name?i.last_name:i.email.split("@")[0]})()}),o.jsx("style",{children:`
          @media (max-width: 768px) {
            .desktop-nav {
              display: none !important;
            }
            .mobile-menu-button {
              display: flex !important;
            }
            .mobile-menu {
              display: block !important;
            }
          }
        `})]})};function qa(e,t){return function(){return e.apply(t,arguments)}}const{toString:Fu}=Object.prototype,{getPrototypeOf:is}=Object,{iterator:Pn,toStringTag:Ya}=Symbol,Rn=(e=>t=>{const r=Fu.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),rt=e=>(e=e.toLowerCase(),t=>Rn(t)===e),Ln=e=>t=>typeof t===e,{isArray:ur}=Array,_r=Ln("undefined");function Vu(e){return e!==null&&!_r(e)&&e.constructor!==null&&!_r(e.constructor)&&We(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ga=rt("ArrayBuffer");function Wu(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ga(e.buffer),t}const $u=Ln("string"),We=Ln("function"),Ka=Ln("number"),En=e=>e!==null&&typeof e=="object",Uu=e=>e===!0||e===!1,tn=e=>{if(Rn(e)!=="object")return!1;const t=is(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ya in e)&&!(Pn in e)},Hu=rt("Date"),qu=rt("File"),Yu=rt("Blob"),Gu=rt("FileList"),Ku=e=>En(e)&&We(e.pipe),Xu=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||We(e.append)&&((t=Rn(e))==="formdata"||t==="object"&&We(e.toString)&&e.toString()==="[object FormData]"))},Zu=rt("URLSearchParams"),[Ju,Qu,ep,tp]=["ReadableStream","Request","Response","Headers"].map(rt),rp=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Er(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),ur(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let c;for(n=0;n<i;n++)c=a[n],t.call(null,e[c],c,e)}}function Xa(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Nt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Za=e=>!_r(e)&&e!==Nt;function Ao(){const{caseless:e}=Za(this)&&this||{},t={},r=(n,s)=>{const a=e&&Xa(t,s)||s;tn(t[a])&&tn(n)?t[a]=Ao(t[a],n):tn(n)?t[a]=Ao({},n):ur(n)?t[a]=n.slice():t[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Er(arguments[n],r);return t}const np=(e,t,r,{allOwnKeys:n}={})=>(Er(t,(s,a)=>{r&&We(s)?e[a]=qa(s,r):e[a]=s},{allOwnKeys:n}),e),op=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),sp=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},ip=(e,t,r,n)=>{let s,a,i;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],(!n||n(i,e,t))&&!c[i]&&(t[i]=e[i],c[i]=!0);e=r!==!1&&is(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},ap=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},lp=e=>{if(!e)return null;if(ur(e))return e;let t=e.length;if(!Ka(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},cp=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&is(Uint8Array)),dp=(e,t)=>{const n=(e&&e[Pn]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},up=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},pp=rt("HTMLFormElement"),mp=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Hs=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),hp=rt("RegExp"),Ja=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Er(r,(s,a)=>{let i;(i=t(s,a,e))!==!1&&(n[a]=i||s)}),Object.defineProperties(e,n)},fp=e=>{Ja(e,(t,r)=>{if(We(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(We(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},gp=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return ur(e)?n(e):n(String(e).split(t)),r},yp=()=>{},bp=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function xp(e){return!!(e&&We(e.append)&&e[Ya]==="FormData"&&e[Pn])}const vp=e=>{const t=new Array(10),r=(n,s)=>{if(En(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const a=ur(n)?[]:{};return Er(n,(i,c)=>{const l=r(i,s+1);!_r(l)&&(a[c]=l)}),t[s]=void 0,a}}return n};return r(e,0)},wp=rt("AsyncFunction"),kp=e=>e&&(En(e)||We(e))&&We(e.then)&&We(e.catch),Qa=((e,t)=>e?setImmediate:t?((r,n)=>(Nt.addEventListener("message",({source:s,data:a})=>{s===Nt&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Nt.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",We(Nt.postMessage)),Sp=typeof queueMicrotask<"u"?queueMicrotask.bind(Nt):typeof process<"u"&&process.nextTick||Qa,jp=e=>e!=null&&We(e[Pn]),E={isArray:ur,isArrayBuffer:Ga,isBuffer:Vu,isFormData:Xu,isArrayBufferView:Wu,isString:$u,isNumber:Ka,isBoolean:Uu,isObject:En,isPlainObject:tn,isReadableStream:Ju,isRequest:Qu,isResponse:ep,isHeaders:tp,isUndefined:_r,isDate:Hu,isFile:qu,isBlob:Yu,isRegExp:hp,isFunction:We,isStream:Ku,isURLSearchParams:Zu,isTypedArray:cp,isFileList:Gu,forEach:Er,merge:Ao,extend:np,trim:rp,stripBOM:op,inherits:sp,toFlatObject:ip,kindOf:Rn,kindOfTest:rt,endsWith:ap,toArray:lp,forEachEntry:dp,matchAll:up,isHTMLForm:pp,hasOwnProperty:Hs,hasOwnProp:Hs,reduceDescriptors:Ja,freezeMethods:fp,toObjectSet:gp,toCamelCase:mp,noop:yp,toFiniteNumber:bp,findKey:Xa,global:Nt,isContextDefined:Za,isSpecCompliantForm:xp,toJSONObject:vp,isAsyncFn:wp,isThenable:kp,setImmediate:Qa,asap:Sp,isIterable:jp};function te(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}E.inherits(te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const el=te.prototype,tl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tl[e]={value:e}});Object.defineProperties(te,tl);Object.defineProperty(el,"isAxiosError",{value:!0});te.from=(e,t,r,n,s,a)=>{const i=Object.create(el);return E.toFlatObject(e,i,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),te.call(i,e.message,t,r,n,s),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const _p=null;function Po(e){return E.isPlainObject(e)||E.isArray(e)}function rl(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function qs(e,t,r){return e?e.concat(t).map(function(s,a){return s=rl(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function Cp(e){return E.isArray(e)&&!e.some(Po)}const Tp=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function Mn(e,t,r){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=E.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,y){return!E.isUndefined(y[x])});const n=r.metaTokens,s=r.visitor||u,a=r.dots,i=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(s))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(E.isDate(g))return g.toISOString();if(E.isBoolean(g))return g.toString();if(!l&&E.isBlob(g))throw new te("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(g)||E.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,x,y){let A=g;if(g&&!y&&typeof g=="object"){if(E.endsWith(x,"{}"))x=n?x:x.slice(0,-2),g=JSON.stringify(g);else if(E.isArray(g)&&Cp(g)||(E.isFileList(g)||E.endsWith(x,"[]"))&&(A=E.toArray(g)))return x=rl(x),A.forEach(function(f,v){!(E.isUndefined(f)||f===null)&&t.append(i===!0?qs([x],v,a):i===null?x:x+"[]",d(f))}),!1}return Po(g)?!0:(t.append(qs(y,x,a),d(g)),!1)}const p=[],h=Object.assign(Tp,{defaultVisitor:u,convertValue:d,isVisitable:Po});function m(g,x){if(!E.isUndefined(g)){if(p.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(g),E.forEach(g,function(A,S){(!(E.isUndefined(A)||A===null)&&s.call(t,A,E.isString(S)?S.trim():S,x,h))===!0&&m(A,x?x.concat(S):[S])}),p.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return m(e),t}function Ys(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function as(e,t){this._pairs=[],e&&Mn(e,this,t)}const nl=as.prototype;nl.append=function(t,r){this._pairs.push([t,r])};nl.toString=function(t){const r=t?function(n){return t.call(this,n,Ys)}:Ys;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Ap(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ol(e,t,r){if(!t)return e;const n=r&&r.encode||Ap;E.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=E.isURLSearchParams(t)?t.toString():new as(t,r).toString(n),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Gs{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(n){n!==null&&t(n)})}}const sl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Pp=typeof URLSearchParams<"u"?URLSearchParams:as,Rp=typeof FormData<"u"?FormData:null,Lp=typeof Blob<"u"?Blob:null,Ep={isBrowser:!0,classes:{URLSearchParams:Pp,FormData:Rp,Blob:Lp},protocols:["http","https","file","blob","url","data"]},ls=typeof window<"u"&&typeof document<"u",Ro=typeof navigator=="object"&&navigator||void 0,Mp=ls&&(!Ro||["ReactNative","NativeScript","NS"].indexOf(Ro.product)<0),Ip=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Np=ls&&window.location.href||"http://localhost",zp=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ls,hasStandardBrowserEnv:Mp,hasStandardBrowserWebWorkerEnv:Ip,navigator:Ro,origin:Np},Symbol.toStringTag,{value:"Module"})),Ne={...zp,...Ep};function Bp(e,t){return Mn(e,new Ne.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,a){return Ne.isNode&&E.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Dp(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Op(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function il(e){function t(r,n,s,a){let i=r[a++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),l=a>=r.length;return i=!i&&E.isArray(s)?s.length:i,l?(E.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!c):((!s[i]||!E.isObject(s[i]))&&(s[i]=[]),t(r,n,s[i],a)&&E.isArray(s[i])&&(s[i]=Op(s[i])),!c)}if(E.isFormData(e)&&E.isFunction(e.entries)){const r={};return E.forEachEntry(e,(n,s)=>{t(Dp(n),s,r,0)}),r}return null}function Fp(e,t,r){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Mr={transitional:sl,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=E.isObject(t);if(a&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return s?JSON.stringify(il(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Bp(t,this.formSerializer).toString();if((c=E.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Mn(c?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),Fp(t)):t}],transformResponse:[function(t){const r=this.transitional||Mr.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(i)throw c.name==="SyntaxError"?te.from(c,te.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ne.classes.FormData,Blob:Ne.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{Mr.headers[e]={}});const Vp=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wp=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||t[r]&&Vp[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Ks=Symbol("internals");function fr(e){return e&&String(e).trim().toLowerCase()}function rn(e){return e===!1||e==null?e:E.isArray(e)?e.map(rn):String(e)}function $p(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Up=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Zn(e,t,r,n,s){if(E.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!E.isString(t)){if(E.isString(n))return t.indexOf(n)!==-1;if(E.isRegExp(n))return n.test(t)}}function Hp(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function qp(e,t){const r=E.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,i){return this[n].call(this,t,s,a,i)},configurable:!0})})}let $e=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(c,l,d){const u=fr(l);if(!u)throw new Error("header name must be a non-empty string");const p=E.findKey(s,u);(!p||s[p]===void 0||d===!0||d===void 0&&s[p]!==!1)&&(s[p||l]=rn(c))}const i=(c,l)=>E.forEach(c,(d,u)=>a(d,u,l));if(E.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(E.isString(t)&&(t=t.trim())&&!Up(t))i(Wp(t),r);else if(E.isObject(t)&&E.isIterable(t)){let c={},l,d;for(const u of t){if(!E.isArray(u))throw TypeError("Object iterator must return a key-value pair");c[d=u[0]]=(l=c[d])?E.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}i(c,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=fr(t),t){const n=E.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return $p(s);if(E.isFunction(r))return r.call(this,s,n);if(E.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=fr(t),t){const n=E.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Zn(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(i){if(i=fr(i),i){const c=E.findKey(n,i);c&&(!r||Zn(n,n[c],c,r))&&(delete n[c],s=!0)}}return E.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||Zn(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return E.forEach(this,(s,a)=>{const i=E.findKey(n,a);if(i){r[i]=rn(s),delete r[a];return}const c=t?Hp(a):String(a).trim();c!==a&&delete r[a],r[c]=rn(s),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return E.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&E.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[Ks]=this[Ks]={accessors:{}}).accessors,s=this.prototype;function a(i){const c=fr(i);n[c]||(qp(s,i),n[c]=!0)}return E.isArray(t)?t.forEach(a):a(t),this}};$e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors($e.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});E.freezeMethods($e);function Jn(e,t){const r=this||Mr,n=t||r,s=$e.from(n.headers);let a=n.data;return E.forEach(e,function(c){a=c.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function al(e){return!!(e&&e.__CANCEL__)}function pr(e,t,r){te.call(this,e??"canceled",te.ERR_CANCELED,t,r),this.name="CanceledError"}E.inherits(pr,te,{__CANCEL__:!0});function ll(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new te("Request failed with status code "+r.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Yp(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Gp(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,i;return t=t!==void 0?t:1e3,function(l){const d=Date.now(),u=n[a];i||(i=d),r[s]=l,n[s]=d;let p=a,h=0;for(;p!==s;)h+=r[p++],p=p%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),d-i<t)return;const m=u&&d-u;return m?Math.round(h*1e3/m):void 0}}function Kp(e,t){let r=0,n=1e3/t,s,a;const i=(d,u=Date.now())=>{r=u,s=null,a&&(clearTimeout(a),a=null),e.apply(null,d)};return[(...d)=>{const u=Date.now(),p=u-r;p>=n?i(d,u):(s=d,a||(a=setTimeout(()=>{a=null,i(s)},n-p)))},()=>s&&i(s)]}const pn=(e,t,r=3)=>{let n=0;const s=Gp(50,250);return Kp(a=>{const i=a.loaded,c=a.lengthComputable?a.total:void 0,l=i-n,d=s(l),u=i<=c;n=i;const p={loaded:i,total:c,progress:c?i/c:void 0,bytes:l,rate:d||void 0,estimated:d&&c&&u?(c-i)/d:void 0,event:a,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(p)},r)},Xs=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Zs=e=>(...t)=>E.asap(()=>e(...t)),Xp=Ne.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ne.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ne.origin),Ne.navigator&&/(msie|trident)/i.test(Ne.navigator.userAgent)):()=>!0,Zp=Ne.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const i=[e+"="+encodeURIComponent(t)];E.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),E.isString(n)&&i.push("path="+n),E.isString(s)&&i.push("domain="+s),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Jp(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Qp(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function cl(e,t,r){let n=!Jp(t);return e&&(n||r==!1)?Qp(e,t):t}const Js=e=>e instanceof $e?{...e}:e;function $t(e,t){t=t||{};const r={};function n(d,u,p,h){return E.isPlainObject(d)&&E.isPlainObject(u)?E.merge.call({caseless:h},d,u):E.isPlainObject(u)?E.merge({},u):E.isArray(u)?u.slice():u}function s(d,u,p,h){if(E.isUndefined(u)){if(!E.isUndefined(d))return n(void 0,d,p,h)}else return n(d,u,p,h)}function a(d,u){if(!E.isUndefined(u))return n(void 0,u)}function i(d,u){if(E.isUndefined(u)){if(!E.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function c(d,u,p){if(p in t)return n(d,u);if(p in e)return n(void 0,d)}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(d,u,p)=>s(Js(d),Js(u),p,!0)};return E.forEach(Object.keys(Object.assign({},e,t)),function(u){const p=l[u]||s,h=p(e[u],t[u],u);E.isUndefined(h)&&p!==c||(r[u]=h)}),r}const dl=e=>{const t=$t({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:c}=t;t.headers=i=$e.from(i),t.url=ol(cl(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let l;if(E.isFormData(r)){if(Ne.hasStandardBrowserEnv||Ne.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((l=i.getContentType())!==!1){const[d,...u]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Ne.hasStandardBrowserEnv&&(n&&E.isFunction(n)&&(n=n(t)),n||n!==!1&&Xp(t.url))){const d=s&&a&&Zp.read(a);d&&i.set(s,d)}return t},em=typeof XMLHttpRequest<"u",tm=em&&function(e){return new Promise(function(r,n){const s=dl(e);let a=s.data;const i=$e.from(s.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:d}=s,u,p,h,m,g;function x(){m&&m(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function A(){if(!y)return;const f=$e.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),P={data:!c||c==="text"||c==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:f,config:e,request:y};ll(function(k){r(k),x()},function(k){n(k),x()},P),y=null}"onloadend"in y?y.onloadend=A:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(A)},y.onabort=function(){y&&(n(new te("Request aborted",te.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new te("Network Error",te.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let v=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||sl;s.timeoutErrorMessage&&(v=s.timeoutErrorMessage),n(new te(v,P.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,e,y)),y=null},a===void 0&&i.setContentType(null),"setRequestHeader"in y&&E.forEach(i.toJSON(),function(v,P){y.setRequestHeader(P,v)}),E.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),c&&c!=="json"&&(y.responseType=s.responseType),d&&([h,g]=pn(d,!0),y.addEventListener("progress",h)),l&&y.upload&&([p,m]=pn(l),y.upload.addEventListener("progress",p),y.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(u=f=>{y&&(n(!f||f.type?new pr(null,e,y):f),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const S=Yp(s.url);if(S&&Ne.protocols.indexOf(S)===-1){n(new te("Unsupported protocol "+S+":",te.ERR_BAD_REQUEST,e));return}y.send(a||null)})},rm=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(d){if(!s){s=!0,c();const u=d instanceof Error?d:this.reason;n.abort(u instanceof te?u:new pr(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,a(new te(`timeout ${t} of ms exceeded`,te.ETIMEDOUT))},t);const c=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=()=>E.asap(c),l}},nm=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},om=async function*(e,t){for await(const r of sm(e))yield*nm(r,t)},sm=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Qs=(e,t,r,n)=>{const s=om(e,t);let a=0,i,c=l=>{i||(i=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:d,value:u}=await s.next();if(d){c(),l.close();return}let p=u.byteLength;if(r){let h=a+=p;r(h)}l.enqueue(new Uint8Array(u))}catch(d){throw c(d),d}},cancel(l){return c(l),s.return()}},{highWaterMark:2})},In=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ul=In&&typeof ReadableStream=="function",im=In&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),pl=(e,...t)=>{try{return!!e(...t)}catch{return!1}},am=ul&&pl(()=>{let e=!1;const t=new Request(Ne.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ei=64*1024,Lo=ul&&pl(()=>E.isReadableStream(new Response("").body)),mn={stream:Lo&&(e=>e.body)};In&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!mn[t]&&(mn[t]=E.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new te(`Response type '${t}' is not supported`,te.ERR_NOT_SUPPORT,n)})})})(new Response);const lm=async e=>{if(e==null)return 0;if(E.isBlob(e))return e.size;if(E.isSpecCompliantForm(e))return(await new Request(Ne.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(E.isArrayBufferView(e)||E.isArrayBuffer(e))return e.byteLength;if(E.isURLSearchParams(e)&&(e=e+""),E.isString(e))return(await im(e)).byteLength},cm=async(e,t)=>{const r=E.toFiniteNumber(e.getContentLength());return r??lm(t)},dm=In&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:a,timeout:i,onDownloadProgress:c,onUploadProgress:l,responseType:d,headers:u,withCredentials:p="same-origin",fetchOptions:h}=dl(e);d=d?(d+"").toLowerCase():"text";let m=rm([s,a&&a.toAbortSignal()],i),g;const x=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let y;try{if(l&&am&&r!=="get"&&r!=="head"&&(y=await cm(u,n))!==0){let P=new Request(t,{method:"POST",body:n,duplex:"half"}),R;if(E.isFormData(n)&&(R=P.headers.get("content-type"))&&u.setContentType(R),P.body){const[k,I]=Xs(y,pn(Zs(l)));n=Qs(P.body,ei,k,I)}}E.isString(p)||(p=p?"include":"omit");const A="credentials"in Request.prototype;g=new Request(t,{...h,signal:m,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:A?p:void 0});let S=await fetch(g,h);const f=Lo&&(d==="stream"||d==="response");if(Lo&&(c||f&&x)){const P={};["status","statusText","headers"].forEach(q=>{P[q]=S[q]});const R=E.toFiniteNumber(S.headers.get("content-length")),[k,I]=c&&Xs(R,pn(Zs(c),!0))||[];S=new Response(Qs(S.body,ei,k,()=>{I&&I(),x&&x()}),P)}d=d||"text";let v=await mn[E.findKey(mn,d)||"text"](S,e);return!f&&x&&x(),await new Promise((P,R)=>{ll(P,R,{data:v,headers:$e.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:g})})}catch(A){throw x&&x(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new te("Network Error",te.ERR_NETWORK,e,g),{cause:A.cause||A}):te.from(A,A&&A.code,e,g)}}),Eo={http:_p,xhr:tm,fetch:dm};E.forEach(Eo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ti=e=>`- ${e}`,um=e=>E.isFunction(e)||e===null||e===!1,ml={getAdapter:e=>{e=E.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let a=0;a<t;a++){r=e[a];let i;if(n=r,!um(r)&&(n=Eo[(i=String(r)).toLowerCase()],n===void 0))throw new te(`Unknown adapter '${i}'`);if(n)break;s[i||"#"+a]=n}if(!n){const a=Object.entries(s).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(ti).join(`
`):" "+ti(a[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:Eo};function Qn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pr(null,e)}function ri(e){return Qn(e),e.headers=$e.from(e.headers),e.data=Jn.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ml.getAdapter(e.adapter||Mr.adapter)(e).then(function(n){return Qn(e),n.data=Jn.call(e,e.transformResponse,n),n.headers=$e.from(n.headers),n},function(n){return al(n)||(Qn(e),n&&n.response&&(n.response.data=Jn.call(e,e.transformResponse,n.response),n.response.headers=$e.from(n.response.headers))),Promise.reject(n)})}const hl="1.10.0",Nn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Nn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ni={};Nn.transitional=function(t,r,n){function s(a,i){return"[Axios v"+hl+"] Transitional option '"+a+"'"+i+(n?". "+n:"")}return(a,i,c)=>{if(t===!1)throw new te(s(i," has been removed"+(r?" in "+r:"")),te.ERR_DEPRECATED);return r&&!ni[i]&&(ni[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,i,c):!0}};Nn.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function pm(e,t,r){if(typeof e!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],i=t[a];if(i){const c=e[a],l=c===void 0||i(c,a,e);if(l!==!0)throw new te("option "+a+" must be "+l,te.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new te("Unknown option "+a,te.ERR_BAD_OPTION)}}const nn={assertOptions:pm,validators:Nn},ot=nn.validators;let Dt=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Gs,response:new Gs}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=$t(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&nn.assertOptions(n,{silentJSONParsing:ot.transitional(ot.boolean),forcedJSONParsing:ot.transitional(ot.boolean),clarifyTimeoutError:ot.transitional(ot.boolean)},!1),s!=null&&(E.isFunction(s)?r.paramsSerializer={serialize:s}:nn.assertOptions(s,{encode:ot.function,serialize:ot.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),nn.assertOptions(r,{baseUrl:ot.spelling("baseURL"),withXsrfToken:ot.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=a&&E.merge(a.common,a[r.method]);a&&E.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),r.headers=$e.concat(i,a);const c=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(l=l&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let u,p=0,h;if(!l){const g=[ri.bind(this),void 0];for(g.unshift.apply(g,c),g.push.apply(g,d),h=g.length,u=Promise.resolve(r);p<h;)u=u.then(g[p++],g[p++]);return u}h=c.length;let m=r;for(p=0;p<h;){const g=c[p++],x=c[p++];try{m=g(m)}catch(y){x.call(this,y);break}}try{u=ri.call(this,m)}catch(g){return Promise.reject(g)}for(p=0,h=d.length;p<h;)u=u.then(d[p++],d[p++]);return u}getUri(t){t=$t(this.defaults,t);const r=cl(t.baseURL,t.url,t.allowAbsoluteUrls);return ol(r,t.params,t.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(t){Dt.prototype[t]=function(r,n){return this.request($t(n||{},{method:t,url:r,data:(n||{}).data}))}});E.forEach(["post","put","patch"],function(t){function r(n){return function(a,i,c){return this.request($t(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}Dt.prototype[t]=r(),Dt.prototype[t+"Form"]=r(!0)});let mm=class fl{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const i=new Promise(c=>{n.subscribe(c),a=c}).then(s);return i.cancel=function(){n.unsubscribe(a)},i},t(function(a,i,c){n.reason||(n.reason=new pr(a,i,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new fl(function(s){t=s}),cancel:t}}};function hm(e){return function(r){return e.apply(null,r)}}function fm(e){return E.isObject(e)&&e.isAxiosError===!0}const Mo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mo).forEach(([e,t])=>{Mo[t]=e});function gl(e){const t=new Dt(e),r=qa(Dt.prototype.request,t);return E.extend(r,Dt.prototype,t,{allOwnKeys:!0}),E.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return gl($t(e,s))},r}const se=gl(Mr);se.Axios=Dt;se.CanceledError=pr;se.CancelToken=mm;se.isCancel=al;se.VERSION=hl;se.toFormData=Mn;se.AxiosError=te;se.Cancel=se.CanceledError;se.all=function(t){return Promise.all(t)};se.spread=hm;se.isAxiosError=fm;se.mergeConfig=$t;se.AxiosHeaders=$e;se.formToJSON=e=>il(E.isHTMLForm(e)?new FormData(e):e);se.getAdapter=ml.getAdapter;se.HttpStatusCode=Mo;se.default=se;const{Axios:X2,AxiosError:Z2,CanceledError:J2,isCancel:Q2,CancelToken:ev,VERSION:tv,all:rv,Cancel:nv,isAxiosError:ov,spread:sv,toFormData:iv,AxiosHeaders:av,HttpStatusCode:lv,formToJSON:cv,getAdapter:dv,mergeConfig:uv}=se,gm={apiUrl:"/api",documentServiceUrl:"/api/documents",authServiceUrl:"/api/auth",environment:"development",enableLogging:!0,maxFileSize:50*1024*1024,allowedFileTypes:["application/pdf","image/jpeg","image/png"],supportedLanguages:["en","ar"],defaultLanguage:"en",theme:{primaryColor:"#3eb2b1",accentColor:"#2c8a89",backgroundColor:"#ffffff"}},ym={apiUrl:"/api",documentServiceUrl:"/api/documents",authServiceUrl:"/api/auth",environment:"production",enableLogging:!1,maxFileSize:50*1024*1024,allowedFileTypes:["application/pdf","image/jpeg","image/png"],supportedLanguages:["en","ar"],defaultLanguage:"en",theme:{primaryColor:"#3eb2b1",accentColor:"#2c8a89",backgroundColor:"#ffffff"}},bm={apiUrl:"/api",documentServiceUrl:"/api/documents",authServiceUrl:"/api/auth",environment:"testing",enableLogging:!0,maxFileSize:10*1024*1024,allowedFileTypes:["application/pdf","image/jpeg","image/png"],supportedLanguages:["en","ar"],defaultLanguage:"en",theme:{primaryColor:"#3eb2b1",accentColor:"#2c8a89",backgroundColor:"#ffffff"}};function xm(){switch("production"){case"production":return ym;case"testing":return bm;default:return gm}}const Wr=xm();class vm{constructor(){Oe(this,"authClient");Oe(this,"userClient");Oe(this,"documentClient");Oe(this,"contractorClient");Oe(this,"accessToken",null);this.accessToken=localStorage.getItem("rabhan_access_token"),this.authClient=se.create({baseURL:Wr.environment==="development"?"http://127.0.0.1:3001/api":"/api/auth",timeout:1e4,withCredentials:!0,headers:{"Content-Type":"application/json"}}),this.userClient=se.create({baseURL:Wr.environment==="development"?"http://127.0.0.1:3002":"/api/users",timeout:1e4,withCredentials:!0,headers:{"Content-Type":"application/json"}}),this.documentClient=se.create({baseURL:Wr.environment==="development"?"http://127.0.0.1:3003":"/api/documents",timeout:15e3,withCredentials:!0,headers:{"Content-Type":"application/json"}}),this.contractorClient=se.create({baseURL:Wr.environment==="development"?"http://127.0.0.1:3004":"/api/contractors",timeout:1e4,withCredentials:!0,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){[this.authClient,this.userClient,this.documentClient,this.contractorClient].forEach(t=>{t.interceptors.request.use(async r=>(r.headers["X-Request-ID"]=this.generateRequestId(),r.headers["X-Request-Time"]=new Date().toISOString(),this.accessToken&&(r.headers.Authorization=`Bearer ${this.accessToken}`),r),r=>(console.error("❌ Request Error:",r),Promise.reject(r))),t.interceptors.response.use(r=>r,async r=>(console.error(`❌ API Error: ${r.config?.url}`,{status:r.response?.status,data:r.response?.data,message:r.message}),r.response?.status===401&&(console.warn("🔒 Session expired, redirecting to login..."),console.warn("🔍 Request URL:",r.config?.url),console.warn("🔍 Request data:",r.config?.data),this.handleSessionExpired()),r.response?.status===403&&console.warn("🚫 Access denied"),r.response||console.error("🌐 Network error - service unavailable"),Promise.reject(this.formatError(r))))})}generateRequestId(){return`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}setAccessToken(t){this.accessToken=t,localStorage.setItem("rabhan_access_token",t),console.log("🔑 Access token set for API requests")}clearAccessToken(){this.accessToken=null,localStorage.removeItem("rabhan_access_token"),console.log("🔑 Access token cleared")}getAccessToken(){return this.accessToken}handleSessionExpired(){window.dispatchEvent(new CustomEvent("session-expired"))}isTokenExpired(t){try{const r=JSON.parse(atob(t.split(".")[1])),n=Date.now()/1e3;return r.exp<n+30}catch(r){return console.error("Error checking token expiration:",r),!0}}async refreshTokenIfNeeded(){try{const t=await this.authClient.post("/auth/refresh");t.data.success&&t.data.data?.accessToken&&(this.setAccessToken(t.data.data.accessToken),console.log("✅ Token refreshed successfully"))}catch(t){throw console.error("❌ Token refresh failed:",t),t}}formatError(t){const r=t.response;return r?{success:!1,error:r.data?.error||r.statusText||"API Error",code:r.data?.code||`HTTP_${r.status}`,status:r.status,details:r.data}:t.request?{success:!1,error:"Network error - please check your connection",code:"NETWORK_ERROR",status:0,details:{message:t.message}}:{success:!1,error:t.message||"Unknown error occurred",code:"REQUEST_ERROR",status:0,details:{message:t.message}}}async request(t,r,n){try{let s;const a=n?{data:n}:{};switch(r.toUpperCase()){case"GET":s=await this.authClient.get(t);break;case"POST":s=await this.authClient.post(t,n);break;case"PUT":s=await this.authClient.put(t,n);break;case"DELETE":s=await this.authClient.delete(t);break;default:throw new Error(`Unsupported HTTP method: ${r}`)}return s.data}catch(s){throw console.error(`API request error [${r} ${t}]:`,s),this.formatError(s)}}get auth(){return{register:async t=>(await this.authClient.post("/auth/register",{...t,role:t.role||"USER"})).data,login:async t=>(await this.authClient.post("/auth/login",t)).data,logout:async()=>(await this.authClient.post("/auth/logout")).data,sendPhoneOTP:async t=>(await this.authClient.post("/auth/phone/send-otp",{phoneNumber:t})).data,verifyPhoneOTP:async(t,r)=>(await this.authClient.post("/auth/phone/verify-otp",{phoneNumber:t,otp:r})).data,sendEmailVerification:async()=>(await this.authClient.post("/auth/email/send-verification")).data,verifyEmail:async t=>(await this.authClient.post("/auth/email/verify",{token:t})).data,getCurrentUser:async()=>(await this.authClient.get("/auth/profile")).data,updateCurrentUser:async t=>(await this.authClient.put("/auth/profile",t)).data,refreshSession:async()=>(await this.authClient.post("/auth/refresh")).data,registerContractor:async t=>(await this.authClient.post("/auth/contractor/register",{...t,role:"CONTRACTOR"})).data}}get user(){return{createProfile:async t=>(await this.userClient.post("/api/users/profiles",t)).data,createRegistrationProfile:async t=>(await this.userClient.post("/api/users/profiles/register",t)).data,getProfile:async t=>{const r=t?`/api/users/profiles/${t}`:"/api/users/profiles/me";return(await this.userClient.get(r)).data},updateProfile:async(t,r)=>{const n=t?`/api/users/profiles/${t}`:"/api/users/profiles/me";return(await this.userClient.put(n,r)).data},checkBNPLEligibility:async t=>{const r=t?`/api/users/profiles/${t}/bnpl-eligibility`:"/api/users/profiles/me/bnpl-eligibility";return(await this.userClient.get(r)).data},getDocuments:async t=>{const r=t?`/api/users/profiles/${t}/documents`:"/api/users/profiles/me/documents";return(await this.userClient.get(r)).data}}}get documents(){return{uploadDocument:async(t,r,n)=>{const s=new FormData;return s.append("file",r),s.append("documentType",t),n&&s.append("metadata",JSON.stringify(n)),(await this.documentClient.post("/upload",s,{headers:{"Content-Type":"multipart/form-data"}})).data},getDocumentStatus:async t=>(await this.documentClient.get(`/status/${t}`)).data,downloadDocument:async t=>(await this.documentClient.get(`/download/${t}`,{responseType:"blob"})).data}}get health(){return{checkAuthService:async()=>(await this.authClient.get("/auth/health")).data,checkUserService:async()=>(await this.userClient.get("/health")).data,checkDocumentService:async()=>(await this.documentClient.get("/health")).data,checkAllServices:async()=>{const[t,r,n]=await Promise.allSettled([this.health.checkAuthService(),this.health.checkUserService(),this.health.checkDocumentService()]);return{auth:t.status==="fulfilled"?t.value:{success:!1,error:"Service unavailable"},user:r.status==="fulfilled"?r.value:{success:!1,error:"Service unavailable"},document:n.status==="fulfilled"?n.value:{success:!1,error:"Service unavailable"}}}}}getAuthServiceInstance(){return this.authClient}getUserServiceInstance(){return this.userClient}getDocumentServiceInstance(){return this.documentClient}getContractorServiceInstance(){return this.contractorClient}}const pe=new vm,xt=pe.getContractorServiceInstance();class wm{constructor(){Oe(this,"listeners",new Set);Oe(this,"currentState",{isAuthenticated:!1,user:null,isLoading:!1,error:null});Oe(this,"hasInitialized",!1);window.addEventListener("session-expired",this.handleSessionExpired.bind(this)),this.hasInitialized||(this.hasInitialized=!0,this.checkAuthStatus())}transformProfileData(t){return{region:t.region,city:t.city,district:t.district,street_address:t.streetAddress,landmark:t.landmark,postal_code:t.postalCode,property_type:t.propertyType,property_ownership:t.propertyOwnership,roof_size:t.roofSize,gps_latitude:t.gpsLatitude,gps_longitude:t.gpsLongitude,electricity_consumption:t.electricityConsumption,electricity_meter_number:t.electricityMeterNumber,preferred_language:t.preferredLanguage,email_notifications:t.emailNotifications,sms_notifications:t.smsNotifications,marketing_consent:t.marketingConsent,profile_completed:t.profileCompleted,profile_completion_percentage:t.profileCompletionPercentage,bnpl_eligible:t.bnplEligible,bnpl_max_amount:t.bnplMaxAmount,bnpl_risk_score:t.bnplRiskScore,employment_status:t.employmentStatus,employer_name:t.employerName,job_title:t.jobTitle,monthly_income:t.monthlyIncome,years_employed:t.yearsEmployed}}setState(t){this.currentState={...this.currentState,...t},this.notifyListeners()}notifyListeners(){this.listeners.forEach(t=>t(this.currentState))}subscribe(t){return this.listeners.add(t),t(this.currentState),()=>{this.listeners.delete(t)}}getState(){return{...this.currentState}}async register(t){try{if(this.setState({isLoading:!0,error:null}),t.confirmPassword&&t.password!==t.confirmPassword)throw new Error("Passwords do not match");const{confirmPassword:r,...n}=t;console.log("🔐 Attempting user registration...",{email:n.email});const s=await pe.auth.register(n);if(s.success&&s.data){console.log("✅ Registration successful");const{accessToken:a,refreshToken:i}=s.data;a&&(pe.setAccessToken(a),console.log("✅ Access token set after registration"));const c=await pe.auth.getCurrentUser();return c.success&&c.data?(console.log("✅ User data fetched successfully after registration"),this.setState({isAuthenticated:!0,user:c.data,isLoading:!1,error:null}),{success:!0,user:c.data}):(console.warn("⚠️ Could not fetch user data after registration"),{success:!0})}else{const a=s.error||"Registration failed";return console.error("❌ Registration failed:",a),this.setState({isLoading:!1,error:a}),{success:!1,error:a}}}catch(r){const n=r.error||r.message||"Registration failed";return console.error("❌ Registration error:",n),this.setState({isLoading:!1,error:n}),{success:!1,error:n}}}async login(t){try{this.setState({isLoading:!0,error:null}),console.log("🔐 Attempting user login...",{email:t.email});const r=await pe.auth.login(t);if(r.success&&r.data){console.log("✅ Login successful, setting access token...");const{accessToken:n}=r.data;n&&pe.setAccessToken(n);const s=await pe.auth.getCurrentUser();if(s.success&&s.data){console.log("✅ User data fetched successfully");let a=s.data;try{const i=await pe.user.getProfile();if(i.success&&i.data){console.log("✅ Profile data fetched successfully");const c=this.transformProfileData(i.data);a={...s.data,...c,id:s.data.id,email:s.data.email,role:s.data.role}}else console.log("ℹ️ No profile data found, using auth data only")}catch(i){console.warn("⚠️ Failed to fetch profile data, continuing with auth data only:",i)}return this.setState({isAuthenticated:!0,user:a,isLoading:!1,error:null}),{success:!0,user:a}}else{const a="Failed to fetch user data after login";return console.error("❌ Failed to fetch user data:",a),this.setState({isLoading:!1,error:a}),{success:!1,error:a}}}else{const n=r.error||"Login failed";return console.error("❌ Login failed:",n),this.setState({isLoading:!1,error:n}),{success:!1,error:n}}}catch(r){const n=r.error||r.message||"Login failed";return console.error("❌ Login error:",n),this.setState({isLoading:!1,error:n}),{success:!1,error:n}}}async logout(){try{return this.setState({isLoading:!0,error:null}),console.log("🚪 Logging out user..."),await pe.auth.logout(),console.log("✅ Logout successful"),pe.clearAccessToken(),this.setState({isAuthenticated:!1,user:null,isLoading:!1,error:null}),{success:!0}}catch(t){return console.warn("⚠️ Logout warning:",t.error||t.message),pe.clearAccessToken(),this.setState({isAuthenticated:!1,user:null,isLoading:!1,error:null}),{success:!0}}}async sendPhoneOTP(t){try{console.log("📱 Sending phone OTP...",{phone:t});const r=await pe.auth.sendPhoneOTP(t);if(r.success)return console.log("✅ Phone OTP sent successfully"),{success:!0};{const n=r.error||"Failed to send OTP";return console.error("❌ Failed to send phone OTP:",n),{success:!1,error:n}}}catch(r){const n=r.error||r.message||"Failed to send OTP";return console.error("❌ Phone OTP error:",n),{success:!1,error:n}}}async lookupEmailForLogin(t){try{const r=await pe.request("/auth/login/email/lookup","POST",{email:t});return{success:r.success,data:r.data,error:r.error}}catch(r){return console.error("Email lookup error:",r),{success:!1,error:r.message||"Email lookup failed"}}}async sendLoginOTPToPhone(t){try{const r=await pe.request("/auth/login/email/send-otp","POST",{email:t});return{success:r.success,data:r.data,error:r.error}}catch(r){return console.error("Send login OTP error:",r),{success:!1,error:r.message||"Failed to send OTP"}}}async verifyLoginOTP(t){try{const r=await pe.request("/auth/login/email/verify-otp","POST",t);return{success:r.success,error:r.error}}catch(r){return console.error("Verify login OTP error:",r),{success:!1,error:r.message||"OTP verification failed"}}}async verifyPhoneOTP(t){try{console.log("🔍 Verifying phone OTP...",{phone:t.phone});const r=await pe.auth.verifyPhoneOTP(t.phone,t.otp);if(r.success)return console.log("✅ Phone OTP verified successfully"),r.data&&this.currentState.user&&this.setState({user:{...this.currentState.user,...r.data}}),{success:!0,user:r.data};{const n=r.error||"Invalid OTP";return console.error("❌ Phone OTP verification failed:",n),{success:!1,error:n}}}catch(r){const n=r.error||r.message||"OTP verification failed";return console.error("❌ Phone OTP verification error:",n),{success:!1,error:n}}}async sendEmailVerification(){try{console.log("📧 Sending email verification...");const t=await pe.auth.sendEmailVerification();if(t.success)return console.log("✅ Email verification sent successfully"),{success:!0};{const r=t.error||"Failed to send email verification";return console.error("❌ Failed to send email verification:",r),{success:!1,error:r}}}catch(t){const r=t.error||t.message||"Failed to send email verification";return console.error("❌ Email verification error:",r),{success:!1,error:r}}}async verifyEmail(t){try{console.log("📧 Verifying email...");const r=await pe.auth.verifyEmail(t);if(r.success)return console.log("✅ Email verified successfully"),r.data&&this.currentState.user&&this.setState({user:{...this.currentState.user,...r.data}}),{success:!0,user:r.data};{const n=r.error||"Email verification failed";return console.error("❌ Email verification failed:",n),{success:!1,error:n}}}catch(r){const n=r.error||r.message||"Email verification failed";return console.error("❌ Email verification error:",n),{success:!1,error:n}}}async checkAuthStatus(){try{this.setState({isLoading:!0});const t=await pe.auth.getCurrentUser();if(t.success&&t.data){let r=t.data;try{const n=await pe.user.getProfile();if(n.success&&n.data){console.log("✅ Profile data fetched successfully");const s=this.transformProfileData(n.data);r={...t.data,...s,id:t.data.id,email:t.data.email,role:t.data.role}}else console.log("ℹ️ No profile data found, using auth data only")}catch(n){console.warn("⚠️ Failed to fetch profile data, continuing with auth data only:",n)}this.setState({isAuthenticated:!0,user:r,isLoading:!1,error:null})}else console.log("ℹ️ User is not authenticated"),this.setState({isAuthenticated:!1,user:null,isLoading:!1,error:null})}catch(t){console.error("❌ Authentication check failed:",t),this.setState({isAuthenticated:!1,user:null,isLoading:!1,error:null})}}async refreshSession(){try{console.log("🔄 Refreshing session...");const t=await pe.auth.refreshSession();if(t.success)return console.log("✅ Session refreshed successfully"),await this.checkAuthStatus(),{success:!0};{const r=t.error||"Failed to refresh session";return console.error("❌ Session refresh failed:",r),{success:!1,error:r}}}catch(t){const r=t.error||t.message||"Session refresh failed";return console.error("❌ Session refresh error:",r),{success:!1,error:r}}}handleSessionExpired(){console.warn("🔒 Session expired detected"),this.setState({isAuthenticated:!1,user:null,isLoading:!1,error:"Your session has expired. Please log in again."})}isAuthenticated(){return this.currentState.isAuthenticated}getCurrentUser(){return this.currentState.user}async updateCurrentUser(t){try{this.setState({isLoading:!0,error:null}),console.log("🔄 Updating current user...",t);const r=await pe.auth.updateCurrentUser(t);if(r.success){console.log("✅ User updated successfully");const n=await this.refreshUserData();return this.setState({isLoading:!1}),{success:!0,user:n.user}}else{const n=r.error||"Failed to update user";return console.error("❌ User update failed:",n),this.setState({isLoading:!1,error:n}),{success:!1,error:n}}}catch(r){const n=r.error||r.message||"Update failed";return console.error("❌ User update error:",n),this.setState({isLoading:!1,error:n}),{success:!1,error:n}}}async refreshUserData(){try{console.log("🔄 Refreshing user data...");const t=await pe.auth.getCurrentUser();if(t.success&&t.data){console.log("✅ Auth user data fetched successfully");let r=t.data;try{const n=await pe.user.getProfile();if(n.success&&n.data){console.log("✅ Profile data fetched successfully");const s=this.transformProfileData(n.data);r={...t.data,...s,id:t.data.id,email:t.data.email,role:t.data.role}}else console.log("ℹ️ No profile data found, using auth data only")}catch(n){console.warn("⚠️ Failed to fetch profile data during refresh, continuing with auth data only:",n)}return this.setState({...this.currentState,user:r}),{success:!0,user:r}}else{const r="Failed to refresh user data";return console.error("❌ Failed to refresh user data:",r),{success:!1,error:r}}}catch(t){const r=t.error||t.message||"Failed to refresh user data";return console.error("❌ Error refreshing user data:",r),{success:!1,error:r}}}isEmailVerified(){return this.currentState.user?.emailVerified??!1}isPhoneVerified(){return this.currentState.user?.phoneVerified??!1}isSamaVerified(){return this.currentState.user?.samaVerified??!1}getUserRole(){return this.currentState.user?.role??null}clearError(){this.setState({error:null})}}const ie=new wm,Ir=({isOpen:e,onClose:t,onLoginSuccess:r,onRegister:n})=>{const{t:s,i18n:a}=xe(),i=a.language==="ar",[c,l]=b.useState({email:"",otp:"",password:"",userType:"USER",rememberMe:!1}),[d,u]=b.useState({step:"email",isEmailVerified:!1,isOtpVerified:!1,otpSent:!1,isSendingOtp:!1,isVerifyingOtp:!1,resendCountdown:0,maskedPhone:void 0}),[p,h]=b.useState({}),[m,g]=b.useState(!1),[x,y]=b.useState(!1),A=()=>{switch(d.step){case"email":return c.email.trim()!=="";case"otp":return c.otp.trim()!==""&&c.otp.length===6;case"password":return c.password.trim()!=="";default:return!1}};b.useEffect(()=>{e&&(l({email:"",otp:"",password:"",userType:"USER",rememberMe:!1}),u({step:"email",isEmailVerified:!1,isOtpVerified:!1,otpSent:!1,isSendingOtp:!1,isVerifyingOtp:!1,resendCountdown:0,maskedPhone:void 0}),h({}),g(!1),y(!1))},[e]),b.useEffect(()=>{const k=I=>{I.key==="Escape"&&e&&t()};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[e,t]),b.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const S=async()=>{console.log("sendOTPToPhone function called!");const k=c.email.trim();if(console.log("Trimmed email:",k),!k){console.log("Email is empty"),h({email:s("auth.validation.emailRequired")});return}console.log("Setting loading state..."),u(I=>({...I,isSendingOtp:!0})),h({});try{console.log("Looking up email:",c.email);const I=await ie.lookupEmailForLogin(c.email);if(console.log("Lookup result:",I),I.success&&I.data?.userExists){console.log("User exists, sending OTP...");const q=await ie.sendLoginOTPToPhone(c.email);if(console.log("OTP result:",q),q.success){u(X=>({...X,otpSent:!0,isSendingOtp:!1,step:"otp",resendCountdown:60,maskedPhone:q.data?.maskedPhone,isEmailVerified:!0}));const Z=setInterval(()=>{u(X=>X.resendCountdown<=1?(clearInterval(Z),{...X,resendCountdown:0}):{...X,resendCountdown:X.resendCountdown-1})},1e3)}else throw new Error(q.error||"Failed to send OTP")}else console.log("User not found or lookup failed"),h({email:"Email not found or no phone number registered"})}catch(I){h({email:I.message||s("errors.loginFailed")}),u(q=>({...q,isSendingOtp:!1}))}},f=async()=>{if(!c.otp.trim()||c.otp.length!==6){h({otp:s("phone.otp.invalid")});return}u(k=>({...k,isVerifyingOtp:!0})),h({});try{const k=await ie.verifyLoginOTP({email:c.email,otp:c.otp});if(k.success)u(I=>({...I,isOtpVerified:!0,isVerifyingOtp:!1,step:"password"}));else throw new Error(k.error||"Invalid OTP")}catch(k){h({otp:k.message||s("phone.otp.invalid")}),u(I=>({...I,isVerifyingOtp:!1}))}},v=()=>{const k={};return d.step==="password"&&(c.password?c.password.length<8&&(k.password=s("auth.validation.passwordMinLength")):k.password=s("auth.validation.passwordRequired")),h(k),Object.keys(k).length===0},P=async k=>{switch(k.preventDefault(),d.step){case"email":await S();break;case"otp":await f();break;case"password":if(!v())return;g(!0),h({});try{const I=await ie.login({email:c.email,password:c.password});I.success&&I.user?(console.log("✅ Login successful:",I.user),r(I.user),t()):h({general:I.error||s("errors.loginFailed")})}catch(I){console.error("❌ Login error:",I),h({general:I.message||s("errors.loginFailed")})}finally{g(!1)}break}},R=k=>{k.target===k.currentTarget&&t()};return e?o.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",zIndex:w.zIndex.modal,animation:"fadeIn 200ms ease-out"},onClick:R,children:[o.jsxs("div",{style:{width:"100%",maxWidth:"480px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"24px",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1), 0 0 80px rgba(62, 178, 177, 0.1)",padding:"clamp(2rem, 5vw, 2.5rem)",position:"relative",animation:"slideUp 200ms ease-out",direction:i?"rtl":"ltr"},onClick:k=>k.stopPropagation(),children:[o.jsx("button",{onClick:t,style:{position:"absolute",top:"1rem",right:i?"auto":"1rem",left:i?"1rem":"auto",width:"40px",height:"40px",border:"none",background:"rgba(107, 114, 128, 0.1)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:w.transitions.fast,color:"#6b7280",fontSize:"1.25rem"},onMouseEnter:k=>{k.currentTarget.style.background="rgba(107, 114, 128, 0.2)"},onMouseLeave:k=>{k.currentTarget.style.background="rgba(107, 114, 128, 0.1)"},children:"×"}),o.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[o.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.75rem",margin:"0 auto",marginBottom:"1.5rem",boxShadow:"0 8px 16px rgba(62, 178, 177, 0.3)"},children:"🔐"}),o.jsx("h2",{style:{fontSize:w.responsive.fluid.xl,fontWeight:"600",color:"#1a1a1a",margin:0,marginBottom:"0.5rem",letterSpacing:"-0.025em",fontFamily:w.typography.fonts.primary},children:s("auth.loginTitle")}),o.jsx("p",{style:{fontSize:"1rem",color:"#6b7280",margin:0,lineHeight:1.5},children:s("auth.loginSubtitle")})]}),o.jsx("div",{style:{marginBottom:"1.5rem"},children:o.jsxs("div",{style:{display:"flex",background:"rgba(62, 178, 177, 0.1)",borderRadius:"12px",padding:"4px",position:"relative"},children:[o.jsx("button",{type:"button",onClick:()=>l(k=>({...k,userType:"USER"})),style:{flex:1,padding:"0.75rem",border:"none",borderRadius:"8px",background:c.userType==="USER"?"#3eb2b1":"transparent",color:c.userType==="USER"?"#ffffff":"#6b7280",fontSize:"0.875rem",fontWeight:"500",fontFamily:w.typography.fonts.primary,cursor:"pointer",transition:w.transitions.fast},children:s("auth.userTypes.USER")||"Customer"}),o.jsx("button",{type:"button",onClick:()=>l(k=>({...k,userType:"CONTRACTOR"})),style:{flex:1,padding:"0.75rem",border:"none",borderRadius:"8px",background:c.userType==="CONTRACTOR"?"#3eb2b1":"transparent",color:c.userType==="CONTRACTOR"?"#ffffff":"#6b7280",fontSize:"0.875rem",fontWeight:"500",fontFamily:w.typography.fonts.primary,cursor:"pointer",transition:w.transitions.fast},children:s("auth.userTypes.CONTRACTOR")||"Contractor"})]})}),c.userType==="CONTRACTOR"&&o.jsxs("div",{style:{padding:"0.75rem",background:"rgba(62, 178, 177, 0.1)",border:"1px solid rgba(62, 178, 177, 0.2)",borderRadius:"8px",marginBottom:"1.5rem",fontSize:"0.75rem",color:"#6b7280",textAlign:i?"right":"left"},children:[o.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem",color:"#3eb2b1"},children:s("auth.testAccount.title","Test Account:")}),o.jsxs("div",{style:{marginBottom:"0.125rem"},children:[o.jsxs("strong",{children:[s("auth.testAccount.email","Email:")," "]}),"contractor@rabhan.sa"]}),o.jsxs("div",{children:[o.jsxs("strong",{children:[s("auth.testAccount.password","Password:")," "]}),"Contractor123!"]})]}),o.jsxs("form",{onSubmit:P,children:[p.general&&o.jsx("div",{style:{padding:"0.75rem",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"8px",color:"#dc2626",fontSize:"0.875rem",marginBottom:"1rem",textAlign:i?"right":"left"},children:p.general}),d.step==="email"&&o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",textAlign:i?"right":"left"},children:[s("auth.email")," ",o.jsx("span",{style:{color:"#374151"},children:"*"})]}),o.jsx("input",{type:"email",value:c.email,onChange:k=>{l(I=>({...I,email:k.target.value}))},placeholder:s("auth.emailPlaceholder"),style:{width:"100%",padding:"0.75rem",border:`1px solid ${p.email?"#ef4444":"#d1d5db"}`,borderRadius:"8px",fontSize:"1rem",backgroundColor:"#ffffff",color:"#1f2937",outline:"none",textAlign:i?"right":"left",direction:i?"rtl":"ltr",fontFamily:w.typography.fonts.primary},onFocus:k=>k.target.style.borderColor="#3eb2b1",onBlur:k=>k.target.style.borderColor=p.email?"#ef4444":"#d1d5db"}),p.email&&o.jsx("span",{style:{display:"block",marginTop:"0.25rem",fontSize:"0.75rem",color:"#ef4444"},children:p.email})]}),d.step==="otp"&&o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151",textAlign:i?"right":"left"},children:[s("phone.otp.title")," ",o.jsx("span",{style:{color:"#374151"},children:"*"})]}),o.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.75rem",textAlign:i?"right":"left"},children:[s("auth.register.otpSentTo")," ",d.maskedPhone||c.email]}),o.jsx("input",{type:"text",value:c.otp,onChange:k=>{const I=k.target.value.replace(/\D/g,"");I.length<=6&&l(q=>({...q,otp:I}))},placeholder:"000000",maxLength:6,style:{width:"100%",padding:"0.75rem",border:`1px solid ${p.otp?"#ef4444":"#d1d5db"}`,borderRadius:"8px",fontSize:"1.125rem",backgroundColor:"#ffffff",color:"#1f2937",outline:"none",textAlign:"center",letterSpacing:"0.25rem",fontFamily:"monospace"},onFocus:k=>k.target.style.borderColor="#3eb2b1",onBlur:k=>k.target.style.borderColor=p.otp?"#ef4444":"#d1d5db"}),p.otp&&o.jsx("span",{style:{display:"block",marginTop:"0.25rem",fontSize:"0.75rem",color:"#ef4444"},children:p.otp}),d.resendCountdown>0?o.jsx("div",{style:{marginTop:"0.75rem",fontSize:"0.75rem",color:"#6b7280",textAlign:"center"},children:s("phone.otp.resendIn",{seconds:d.resendCountdown})}):o.jsx("button",{type:"button",onClick:S,disabled:d.isSendingOtp,style:{marginTop:"0.75rem",width:"100%",padding:"0.5rem",background:"none",color:"#3eb2b1",border:"none",fontSize:"0.875rem",cursor:"pointer",textDecoration:"underline"},children:d.isSendingOtp?s("common.loading"):s("phone.otp.resend")})]}),d.step==="password"&&o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",fontSize:"0.875rem",color:"#374151",textAlign:i?"right":"left"},children:[s("auth.password")," ",o.jsx("span",{style:{color:"#374151"},children:"*"})]}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx("input",{type:x?"text":"password",value:c.password,onChange:k=>l(I=>({...I,password:k.target.value})),placeholder:s("auth.register.passwordPlaceholder")||"Enter your password",style:{width:"100%",padding:"0.75rem",paddingRight:i?"0.75rem":"3rem",paddingLeft:i?"3rem":"0.75rem",border:`1px solid ${p.password?"#ef4444":"#d1d5db"}`,borderRadius:"8px",fontSize:"1rem",backgroundColor:"#ffffff",color:"#1f2937",outline:"none",textAlign:i?"right":"left",direction:i?"rtl":"ltr",fontFamily:w.typography.fonts.primary,boxSizing:"border-box"},onFocus:k=>k.target.style.borderColor="#3eb2b1",onBlur:k=>k.target.style.borderColor=p.password?"#ef4444":"#d1d5db"}),o.jsx("button",{type:"button",onClick:()=>y(!x),style:{position:"absolute",top:"50%",right:i?"auto":"0.75rem",left:i?"0.75rem":"auto",transform:"translateY(-50%)",border:"none",background:"none",color:"#6b7280",fontSize:"1rem",cursor:"pointer",padding:"0.25rem"},children:x?"👁️":"👁️‍🗨️"})]}),p.password&&o.jsx("span",{style:{display:"block",marginTop:"0.25rem",fontSize:"0.75rem",color:"#ef4444"},children:p.password})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem",flexDirection:i?"row-reverse":"row"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"0.875rem",color:"#374151",flexDirection:i?"row-reverse":"row",gap:"0.5rem"},children:[o.jsx("input",{type:"checkbox",checked:c.rememberMe,onChange:k=>l(I=>({...I,rememberMe:k.target.checked})),style:{width:"16px",height:"16px",accentColor:"#3eb2b1"}}),o.jsx("span",{children:s("auth.rememberMe")})]}),o.jsx("button",{type:"button",style:{border:"none",background:"none",color:"#3eb2b1",fontSize:"0.875rem",cursor:"pointer",textDecoration:"underline"},children:s("auth.forgotPassword")})]}),o.jsx("button",{type:"submit",disabled:m||!A()||d.isSendingOtp||d.isVerifyingOtp,style:{width:"100%",padding:"0.875rem",background:m||!A()||d.isSendingOtp||d.isVerifyingOtp?"#9ca3af":"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",border:"none",borderRadius:"12px",color:"#ffffff",fontSize:"1rem",fontWeight:"600",fontFamily:w.typography.fonts.primary,cursor:m||!A()||d.isSendingOtp||d.isVerifyingOtp?"not-allowed":"pointer",transition:w.transitions.fast,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",letterSpacing:"0.025em",marginBottom:"1rem"},onMouseEnter:k=>{m||(k.currentTarget.style.background="linear-gradient(135deg, #22d3db 0%, #5cecea 100%)",k.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:k=>{m||(k.currentTarget.style.background="linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",k.currentTarget.style.transform="translateY(0)")},children:m?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTopColor:"#ffffff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),o.jsx("span",{children:s("common.loading")})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:d.step==="email"?s("phone.otp.send"):d.step==="otp"?s("phone.otp.verify"):s("auth.loginButton")}),o.jsx("span",{style:{fontSize:"1.1rem"},children:i?"←":"→"})]})}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsxs("span",{style:{color:"#6b7280",fontSize:"0.875rem"},children:[s("auth.noAccount")," "]}),o.jsx("button",{type:"button",onClick:()=>{t(),n?.()},style:{border:"none",background:"none",color:"#3eb2b1",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",textDecoration:"underline"},children:s("auth.signUpHere")})]})]})]}),o.jsx("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          
          @keyframes slideUp {
            from { 
              opacity: 0; 
              transform: translateY(20px); 
            }
            to { 
              opacity: 1; 
              transform: translateY(0); 
            }
          }
          
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `})]}):null},km=({onUserTypeSelect:e,onBack:t,onLogin:r,onRegister:n})=>{const{t:s,i18n:a}=xe(),i=a.language==="ar",c=[s("registration.user.benefits.solarAnalysis.title"),s("registration.user.benefits.bnplFinancing.title"),s("registration.user.benefits.preverified.title"),s("registration.user.benefits.monitoring.title")],l=[s("registration.contractor.benefits.marketplace.title"),s("registration.contractor.benefits.matching.title"),s("registration.contractor.benefits.analytics.title"),s("registration.contractor.benefits.certification.title")],d=()=>o.jsxs("div",{style:{padding:"clamp(2.5rem, 5vw, 3.5rem)",borderRadius:"24px",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"2px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 8px 32px rgba(62, 178, 177, 0.15), 0 0 80px rgba(62, 178, 177, 0.1)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",position:"relative",overflow:"hidden"},onMouseEnter:p=>{p.currentTarget.style.transform="translateY(-4px)",p.currentTarget.style.boxShadow="0 20px 40px rgba(62, 178, 177, 0.25), 0 0 120px rgba(62, 178, 177, 0.2)",p.currentTarget.style.borderColor="rgba(62, 178, 177, 0.5)"},onMouseLeave:p=>{p.currentTarget.style.transform="translateY(0)",p.currentTarget.style.boxShadow="0 8px 32px rgba(62, 178, 177, 0.15), 0 0 80px rgba(62, 178, 177, 0.1)",p.currentTarget.style.borderColor="rgba(255, 255, 255, 0.5)"},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[o.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.75rem",margin:"0 auto",marginBottom:"1.5rem",boxShadow:"0 8px 16px rgba(62, 178, 177, 0.3)"},children:"🏠"}),o.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1a1a1a",margin:0,marginBottom:"0.5rem",letterSpacing:"-0.025em"},children:s("registration.user.title")}),o.jsx("p",{style:{fontSize:"1rem",color:"#6b7280",margin:0,lineHeight:1.5},children:s("registration.user.subtitle")})]}),o.jsx("div",{style:{marginBottom:"2rem"},children:c.map((p,h)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem",fontSize:"0.9rem",color:"#374151",flexDirection:i?"row-reverse":"row"},children:[o.jsx("div",{style:{width:"6px",height:"6px",background:"#3eb2b1",borderRadius:"50%",flexShrink:0}}),o.jsx("span",{style:{textAlign:i?"right":"left"},children:p})]},h))}),o.jsxs("button",{onClick:()=>e("USER"),style:{width:"100%",padding:"1rem",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",border:"none",borderRadius:"12px",color:"#ffffff",fontSize:"1rem",fontWeight:"600",fontFamily:w.typography.fonts.primary,cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",letterSpacing:"0.025em",position:"relative",overflow:"hidden"},onMouseEnter:p=>{p.currentTarget.style.background="linear-gradient(135deg, #22d3db 0%, #5cecea 100%)",p.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:p=>{p.currentTarget.style.background="linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",p.currentTarget.style.transform="translateY(0)"},children:[o.jsx("div",{style:{position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.4) 50%, transparent 100%)",animation:"wave 2s ease-in-out infinite"}}),o.jsx("span",{children:s("registration.user.joinButton")}),o.jsx("span",{style:{fontSize:"1.1rem"},children:i?"←":"→"})]})]}),u=()=>o.jsxs("div",{style:{padding:"clamp(2.5rem, 5vw, 3.5rem)",borderRadius:"24px",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"2px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 8px 32px rgba(62, 178, 177, 0.15), 0 0 80px rgba(62, 178, 177, 0.1)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",position:"relative",overflow:"hidden"},onMouseEnter:p=>{p.currentTarget.style.transform="translateY(-4px)",p.currentTarget.style.boxShadow="0 20px 40px rgba(62, 178, 177, 0.25), 0 0 120px rgba(62, 178, 177, 0.2)",p.currentTarget.style.borderColor="rgba(62, 178, 177, 0.5)"},onMouseLeave:p=>{p.currentTarget.style.transform="translateY(0)",p.currentTarget.style.boxShadow="0 8px 32px rgba(62, 178, 177, 0.15), 0 0 80px rgba(62, 178, 177, 0.1)",p.currentTarget.style.borderColor="rgba(255, 255, 255, 0.5)"},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[o.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.75rem",margin:"0 auto",marginBottom:"1.5rem",boxShadow:"0 8px 16px rgba(62, 178, 177, 0.3)"},children:"🔧"}),o.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1a1a1a",margin:0,marginBottom:"0.5rem",letterSpacing:"-0.025em"},children:s("registration.contractor.title")}),o.jsx("p",{style:{fontSize:"1rem",color:"#6b7280",margin:0,lineHeight:1.5},children:s("registration.contractor.subtitle")})]}),o.jsx("div",{style:{marginBottom:"2rem"},children:l.map((p,h)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem",fontSize:"0.9rem",color:"#374151",flexDirection:i?"row-reverse":"row"},children:[o.jsx("div",{style:{width:"6px",height:"6px",background:"#3eb2b1",borderRadius:"50%",flexShrink:0}}),o.jsx("span",{style:{textAlign:i?"right":"left"},children:p})]},h))}),o.jsxs("button",{onClick:()=>e("CONTRACTOR"),style:{width:"100%",padding:"1rem",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",border:"none",borderRadius:"12px",color:"#ffffff",fontSize:"1rem",fontWeight:"600",fontFamily:w.typography.fonts.primary,cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",letterSpacing:"0.025em",position:"relative",overflow:"hidden"},onMouseEnter:p=>{p.currentTarget.style.background="linear-gradient(135deg, #22d3db 0%, #5cecea 100%)",p.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:p=>{p.currentTarget.style.background="linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",p.currentTarget.style.transform="translateY(0)"},children:[o.jsx("div",{style:{position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.4) 50%, transparent 100%)",animation:"wave 2s ease-in-out infinite"}}),o.jsx("span",{children:s("registration.contractor.joinButton")}),o.jsx("span",{style:{fontSize:"1.1rem"},children:i?"←":"→"})]})]});return o.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f0fdfc 0%, #e6fffd 100%)",display:"flex",flexDirection:"column"},children:o.jsxs("div",{style:{flex:1,padding:"clamp(2rem, 5vw, 4rem) clamp(1rem, 3vw, 2rem)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[o.jsx("h1",{style:{fontSize:"clamp(2.5rem, 5vw, 3.5rem)",fontWeight:"700",color:"#1a1a1a",margin:0,marginBottom:"1rem",letterSpacing:"-0.025em",lineHeight:1.2},children:s("registration.title")}),o.jsx("p",{style:{fontSize:"1.125rem",color:"#6b7280",lineHeight:1.6,maxWidth:"600px",margin:"0 auto"},children:s("registration.subtitle")})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(350px, 100%), 1fr))",gap:"clamp(2rem, 4vw, 3rem)",width:"100%",maxWidth:"900px",margin:"0 auto"},children:[o.jsx(d,{}),o.jsx(u,{})]}),o.jsxs("button",{onClick:t,style:{marginTop:"3rem",padding:"0.75rem 1.5rem",background:"rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"12px",color:"#374151",fontSize:"0.9rem",fontWeight:"500",fontFamily:w.typography.fonts.primary,cursor:"pointer",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",alignItems:"center",gap:"0.5rem",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},onMouseEnter:p=>{p.currentTarget.style.background="rgba(255, 255, 255, 0.3)",p.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:p=>{p.currentTarget.style.background="rgba(255, 255, 255, 0.2)",p.currentTarget.style.transform="translateY(0)"},children:[o.jsx("span",{style:{fontSize:"1.1rem"},children:i?"→":"←"}),o.jsx("span",{children:s("common.back")})]})]})})},Sm=({onBack:e,onLogin:t,onRegister:r,onComplete:n})=>{const{t:s,i18n:a}=xe(),i=He(),c=a.language==="ar",[l,d]=b.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",userType:"HOMEOWNER",agreeTerms:!1}),[u,p]=b.useState({}),[h,m]=b.useState(!1),[g,x]=b.useState(!1),[y,A]=b.useState(!1),S=()=>l.firstName.trim()!==""&&l.lastName.trim()!==""&&l.email.trim()!==""&&l.password.trim()!==""&&l.confirmPassword.trim()!==""&&l.phone.trim()!==""&&f.isVerified&&l.agreeTerms,[f,v]=b.useState({isVerified:!1,otpSent:!1,otp:"",isVerifying:!1,isSendingOTP:!1,resendCountdown:0}),[P,R]=b.useState({code:"+966",flag:"🇸🇦",name:"Saudi Arabia",digits:9}),k=[{code:"+966",flag:"🇸🇦",name:"Saudi Arabia",digits:9,format:"5XX XXX XXXX"},{code:"+91",flag:"🇮🇳",name:"India",digits:10,format:"XXXXX XXXXX"}],[I,q]=b.useState(!1);b.useEffect(()=>{const C=()=>{q(window.innerWidth<640)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const Z=(C,_)=>{switch(C){case"firstName":case"lastName":return _.trim()?_.length>25?s("auth.register.validation.nameMaxLength",{field:s(`auth.register.${C}`)}):/^[a-zA-Z\u0600-\u06FF\s]+$/.test(_)?null:s("auth.register.validation.nameInvalid",{field:s(`auth.register.${C}`)}):s("auth.register.validation.nameRequired",{field:s(`auth.register.${C}`)});case"email":return _.trim()?_.length>50?s("auth.register.validation.emailMaxLength"):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_)?null:s("auth.register.validation.emailInvalid"):s("auth.register.validation.emailRequired");case"password":return _?_.length<8?s("auth.register.validation.passwordMinLength"):_.length>25?s("auth.register.validation.passwordMaxLength"):/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(_)?null:s("auth.register.validation.passwordWeak"):s("auth.register.validation.passwordRequired");case"confirmPassword":return _!==l.password?s("auth.register.validation.passwordMismatch"):null;case"phone":if(!_.trim())return null;const T=_.replace(/\D/g,"");if(T.length>0){if(P.code==="+966"&&T[0]!=="5")return s("auth.register.validation.phoneSaudiStart");if(P.code==="+91"&&!["6","7","8","9"].includes(T[0]))return s("auth.register.validation.phoneIndianStart")}return T.length!==P.digits?s("auth.register.validation.phoneDigits",{digits:P.digits,country:P.name}):_.trim()&&!f.isVerified?s("auth.register.validation.phoneNotVerified"):null;case"agreeTerms":return _?null:s("auth.register.validation.agreeTermsRequired");default:return null}},X=(C,_)=>{if(d(T=>({...T,[C]:_})),u[C]&&p(T=>{const M={...T};return delete M[C],M}),["email","password","confirmPassword"].includes(C)&&_){const T=Z(C,_);T&&p(M=>({...M,[C]:T}))}C==="phone"&&v({isVerified:!1,otpSent:!1,otp:"",isVerifying:!1,isSendingOTP:!1,resendCountdown:0})},ae=()=>{const C={};return Object.keys(l).forEach(_=>{const T=_,M=Z(T,l[T]);M&&(C[T]=M)}),p(C),Object.keys(C).length===0},N=async()=>{if(l.phone.trim()){v(C=>({...C,isSendingOTP:!0})),p(C=>{const _={...C};return delete _.phone,_});try{const C=`${P.code}${l.phone}`,_=await ie.sendPhoneOTP(C);if(_.success){v(M=>({...M,otpSent:!0,isSendingOTP:!1,resendCountdown:60}));const T=setInterval(()=>{v(M=>M.resendCountdown<=1?(clearInterval(T),{...M,resendCountdown:0}):{...M,resendCountdown:M.resendCountdown-1})},1e3)}else p(T=>({...T,phone:_.error||s("phone.otp.send.failed")})),v(T=>({...T,isSendingOTP:!1}))}catch(C){p(_=>({..._,phone:C.message||s("phone.otp.send.failed")})),v(_=>({..._,isSendingOTP:!1}))}}},Y=async()=>{if(!f.otp.trim()||f.otp.length!==6){p(C=>({...C,otp:s("phone.otp.validation.length")}));return}v(C=>({...C,isVerifying:!0})),p(C=>{const _={...C};return delete _.otp,_});try{const C=`${P.code}${l.phone}`,_=await ie.verifyPhoneOTP({phone:C,otp:f.otp});_.success?v(T=>({...T,isVerified:!0,isVerifying:!1})):(p(T=>({...T,otp:_.error||s("phone.verification.failed")})),v(T=>({...T,isVerifying:!1})))}catch(C){p(_=>({..._,otp:C.message||s("phone.verification.failed")})),v(_=>({..._,isVerifying:!1}))}},K=async C=>{if(C.preventDefault(),!!ae()){m(!0),p({});try{if(!l.phone.trim()){p({phone:s("auth.register.validation.phoneRequired")});return}if(l.phone.trim()&&!f.isVerified){p({phone:s("auth.register.validation.phoneNotVerified")});return}const _=l.userType==="GOVERNMENT"?"BUSINESS":l.userType,T=await ie.register({email:l.email,password:l.password,confirmPassword:l.confirmPassword,firstName:l.firstName,lastName:l.lastName,phone:l.phone?`${P.code}${l.phone}`:void 0,role:"USER",user_type:_});if(!T.success)throw new Error(T.error||"Registration failed");console.log("✅ Registration successful, user is now logged in"),i("/")}catch(_){console.error("❌ Registration failed:",_);const T=_.message||_.error||"Registration failed. Please try again.";p({general:T})}finally{m(!1)}}},V=({show:C,onToggle:_})=>o.jsx("button",{type:"button",onClick:_,style:{position:"absolute",right:c?"auto":"0.75rem",left:c?"0.75rem":"auto",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#6b7280",padding:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center"},children:C?"👁️":"👁️‍🗨️"});return o.jsx("div",{style:{minHeight:"100vh",background:w.colors.gradients.primaryLight,color:w.colors.text.primary,fontFamily:w.typography.fonts.primary,direction:c?"rtl":"ltr"},children:o.jsx("main",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 80px)",padding:I?"1rem":"2rem",marginTop:"80px"},children:o.jsxs("div",{style:{width:"100%",maxWidth:"500px",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",borderRadius:"1rem",padding:I?"1.5rem":"2rem",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[o.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",marginBottom:"0.5rem",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:s("auth.register.title")}),o.jsx("p",{style:{color:"#6b7280"},children:s("auth.register.subtitle")})]}),u.general&&o.jsx("div",{style:{background:"#fee2e2",border:"1px solid #fecaca",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem",color:"#dc2626",fontSize:"0.875rem"},children:u.general}),o.jsxs("form",{onSubmit:K,children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:I?"1fr":"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[s("auth.register.firstName")," *"]}),o.jsx("input",{type:"text",value:l.firstName,onChange:C=>X("firstName",C.target.value),placeholder:s("auth.register.firstNamePlaceholder"),style:{width:"100%",padding:"0.75rem",border:u.firstName?"1px solid #ef4444":"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"0.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease"}}),u.firstName&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem",display:"block"},children:u.firstName})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[s("auth.register.lastName")," *"]}),o.jsx("input",{type:"text",value:l.lastName,onChange:C=>X("lastName",C.target.value),placeholder:s("auth.register.lastNamePlaceholder"),style:{width:"100%",padding:"0.75rem",border:u.lastName?"1px solid #ef4444":"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"0.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease"}}),u.lastName&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem",display:"block"},children:u.lastName})]})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[s("auth.userType")," *"]}),o.jsxs("select",{value:l.userType,onChange:C=>X("userType",C.target.value),style:{width:"100%",padding:"0.75rem",border:u.userType?"1px solid #ef4444":"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"0.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease",cursor:"pointer"},children:[o.jsx("option",{value:"HOMEOWNER",children:s("auth.userTypes.HOMEOWNER")}),o.jsx("option",{value:"BUSINESS",children:s("auth.userTypes.BUSINESS")}),o.jsx("option",{value:"INDUSTRIAL",children:s("auth.userTypes.INDUSTRIAL")}),o.jsx("option",{value:"GOVERNMENT",children:s("auth.userTypes.GOVERNMENT")})]})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[s("auth.register.email")," *"]}),o.jsx("input",{type:"email",value:l.email,onChange:C=>X("email",C.target.value),placeholder:s("auth.register.emailPlaceholder"),style:{width:"100%",padding:"0.75rem",border:u.email?"1px solid #ef4444":"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"0.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease"}}),u.email&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem",display:"block"},children:u.email})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:w.colors.text.primary},children:[s("auth.register.phone")," ",o.jsx("span",{style:{color:w.colors.text.primary},children:"*"})," ",f.isVerified&&o.jsxs("span",{style:{color:w.colors.semantic.success.main,fontSize:"0.75rem",marginLeft:c?"0":"0.5rem",marginRight:c?"0.5rem":"0"},children:["✓ ",s("auth.register.verified")]})]}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexDirection:I?"column":"row",alignItems:"stretch"},children:[o.jsx("select",{value:P.code,onChange:C=>{const _=k.find(T=>T.code===C.target.value);_&&(R(_),X("phone",""))},style:{minWidth:I?"100%":"90px",width:I?"100%":"auto",padding:"0.75rem",border:`1px solid ${w.colors.borders.light}`,borderRadius:w.radius.md,fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",cursor:"pointer",color:w.colors.text.primary},children:k.map(C=>o.jsxs("option",{value:C.code,children:[C.flag," ",C.code]},C.code))}),o.jsx("input",{type:"tel",value:l.phone,onChange:C=>{const _=C.target.value.replace(/\D/g,"");_.length===1&&(P.code==="+966"&&_[0]!=="5"||P.code==="+91"&&!["6","7","8","9"].includes(_[0]))||_.length<=P.digits&&X("phone",_)},placeholder:P.code==="+966"?"5XXXXXXXX":"9XXXXXXXXX",disabled:f.isVerified,style:{flex:I?"none":1,width:I?"100%":"auto",padding:"0.75rem",border:`1px solid ${u.phone?w.colors.borders.error:w.colors.borders.light}`,borderRadius:w.radius.md,fontSize:"1rem",background:f.isVerified?w.colors.semantic.success.light:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease",cursor:f.isVerified?"not-allowed":"text",color:w.colors.text.primary}})]}),l.phone.trim()&&l.phone.length===P.digits&&!f.isVerified&&o.jsx("div",{style:{marginTop:"0.75rem"},children:o.jsx("button",{type:"button",onClick:N,disabled:f.isSendingOTP||f.resendCountdown>0,style:{width:"100%",padding:"0.75rem",background:f.isSendingOTP||f.resendCountdown>0?w.colors.secondary[400]:f.otpSent?w.colors.secondary[600]:w.colors.gradients.button,color:w.colors.text.inverse,border:"none",borderRadius:w.radius.md,fontSize:"0.875rem",fontWeight:"500",cursor:f.isSendingOTP||f.resendCountdown>0?"not-allowed":"pointer",transition:"all 0.2s ease"},children:f.isSendingOTP?s("auth.register.sending"):f.resendCountdown>0?`${s("auth.register.resend")} (${f.resendCountdown}s)`:f.otpSent?s("auth.register.resend"):s("auth.register.sendOTP")})}),f.otpSent&&!f.isVerified&&o.jsxs("div",{style:{marginTop:"0.75rem",padding:"1rem",background:w.colors.semantic.info.light,borderRadius:w.radius.md,border:`1px solid ${w.colors.semantic.info.main}20`},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:w.colors.text.secondary,marginBottom:"0.75rem",textAlign:"center"},children:s("phone.otp.description",{phone:`${P.code}${l.phone}`})}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexDirection:I?"column":"row"},children:[o.jsx("input",{type:"text",value:f.otp,onChange:C=>{const _=C.target.value.replace(/\D/g,"");_.length<=6&&(v(T=>({...T,otp:_})),u.otp&&p(T=>{const M={...T};return delete M.otp,M}))},placeholder:s("auth.register.otpPlaceholder"),maxLength:6,style:{flex:1,padding:"0.75rem",border:`1px solid ${u.otp?w.colors.borders.error:w.colors.borders.medium}`,borderRadius:w.radius.md,fontSize:"1.125rem",background:w.colors.backgrounds.primary,transition:"all 0.2s ease",textAlign:"center",letterSpacing:"0.2em",fontWeight:"500",color:w.colors.text.primary}}),o.jsx("button",{type:"button",onClick:Y,disabled:f.isVerifying||f.otp.length!==6,style:{minWidth:I?"100%":"120px",padding:"0.75rem 1rem",background:f.isVerifying||f.otp.length!==6?w.colors.secondary[400]:w.colors.semantic.success.main,color:w.colors.text.inverse,border:"none",borderRadius:w.radius.md,fontSize:"0.875rem",fontWeight:"600",cursor:f.isVerifying||f.otp.length!==6?"not-allowed":"pointer",transition:"all 0.2s ease"},children:f.isVerifying?s("auth.register.verifying"):s("auth.register.verify")})]}),u.otp&&o.jsx("div",{style:{fontSize:"0.75rem",color:w.colors.semantic.error.main,marginTop:"0.5rem",textAlign:"center",fontWeight:"500"},children:u.otp})]}),u.phone&&o.jsx("div",{style:{fontSize:"0.75rem",color:w.colors.semantic.error.main,marginTop:"0.5rem",fontWeight:"500"},children:u.phone})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[s("auth.register.password")," *"]}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx("input",{type:g?"text":"password",value:l.password,onChange:C=>X("password",C.target.value),placeholder:s("auth.register.passwordPlaceholder"),style:{width:"100%",padding:"0.75rem",paddingRight:"3rem",border:u.password?"1px solid #ef4444":"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"0.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease"}}),o.jsx(V,{show:g,onToggle:()=>x(!g)})]}),u.password&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem",display:"block"},children:u.password})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[s("auth.register.confirmPassword")," *"]}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx("input",{type:y?"text":"password",value:l.confirmPassword,onChange:C=>X("confirmPassword",C.target.value),placeholder:s("auth.register.confirmPasswordPlaceholder"),style:{width:"100%",padding:"0.75rem",paddingRight:"3rem",border:u.confirmPassword?"1px solid #ef4444":"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"0.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease"}}),o.jsx(V,{show:y,onToggle:()=>A(!y)})]}),u.confirmPassword&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem",display:"block"},children:u.confirmPassword})]}),o.jsxs("div",{style:{marginBottom:"1.5rem"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",cursor:"pointer",flexDirection:c?"row-reverse":"row"},children:[o.jsx("input",{type:"checkbox",checked:l.agreeTerms,onChange:C=>X("agreeTerms",C.target.checked),style:{marginTop:"0.25rem",cursor:"pointer"}}),o.jsx("span",{style:{fontSize:"0.875rem",color:"#4b5563",lineHeight:"1.5"},children:s("auth.register.agreeTerms")})]}),u.agreeTerms&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem",display:"block"},children:u.agreeTerms})]}),o.jsx("button",{type:"submit",disabled:h||!S(),style:{width:"100%",padding:"0.75rem",background:h||!S()?"#94a3b8":"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",color:"#ffffff",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:h||!S()?"not-allowed":"pointer",transition:"all 0.2s ease",boxShadow:h||!S()?"none":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:s(h?"common.loading":"auth.register.createAccount")}),o.jsxs("div",{style:{textAlign:"center",marginTop:"1.5rem"},children:[o.jsxs("span",{style:{color:"#6b7280",fontSize:"0.875rem"},children:[s("auth.register.hasAccount")," "]}),o.jsx("button",{type:"button",onClick:t,style:{color:"#3eb2b1",background:"none",border:"none",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",textDecoration:"underline"},children:s("auth.register.signIn")})]})]})]})})})},jm=`
.custom-checkbox {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  width: 18px;
  height: 18px;
  border: 2px solid #d1d5db;
  border-radius: 4px;
  background: white;
  cursor: pointer;
  position: relative;
  transition: all 0.2s ease;
  flex-shrink: 0;
  margin-top: 0.25rem;
}

.custom-checkbox:hover {
  border-color: #3eb2b1;
}

.custom-checkbox:checked {
  background: #3eb2b1;
  border-color: #3eb2b1;
}

.custom-checkbox:checked::after {
  content: '';
  position: absolute;
  left: 5px;
  top: 2px;
  width: 4px;
  height: 8px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

.custom-checkbox:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
`;if(!document.querySelector("#contractor-registration-checkbox-styles")){const e=document.createElement("style");e.id="contractor-registration-checkbox-styles",e.textContent=jm,document.head.appendChild(e)}const _m=({onBack:e,onLogin:t,onRegister:r})=>{const n=He(),{t:s,i18n:a}=xe(),i=a.language==="ar",[c,l]=b.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",companyName:"",crNumber:"",vatNumber:"",userType:"BUSINESS",agreeToTerms:!1}),[d,u]=b.useState({}),[p,h]=b.useState(!1),[m,g]=b.useState(!1),[x,y]=b.useState(!1),[A,S]=b.useState({isVerified:!1,otpSent:!1,otp:"",isVerifying:!1,isSendingOTP:!1,resendCountdown:0}),[f,v]=b.useState({code:"+966",flag:"🇸🇦",name:s("countries.saudi_arabia"),digits:9}),P=[{code:"+966",flag:"🇸🇦",name:s("countries.saudi_arabia"),digits:9,format:"5XX XXX XXXX"},{code:"+91",flag:"🇮🇳",name:s("countries.india"),digits:10,format:"XXXXX XXXXX"}],[R,k]=b.useState(!1);b.useEffect(()=>{const C=()=>{k(window.innerWidth<640)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const I=(C,_)=>{switch(C){case"firstName":return _.trim()?_.length<2?s("validation.firstName_minLength"):_.length>50?s("validation.firstName_maxLength"):/^[a-zA-Z\u0600-\u06FF\s'-]+$/.test(_.trim())?/^\s|\s$/.test(_)?s("validation.firstName_spaces"):/\s{2,}/.test(_)?s("validation.firstName_consecutive"):null:s("validation.firstName_invalid"):s("validation.firstName_required");case"lastName":return _.trim()?_.length<2?s("validation.lastName_minLength"):_.length>50?s("validation.lastName_maxLength"):/^[a-zA-Z\u0600-\u06FF\s'-]+$/.test(_.trim())?/^\s|\s$/.test(_)?s("validation.lastName_spaces"):/\s{2,}/.test(_)?s("validation.lastName_consecutive"):null:s("validation.lastName_invalid"):s("validation.lastName_required");case"email":if(!_.trim())return s("validation.email_required");const T=_.trim().toLowerCase();if(T.length>100)return s("validation.email_maxLength");if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(T))return s("validation.email_invalid");const W=["gmail.com","yahoo.com","hotmail.com","outlook.com","icloud.com","aol.com","live.com"],D=T.split("@")[1];return W.includes(D)?s("validation.email_business"):T.includes("..")?s("validation.email_consecutive"):T.startsWith(".")||T.endsWith(".")?s("validation.email_dots"):null;case"password":return _?_.length<8?s("validation.password_min_length"):_.length>128?s("validation.password_maxLength"):/(?=.*[a-z])/.test(_)?/(?=.*[A-Z])/.test(_)?/(?=.*\d)/.test(_)?/(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?])/.test(_)?/\s/.test(_)?s("validation.password_spaces"):/(.)\1{2,}/.test(_)?s("validation.password_consecutive"):["password","Password","PASSWORD","12345678","qwerty","abc123","password123","admin123"].some(de=>_.toLowerCase().includes(de.toLowerCase()))?s("validation.password_common"):null:s("validation.password_special"):s("validation.password_number"):s("validation.password_uppercase"):s("validation.password_lowercase"):s("validation.password_required");case"confirmPassword":return _?_!==c.password?s("validation.confirm_password_mismatch"):null:s("validation.confirm_password_required");case"phone":if(!_.trim())return s("validation.phone_business_required");const ye=_.replace(/\D/g,"");if(f.code==="+966"){if(ye.length!==9||!ye.startsWith("5")||!/^5[0-9]{8}$/.test(ye))return s("validation.phone_saudi_invalid")}else if(f.code==="+91"&&(ye.length!==10||!["6","7","8","9"].includes(ye[0])))return s("validation.phone_indian_invalid");return _.trim()&&!A.isVerified?s("validation.phone_must_verify"):null;case"companyName":return _.trim()?_.length<2?s("validation.company_name_minLength"):_.length>100?s("validation.company_name_maxLength"):/^[a-zA-Z0-9\u0600-\u06FF\s\-&.,()]+$/.test(_.trim())?/^\s|\s$/.test(_)?s("validation.company_name_spaces"):/\s{2,}/.test(_)?s("validation.company_name_consecutive"):null:s("validation.company_name_invalid"):s("validation.company_name_required");case"crNumber":if(_&&_.trim()){const de=_.trim();if(!/^[0-9]+$/.test(de))return s("validation.cr_number_digits");if(de.length!==10)return s("validation.cr_number_length");if(!de.startsWith("10")&&!de.startsWith("20")&&!de.startsWith("30")&&!de.startsWith("40"))return s("validation.cr_number_start")}return null;case"vatNumber":if(_&&_.trim()){const de=_.trim();if(!/^[0-9]+$/.test(de))return s("validation.vat_number_digits");if(de.length!==15)return s("validation.vat_number_length");if(!de.startsWith("3")||!de.endsWith("3"))return s("validation.vat_number_format")}return null;case"agreeToTerms":return _?null:s("validation.terms_required");default:return null}},q=(C,_)=>{if(typeof _!="string")return _;switch(C){case"firstName":case"lastName":return _.slice(0,50).replace(/[^a-zA-Z\u0600-\u06FF\s'-]/g,"");case"email":return _.trim().toLowerCase().slice(0,100);case"companyName":return _.slice(0,100).replace(/[^a-zA-Z0-9\u0600-\u06FF\s\-&.,()]/g,"");case"phone":return _.replace(/\D/g,"").slice(0,f.digits);case"crNumber":return _.replace(/\D/g,"").slice(0,10);case"vatNumber":return _.replace(/\D/g,"").slice(0,15);case"password":case"confirmPassword":return _.replace(/\s/g,"").slice(0,128);default:return _}},Z=(C,_)=>{const T=q(C,_);if(l(M=>({...M,[C]:T})),d[C]&&u(M=>{const W={...M};return delete W[C],W}),["email","password","confirmPassword","companyName","firstName","lastName"].includes(C)&&T&&setTimeout(()=>{const M=I(C,T);M&&u(W=>({...W,[C]:M}))},500),C==="confirmPassword"&&T){const M=I(C,T);M&&u(W=>({...W,[C]:M}))}C==="phone"&&S({isVerified:!1,otpSent:!1,otp:"",isVerifying:!1,isSendingOTP:!1,resendCountdown:0})},X=()=>{const C={},_=[/script/i,/javascript/i,/alert/i,/onclick/i,/onerror/i,/<[^>]*>/g,/[<>'"]/g];if(Object.entries(c).forEach(([T,M])=>{if(typeof M=="string"){for(const W of _)if(W.test(M)){C[T]=s("validation.invalid_characters");break}}}),c.firstName&&c.lastName&&c.firstName.toLowerCase()===c.lastName.toLowerCase()&&(C.lastName=s("validation.names_identical")),c.email){const T=c.email.split("@")[1];T&&(["10minutemail.com","tempmail.org","guerrillamail.com","mailinator.com"].some(W=>T.includes(W))&&(C.email=s("validation.temp_email")),(T.length<4||T.length>63)&&(C.email=s("validation.email_domain_invalid")))}return c.companyName&&["test","company","business","corp","inc","ltd","llc"].includes(c.companyName.toLowerCase().trim())&&(C.companyName=s("validation.company_name_generic")),{isValid:Object.keys(C).length===0,errors:C}},ae=()=>{const C={};Object.keys(c).forEach(T=>{const M=T;if(M==="crNumber"||M==="vatNumber")return;const W=I(M,c[M]);W&&(C[M]=W)});const _=X();if(_.isValid||Object.assign(C,_.errors),c.email&&c.companyName){const T=c.email.split("@")[1];T&&!T.toLowerCase().includes(c.companyName.toLowerCase().split(" ")[0])&&console.warn("Email domain does not match company name")}return u(C),Object.keys(C).length===0},N=async()=>{if(c.phone.trim()){S(C=>({...C,isSendingOTP:!0})),u(C=>{const _={...C};return delete _.phone,_});try{const C=`${f.code}${c.phone}`,_=await ie.sendPhoneOTP(C);if(_.success){S(M=>({...M,otpSent:!0,isSendingOTP:!1,resendCountdown:60}));const T=setInterval(()=>{S(M=>M.resendCountdown<=1?(clearInterval(T),{...M,resendCountdown:0}):{...M,resendCountdown:M.resendCountdown-1})},1e3)}else u(T=>({...T,phone:_.error||s("phone.otp.send.failed")})),S(T=>({...T,isSendingOTP:!1}))}catch(C){u(_=>({..._,phone:C.message||s("phone.otp.send.failed")})),S(_=>({..._,isSendingOTP:!1}))}}},Y=async()=>{if(!A.otp.trim()||A.otp.length!==6){u(C=>({...C,otp:s("phone.otp.validation.length")}));return}S(C=>({...C,isVerifying:!0})),u(C=>{const _={...C};return delete _.otp,_});try{const C=`${f.code}${c.phone}`,_=await ie.verifyPhoneOTP({phone:C,otp:A.otp});_.success?S(T=>({...T,isVerified:!0,isVerifying:!1})):(u(T=>({...T,otp:_.error||s("phone.verification.failed")})),S(T=>({...T,isVerifying:!1})))}catch(C){u(_=>({..._,otp:C.message||s("phone.verification.failed")})),S(_=>({..._,isVerifying:!1}))}},K=async C=>{if(C.preventDefault(),!!ae()){h(!0);try{if(c.phone.trim()&&!A.isVerified){u({phone:s("auth.register.validation.phoneNotVerified")}),h(!1);return}const _=await pe.auth.registerContractor({firstName:c.firstName,lastName:c.lastName,email:c.email,password:c.password,phone:c.phone?`${f.code}${c.phone}`:void 0,companyName:c.companyName,crNumber:c.crNumber,vatNumber:c.vatNumber,userType:c.userType});if(_.success){_.data?.accessToken&&(pe.setAccessToken(_.data.accessToken),console.log("✅ Access token set after contractor registration"));const T=await pe.auth.getCurrentUser();T.success&&T.data?(console.log("✅ User data fetched successfully after contractor registration"),await ie.checkAuthStatus(),console.log("✅ Contractor registration successful"),n("/dashboard")):(console.warn("⚠️ Could not fetch user data after contractor registration"),n("/dashboard"))}}catch(_){console.error("Contractor registration failed:",_),_.error==="Business email already registered"?u({email:s("validation.email_already_registered")}):_.error==="Business phone already registered"?u({phone:s("validation.phone_already_registered")}):u({email:_.error||s("registration.registration_failed")})}finally{h(!1)}}},V=({show:C,onToggle:_})=>o.jsx("button",{type:"button",onClick:_,style:{position:"absolute",right:i?"auto":"0.75rem",left:i?"0.75rem":"auto",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#6b7280",padding:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center"},children:C?"👁️":"👁️‍🗨️"});return o.jsx("div",{style:{minHeight:"100vh",background:w.colors.gradients.primaryLight,color:w.colors.text.primary,fontFamily:w.typography.fonts.primary,direction:i?"rtl":"ltr"},children:o.jsx("main",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 80px)",padding:R?"1rem":"2rem",marginTop:"80px"},children:o.jsxs("div",{style:{width:"100%",maxWidth:"600px",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",borderRadius:"1rem",padding:R?"1.5rem":"2rem",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[o.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[o.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",marginBottom:"0.5rem",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:s("registration.contractor.title")}),o.jsx("p",{style:{color:"#6b7280"},children:s("registration.contractor.subtitle")})]}),d.general&&o.jsx("div",{style:{background:"#fee2e2",border:"1px solid #fecaca",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem",color:"#dc2626",fontSize:"0.875rem"},children:d.general}),o.jsxs("form",{onSubmit:K,children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:R?"1fr":"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[s("form.first_name")," *"]}),o.jsx("input",{type:"text",value:c.firstName,onChange:C=>Z("firstName",C.target.value),placeholder:s("registration.contractor.firstName_placeholder"),style:{width:"100%",padding:"0.75rem",border:d.firstName?"1px solid #ef4444":"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"0.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease"}}),d.firstName&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem",display:"block"},children:d.firstName})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[s("form.last_name")," *"]}),o.jsx("input",{type:"text",value:c.lastName,onChange:C=>Z("lastName",C.target.value),placeholder:s("registration.contractor.lastName_placeholder"),style:{width:"100%",padding:"0.75rem",border:d.lastName?"1px solid #ef4444":"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"0.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease"}}),d.lastName&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem",display:"block"},children:d.lastName})]})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[s("form.company_name")," *"]}),o.jsx("input",{type:"text",value:c.companyName,onChange:C=>Z("companyName",C.target.value),placeholder:s("registration.contractor.companyName_placeholder"),style:{width:"100%",padding:"0.75rem",border:d.companyName?"1px solid #ef4444":"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"0.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease"}}),d.companyName&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem",display:"block"},children:d.companyName})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:R?"1fr":"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[s("form.cr_number")," ",o.jsxs("span",{style:{color:"#6b7280",fontSize:"0.75rem"},children:["(",s("common.optional"),")"]})]}),o.jsx("input",{type:"text",value:c.crNumber,onChange:C=>Z("crNumber",C.target.value),placeholder:s("registration.contractor.crNumber_placeholder"),title:s("registration.contractor.crNumber_tooltip"),style:{width:"100%",padding:"0.75rem",border:d.crNumber?"1px solid #ef4444":"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"0.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease"}}),d.crNumber&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem",display:"block"},children:d.crNumber})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[s("form.vat_number")," ",o.jsxs("span",{style:{color:"#6b7280",fontSize:"0.75rem"},children:["(",s("common.optional"),")"]})]}),o.jsx("input",{type:"text",value:c.vatNumber,onChange:C=>Z("vatNumber",C.target.value),placeholder:s("registration.contractor.vatNumber_placeholder"),title:s("registration.contractor.vatNumber_tooltip"),style:{width:"100%",padding:"0.75rem",border:d.vatNumber?"1px solid #ef4444":"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"0.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease"}}),d.vatNumber&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem",display:"block"},children:d.vatNumber})]})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[s("form.business_email")," *"]}),o.jsx("input",{type:"email",value:c.email,onChange:C=>Z("email",C.target.value),placeholder:s("registration.contractor.businessEmail_placeholder"),style:{width:"100%",padding:"0.75rem",border:d.email?"1px solid #ef4444":"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"0.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease"}}),d.email&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem",display:"block"},children:d.email})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:w.colors.text.primary},children:[s("form.business_phone")," * ",A.isVerified&&o.jsxs("span",{style:{color:w.colors.semantic.success.main,fontSize:"0.75rem",marginLeft:i?"0":"0.5rem",marginRight:i?"0.5rem":"0"},children:["✓ ",s("auth.register.verified")]})]}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexDirection:R?"column":"row",alignItems:"stretch"},children:[o.jsx("select",{value:f.code,onChange:C=>{const _=P.find(T=>T.code===C.target.value);_&&(v(_),Z("phone",""))},style:{minWidth:R?"100%":"90px",width:R?"100%":"auto",padding:"0.75rem",border:`1px solid ${w.colors.borders.light}`,borderRadius:"0.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",cursor:"pointer",color:w.colors.text.primary},children:P.map(C=>o.jsxs("option",{value:C.code,children:[C.flag," ",C.code]},C.code))}),o.jsx("input",{type:"tel",value:c.phone,onChange:C=>{const _=C.target.value.replace(/\D/g,"");_.length<=f.digits&&Z("phone",_)},placeholder:s("auth.register.phonePlaceholder"),disabled:A.isVerified,style:{flex:R?"none":1,width:R?"100%":"auto",padding:"0.75rem",border:`1px solid ${d.phone?"#ef4444":"rgba(229, 231, 235, 0.5)"}`,borderRadius:"0.5rem",fontSize:"1rem",background:A.isVerified?w.colors.semantic.success.light:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease",cursor:A.isVerified?"not-allowed":"text",color:w.colors.text.primary}})]}),c.phone.trim()&&c.phone.length===f.digits&&!A.isVerified&&o.jsx("div",{style:{marginTop:"0.75rem"},children:o.jsx("button",{type:"button",onClick:N,disabled:A.isSendingOTP||A.resendCountdown>0,style:{width:"100%",padding:"0.75rem",background:A.isSendingOTP||A.resendCountdown>0?"#94a3b8":A.otpSent?"#6b7280":"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",color:"#ffffff",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:A.isSendingOTP||A.resendCountdown>0?"not-allowed":"pointer",transition:"all 0.2s ease"},children:A.isSendingOTP?s("auth.register.sending"):A.resendCountdown>0?`${s("auth.register.resend")} (${A.resendCountdown}s)`:A.otpSent?s("auth.register.resend"):s("auth.register.sendOTP")})}),A.otpSent&&!A.isVerified&&o.jsxs("div",{style:{marginTop:"0.75rem",padding:"1rem",background:w.colors.semantic.info.light,borderRadius:"0.5rem",border:`1px solid ${w.colors.semantic.info.main}20`},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:w.colors.text.secondary,marginBottom:"0.75rem",textAlign:"center"},children:s("phone.otp.description",{phone:`${f.code}${c.phone}`})}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexDirection:R?"column":"row"},children:[o.jsx("input",{type:"text",value:A.otp,onChange:C=>{const _=C.target.value.replace(/\D/g,"");_.length<=6&&(S(T=>({...T,otp:_})),d.otp&&u(T=>{const M={...T};return delete M.otp,M}))},placeholder:s("auth.register.otpPlaceholder"),maxLength:6,style:{flex:1,padding:"0.75rem",border:`1px solid ${d.otp?"#ef4444":"rgba(229, 231, 235, 0.5)"}`,borderRadius:"0.5rem",fontSize:"1.125rem",background:"rgba(255, 255, 255, 0.8)",transition:"all 0.2s ease",textAlign:"center",letterSpacing:"0.2em",fontWeight:"500",color:w.colors.text.primary}}),o.jsx("button",{type:"button",onClick:Y,disabled:A.isVerifying||A.otp.length!==6,style:{minWidth:R?"100%":"120px",padding:"0.75rem 1rem",background:A.isVerifying||A.otp.length!==6?"#94a3b8":w.colors.semantic.success.main,color:"#ffffff",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"600",cursor:A.isVerifying||A.otp.length!==6?"not-allowed":"pointer",transition:"all 0.2s ease"},children:A.isVerifying?s("auth.register.verifying"):s("auth.register.verify")})]}),d.otp&&o.jsx("div",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.5rem",textAlign:"center",fontWeight:"500"},children:d.otp})]}),d.phone&&o.jsx("div",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.5rem",fontWeight:"500"},children:d.phone})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[s("form.password")," *"]}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx("input",{type:m?"text":"password",value:c.password,onChange:C=>Z("password",C.target.value),placeholder:s("registration.contractor.password_placeholder"),style:{width:"100%",padding:"0.75rem",paddingRight:"3rem",border:d.password?"1px solid #ef4444":"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"0.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease"}}),o.jsx(V,{show:m,onToggle:()=>g(!m)})]}),d.password&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem",display:"block"},children:d.password})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[s("form.confirm_password")," *"]}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx("input",{type:x?"text":"password",value:c.confirmPassword,onChange:C=>Z("confirmPassword",C.target.value),placeholder:s("registration.contractor.confirmPassword_placeholder"),style:{width:"100%",padding:"0.75rem",paddingRight:"3rem",border:d.confirmPassword?"1px solid #ef4444":"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"0.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",transition:"all 0.2s ease"}}),o.jsx(V,{show:x,onToggle:()=>y(!x)})]}),d.confirmPassword&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem",display:"block"},children:d.confirmPassword})]}),o.jsxs("div",{style:{marginBottom:"1.5rem"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",cursor:"pointer",flexDirection:i?"row-reverse":"row"},children:[o.jsx("input",{type:"checkbox",className:"custom-checkbox",checked:c.agreeToTerms,onChange:C=>Z("agreeToTerms",C.target.checked)}),o.jsxs("span",{style:{fontSize:"0.875rem",color:"#4b5563",lineHeight:"1.5"},children:[s("form.agree_to_terms")," "," ",o.jsx(Os,{to:"/terms",style:{color:"#3eb2b1",textDecoration:"underline"},children:s("form.terms_and_conditions")})," "," ",s("form.and")," "," ",o.jsx(Os,{to:"/privacy",style:{color:"#3eb2b1",textDecoration:"underline"},children:s("form.privacy_policy")})]})]}),d.agreeToTerms&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#ef4444",marginTop:"0.25rem",display:"block"},children:d.agreeToTerms})]}),o.jsx("button",{type:"submit",disabled:p,style:{width:"100%",padding:"0.75rem",background:p?"#94a3b8":"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",color:"#ffffff",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:p?"not-allowed":"pointer",transition:"all 0.2s ease",boxShadow:p?"none":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",display:"flex",alignItems:"center",justifyContent:"center"},children:p?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid transparent",borderTop:"2px solid #ffffff",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"0.5rem"}}),s("form.registering")]}):s("form.register_contractor")}),o.jsxs("div",{style:{textAlign:"center",marginTop:"1.5rem"},children:[o.jsxs("span",{style:{color:"#6b7280",fontSize:"0.875rem"},children:[s("registration.already_have_account")," "," "]}),o.jsx("button",{type:"button",onClick:t,style:{color:"#3eb2b1",background:"none",border:"none",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",textDecoration:"underline"},children:s("registration.login_here")})]})]})]})})})},Cm=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("polyline",{points:"9,22 9,12 15,12 15,22",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),Tm=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"currentColor",strokeWidth:"2",fill:"currentColor",fillOpacity:"0.2"}),o.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),Am=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),Pm=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("polyline",{points:"14,2 14,8 20,8",stroke:"currentColor",strokeWidth:"2",fill:"none"}),o.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("polyline",{points:"10,9 9,9 8,9",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),Rm=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("path",{d:"M16 10a4 4 0 0 1-8 0",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),Lm=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("polyline",{points:"13,2 13,9 20,9",stroke:"currentColor",strokeWidth:"2",fill:"none"}),o.jsx("line",{x1:"8",y1:"13",x2:"16",y2:"13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("line",{x1:"8",y1:"17",x2:"16",y2:"17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),oi=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"2",fill:"none"}),o.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),Em=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("polyline",{points:"16,17 21,12 16,7",stroke:"currentColor",strokeWidth:"2",fill:"none"}),o.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),Mm=()=>o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("polyline",{points:"6,9 12,15 18,9",stroke:"currentColor",strokeWidth:"2",fill:"none"})}),Im=({user:e,onLogout:t,activeItem:r="dashboard",onItemClick:n})=>{const{t:s,i18n:a}=xe(),i=a.language==="ar",[c,l]=b.useState(!1),[d,u]=b.useState(window.innerWidth>=1024),[p,h]=b.useState(!1),m=b.useRef(null);b.useEffect(()=>{const V=()=>{const _=window.innerWidth>=1024;u(_),_&&l(!1)},C=_=>{m.current&&!m.current.contains(_.target)&&h(!1)};return window.addEventListener("resize",V),document.addEventListener("mousedown",C),()=>{window.removeEventListener("resize",V),document.removeEventListener("mousedown",C)}},[]);const g=()=>e.first_name&&e.last_name?`${e.first_name.charAt(0)}${e.last_name.charAt(0)}`.toUpperCase():e.first_name?e.first_name.charAt(0).toUpperCase():e.last_name?e.last_name.charAt(0).toUpperCase():e.email.charAt(0).toUpperCase(),y=(()=>{const V=[e.first_name,e.last_name,e.email,e.phone,e.national_id,e.region,e.city,e.district,e.street_address,e.property_type,e.property_ownership,e.monthly_income,e.employment_status],C=V.filter(_=>_&&_.toString().trim()!=="").length;return Math.round(C/V.length*100)})(),A=y===100,S=A?1:.5,f=28,v=2*Math.PI*f,P=v,R=v-v*y/100,k=()=>e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.first_name?e.first_name:e.last_name?e.last_name:e.email.split("@")[0],q=[{key:"dashboard",translationKey:"userApp.sidebar.dashboard",icon:o.jsx(Cm,{})},{key:"calculator",translationKey:"userApp.sidebar.calculator",icon:o.jsx(Tm,{})},{key:"financing",translationKey:"userApp.sidebar.financing",icon:o.jsx(Am,{}),userTypes:["USER"]},{key:"projects",translationKey:"userApp.sidebar.projects",icon:o.jsx(Pm,{}),userTypes:["CONTRACTOR"]},{key:"marketplace",translationKey:"userApp.sidebar.marketplace",icon:o.jsx(Rm,{})},{key:"documents",translationKey:"userApp.sidebar.documents",icon:o.jsx(Lm,{})},{key:"profile",translationKey:"userApp.sidebar.profile",icon:o.jsx(oi,{})}].filter(V=>!V.userTypes||V.userTypes.includes(e.role)),Z=He();Rr();const X=r,ae=V=>{if(V==="settings"){h(!p);return}switch(V){case"dashboard":Z("/dashboard");break;case"profile":Z("/profile");break;case"calculator":case"financing":case"projects":case"marketplace":case"documents":Z("/dashboard");break;default:Z("/dashboard")}n?.(V),l(!1)},N=()=>{Z("/dashboard/profile"),h(!1)},Y=()=>{h(!1),t()},K={sidebar:{position:"fixed",top:0,[i?"right":"left"]:0,height:"100vh",width:"280px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRight:i?"none":"1px solid rgba(62, 178, 177, 0.2)",borderLeft:i?"1px solid rgba(62, 178, 177, 0.2)":"none",boxShadow:i?"-8px 0 32px rgba(62, 178, 177, 0.15)":"8px 0 32px rgba(62, 178, 177, 0.15)",display:"flex",flexDirection:"column",zIndex:1e3,transform:d||c?"translateX(0)":"translateX(-100%)",transition:w.transitions.normal},logo:{padding:"1.5rem",borderBottom:"1px solid rgba(62, 178, 177, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},logoIcon:{width:"120px",height:"80px",backgroundImage:"url(/rabhan_logo.svg)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},nav:{flex:1,padding:"1rem 0",overflowY:"auto"},menuItem:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.875rem 1.5rem",margin:"0.25rem 1rem",borderRadius:"12px",cursor:"pointer",transition:w.transitions.fast,fontSize:"0.875rem",fontWeight:"500",color:"#6b7280",textDecoration:"none",border:"none",background:"transparent",width:"calc(100% - 2rem)",textAlign:i?"right":"left"},menuItemActive:{background:"linear-gradient(135deg, rgba(62, 178, 177, 0.15) 0%, rgba(34, 211, 219, 0.15) 100%)",color:"#3eb2b1",fontWeight:"600",boxShadow:"0 2px 8px rgba(62, 178, 177, 0.2)"},menuItemHover:{background:"rgba(62, 178, 177, 0.1)",color:"#3eb2b1"},menuIcon:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},userSection:{padding:"1rem 1.5rem 1.5rem 1.5rem",borderTop:"1px solid rgba(62, 178, 177, 0.2)",position:"relative"},userButton:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",background:"rgba(62, 178, 177, 0.1)",borderRadius:"16px",width:"100%",border:"none",cursor:"pointer",transition:w.transitions.fast,textAlign:i?"right":"left"},userAvatarWrapper:{position:"relative",width:"64px",height:"64px",display:"flex",alignItems:"center",justifyContent:"center"},progressRing:{position:"absolute",top:0,left:0,transform:"rotate(-90deg)"},userAvatar:{width:"48px",height:"48px",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem",fontWeight:"600",color:"#ffffff",boxShadow:"0 4px 12px rgba(62, 178, 177, 0.3)",position:"relative",zIndex:1},userInfo:{flex:1,minWidth:0,textAlign:i?"right":"left"},userName:{fontSize:"0.875rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"0.25rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},userEmail:{fontSize:"0.75rem",color:"#6b7280",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},chevron:{color:"#6b7280",transition:w.transitions.fast,transform:p?"rotate(180deg)":"rotate(0deg)"},dropdown:{position:"absolute",bottom:"100%",left:"1.5rem",right:"1.5rem",background:"rgba(255, 255, 255, 0.98)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"16px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(62, 178, 177, 0.2)",padding:"0.5rem",opacity:p?1:0,visibility:p?"visible":"hidden",transform:p?"translateY(-8px)":"translateY(8px)",transition:w.transitions.normal,zIndex:1001},dropdownItem:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem 1rem",borderRadius:"12px",cursor:"pointer",transition:w.transitions.fast,fontSize:"0.875rem",fontWeight:"500",color:"#6b7280",width:"100%",border:"none",background:"transparent",textAlign:i?"right":"left"},settingsItem:{color:"#3eb2b1"},logoutItem:{color:"#ef4444"},dropdownItemHover:{background:"rgba(62, 178, 177, 0.1)"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:999,display:c?"block":"none"},mobileToggle:{position:"fixed",top:"1rem",[i?"right":"left"]:"1rem",width:"48px",height:"48px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(62, 178, 177, 0.2)",borderRadius:"12px",display:d?"none":"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"1.25rem",zIndex:1001,boxShadow:"0 4px 12px rgba(62, 178, 177, 0.2)",transition:w.transitions.fast}};return o.jsxs(o.Fragment,{children:[o.jsx("button",{style:K.mobileToggle,onClick:()=>l(!c),"aria-label":"Toggle menu",children:c?"✕":"☰"}),o.jsx("div",{style:K.overlay,onClick:()=>l(!1)}),o.jsxs("aside",{style:{...K.sidebar,direction:i?"rtl":"ltr"},children:[o.jsx("div",{style:K.logo,children:o.jsx("div",{style:K.logoIcon})}),o.jsx("nav",{style:K.nav,children:q.map(V=>o.jsxs("button",{style:{...K.menuItem,...X===V.key?K.menuItemActive:{}},onClick:()=>ae(V.key),onMouseEnter:C=>{X!==V.key&&Object.assign(C.currentTarget.style,K.menuItemHover)},onMouseLeave:C=>{X!==V.key&&Object.assign(C.currentTarget.style,{background:"transparent",color:"#6b7280"})},children:[o.jsx("span",{style:K.menuIcon,children:V.icon}),s(V.translationKey)]},V.key))}),o.jsxs("div",{style:K.userSection,ref:m,children:[p&&o.jsxs("div",{style:K.dropdown,children:[o.jsxs("button",{style:{...K.dropdownItem,...K.settingsItem},onClick:N,onMouseEnter:V=>{Object.assign(V.currentTarget.style,K.dropdownItemHover)},onMouseLeave:V=>{Object.assign(V.currentTarget.style,{background:"transparent"})},children:[o.jsx("span",{style:K.menuIcon,children:o.jsx(oi,{})}),s("userApp.sidebar.profile")]}),o.jsxs("button",{style:{...K.dropdownItem,...K.logoutItem},onClick:Y,onMouseEnter:V=>{Object.assign(V.currentTarget.style,{...K.dropdownItemHover,background:"rgba(239, 68, 68, 0.1)"})},onMouseLeave:V=>{Object.assign(V.currentTarget.style,{background:"transparent"})},children:[o.jsx("span",{style:K.menuIcon,children:o.jsx(Em,{})}),s("userApp.sidebar.logout")]})]}),o.jsxs("button",{style:K.userButton,onClick:()=>h(!p),onMouseEnter:V=>{Object.assign(V.currentTarget.style,{background:"rgba(62, 178, 177, 0.15)",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(62, 178, 177, 0.2)"})},onMouseLeave:V=>{Object.assign(V.currentTarget.style,{background:"rgba(62, 178, 177, 0.1)",transform:"translateY(0)",boxShadow:"none"})},children:[o.jsxs("div",{style:K.userAvatarWrapper,children:[o.jsxs("svg",{style:K.progressRing,width:"64",height:"64",children:[o.jsx("circle",{cx:"32",cy:"32",r:f,stroke:"rgba(0, 0, 0, 0.1)",strokeWidth:"3",fill:"none"}),o.jsx("defs",{children:o.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#3eb2b1",stopOpacity:S}),o.jsx("stop",{offset:"100%",stopColor:"#22d3db",stopOpacity:S})]})}),o.jsx("circle",{cx:"32",cy:"32",r:f,stroke:"url(#progressGradient)",strokeWidth:"3",fill:"none",strokeDasharray:`${P}`,strokeDashoffset:R,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.5s ease-out, opacity 0.3s ease-out",...A?{}:{strokeDasharray:"5 3"}}})]}),o.jsx("div",{style:K.userAvatar,children:g()})]}),o.jsxs("div",{style:K.userInfo,children:[o.jsx("div",{style:K.userName,children:k()}),o.jsx("div",{style:K.userEmail,children:e.email})]}),o.jsx("div",{style:K.chevron,children:o.jsx(Mm,{})})]})]})]})]})};class Nm{async createProfile(t){try{console.log("👤 Creating user profile...",{firstName:t.firstName,lastName:t.lastName,city:t.city}),this.validateProfileData(t);const r={...t,roofSize:Number(t.roofSize),gpsLatitude:Number(t.gpsLatitude),gpsLongitude:Number(t.gpsLongitude)},n=await pe.user.createRegistrationProfile(r);if(n.success&&n.data)return console.log("✅ User profile created successfully"),{success:!0,profile:n.data};{const s=n.error||"Failed to create profile";return console.error("❌ Profile creation failed:",s),{success:!1,error:s}}}catch(r){return console.error("❌ Profile creation error - Full details:",{message:r.message,code:r.code,response:r.response?.data,status:r.response?.status,config:{url:r.config?.url,method:r.config?.method,data:r.config?.data}}),r.code==="ECONNABORTED"||r.code==="ETIMEDOUT"?{success:!1,error:"Request timeout - service may be overloaded"}:r.code==="ERR_NETWORK"?{success:!1,error:"Network error - please check your connection"}:{success:!1,error:r.response?.data?.error||r.error||r.message||"Failed to create profile"}}}async getProfile(t){try{console.log("👤 Fetching user profile...",t?{userId:t}:{current:!0});const r=await pe.user.getProfile(t);if(r.success&&r.data)return console.log("✅ User profile fetched successfully"),{success:!0,profile:r.data};{const n=r.error||"Failed to fetch profile";return console.error("❌ Profile fetch failed:",n),{success:!1,error:n}}}catch(r){const n=r.error||r.message||"Failed to fetch profile";return console.error("❌ Profile fetch error:",n),{success:!1,error:n}}}async updateProfile(t,r){try{console.log("👤 Updating user profile...",{userId:t||"current user",updates:Object.keys(r||{}),fullUpdateData:r});const n={...r};n.roofSize&&(n.roofSize=Number(n.roofSize)),n.gpsLatitude&&(n.gpsLatitude=Number(n.gpsLatitude)),n.gpsLongitude&&(n.gpsLongitude=Number(n.gpsLongitude)),console.log("📡 Making API call to update profile with:",n);const s=await pe.user.updateProfile(t,n);if(s.success&&s.data)return console.log("✅ User profile updated successfully"),{success:!0,profile:s.data};{const a=s.error||"Failed to update profile";return console.error("❌ Profile update failed:",a),{success:!1,error:a}}}catch(n){const s=n.error||n.message||"Failed to update profile";return console.error("❌ Profile update error:",s),{success:!1,error:s}}}async checkBNPLEligibility(t){try{console.log("💰 Checking BNPL eligibility...",t?{userId:t}:{current:!0});const r=await pe.user.checkBNPLEligibility(t);if(r.success&&r.data)return console.log("✅ BNPL eligibility checked successfully",{eligible:r.data.eligible,maxAmount:r.data.maxAmount}),{success:!0,eligibility:r.data};{const n=r.error||"Failed to check BNPL eligibility";return console.error("❌ BNPL eligibility check failed:",n),{success:!1,error:n}}}catch(r){const n=r.error||r.message||"Failed to check BNPL eligibility";return console.error("❌ BNPL eligibility error:",n),{success:!1,error:n}}}async getDocuments(t){try{console.log("📄 Fetching user documents...",t?{userId:t}:{current:!0});const r=await pe.user.getDocuments(t);if(r.success&&r.data)return console.log("✅ User documents fetched successfully",{count:r.data.length}),{success:!0,documents:r.data};{const n=r.error||"Failed to fetch documents";return console.error("❌ Documents fetch failed:",n),{success:!1,error:n}}}catch(r){const n=r.error||r.message||"Failed to fetch documents";return console.error("❌ Documents fetch error:",n),{success:!1,error:n}}}validateProfileData(t){const r=["firstName","lastName","region","city","postalCode","propertyType","propertyOwnership","roofSize","gpsLatitude","gpsLongitude","electricityConsumption","electricityMeterNumber"];for(const c of r)if(!t[c])throw new Error(`${c} is required`);if(!/^\d{5}$/.test(t.postalCode))throw new Error("Postal code must be 5 digits");const n=Number(t.roofSize);if(n<=0||n>1e4)throw new Error("Roof size must be between 1 and 10,000 square meters");if(!["riyadh","makkah","madinah","qassim","eastern","asir","tabuk","hail","northern","jazan","najran","bahah"].includes(t.region.toLowerCase()))throw new Error("Invalid Saudi Arabia region");if(!["villa","apartment","duplex","townhouse","commercial","other"].includes(t.propertyType))throw new Error("Invalid property type");if(!["owned","rented","leased"].includes(t.propertyOwnership))throw new Error("Invalid property ownership type");if(!t.electricityConsumption||t.electricityConsumption.trim()==="")throw new Error("Electricity consumption is required")}getSaudiRegions(){return[{value:"riyadh",label:"الرياض (Riyadh)"},{value:"makkah",label:"مكة المكرمة (Makkah)"},{value:"madinah",label:"المدينة المنورة (Madinah)"},{value:"qassim",label:"القصيم (Qassim)"},{value:"eastern",label:"الشرقية (Eastern Province)"},{value:"asir",label:"عسير (Asir)"},{value:"tabuk",label:"تبوك (Tabuk)"},{value:"hail",label:"حائل (Hail)"},{value:"northern",label:"الحدود الشمالية (Northern Borders)"},{value:"jazan",label:"جازان (Jazan)"},{value:"najran",label:"نجران (Najran)"},{value:"bahah",label:"الباحة (Al Bahah)"}]}getPropertyTypes(){return[{value:"villa",label:"فيلا (Villa)"},{value:"apartment",label:"شقة (Apartment)"},{value:"duplex",label:"دوبلكس (Duplex)"},{value:"townhouse",label:"تاون هاوس (Townhouse)"},{value:"commercial",label:"تجاري (Commercial)"},{value:"other",label:"أخرى (Other)"}]}getPropertyOwnership(){return[{value:"owned",label:"ملك (Owned)"},{value:"rented",label:"مستأجر (Rented)"},{value:"leased",label:"مؤجر (Leased)"}]}getElectricityConsumption(){return[{value:"0-200",label:"0-200 كيلوواط/ساعة (0-200 kWh)"},{value:"200-400",label:"200-400 كيلوواط/ساعة (200-400 kWh)"},{value:"400-600",label:"400-600 كيلوواط/ساعة (400-600 kWh)"},{value:"600-800",label:"600-800 كيلوواط/ساعة (600-800 kWh)"},{value:"800-1000",label:"800-1000 كيلوواط/ساعة (800-1000 kWh)"},{value:"1000-1500",label:"1000-1500 كيلوواط/ساعة (1000-1500 kWh)"},{value:"1500+",label:"1500+ كيلوواط/ساعة (1500+ kWh)"}]}calculateProfileCompletion(t){const r=["firstName","lastName","region","city","postalCode","propertyType","propertyOwnership","roofSize","gpsLatitude","gpsLongitude","electricityConsumption","electricityMeterNumber"],n=["district","streetAddress","landmark","preferredLanguage","emailNotifications","smsNotifications","marketingConsent"],s=r.filter(l=>t[l]!==void 0&&t[l]!==null&&t[l]!=="").length,a=n.filter(l=>t[l]!==void 0&&t[l]!==null&&t[l]!=="").length,i=s/r.length*80,c=a/n.length*20;return Math.round(i+c)}}const si=new Nm,zm="http://localhost";class Ie{constructor(){Oe(this,"baseURL");Oe(this,"authToken",null);this.baseURL=`${zm}:3003/api/documents`}setAuthToken(t){this.authToken=t}getUserIdFromToken(){if(!this.authToken)return"1f475729-c2e0-4b3d-a678-e4a4ea4d6cc0";try{const r=this.authToken.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(r).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n).userId||"1f475729-c2e0-4b3d-a678-e4a4ea4d6cc0"}catch(t){return console.error("Failed to decode token:",t),"1f475729-c2e0-4b3d-a678-e4a4ea4d6cc0"}}getAuthHeaders(){return{Authorization:`Bearer ${this.authToken}`,"Content-Type":"application/json"}}getMultipartHeaders(){return{Authorization:`Bearer ${this.authToken||"test-token"}`}}async uploadDocument(t,r,n,s){try{const a=this.getUserIdFromToken()||"test-user-id",i=new FormData;return i.append("file",t),i.append("categoryId",r),i.append("userId",a),n&&i.append("metadata",JSON.stringify(n)),(await se.post(`${this.baseURL}/upload`,i,{headers:this.getMultipartHeaders(),onUploadProgress:l=>{if(s&&l.total){const d=Math.round(l.loaded*100/l.total);s({loaded:l.loaded,total:l.total,percentage:d,stage:d<100?"uploading":"virus_scanning",message:d<100?"Uploading file...":"Scanning for viruses..."})}},timeout:3e5})).data}catch(a){console.error("Document upload failed:",a);const i=a.response?.data?.error||a.response?.data?.message||a.message||"Upload failed";throw new Error(i)}}async getDocuments(t){try{const r=new URLSearchParams,n=this.getUserIdFromToken();return n&&r.append("userId",n),t&&Object.entries(t).forEach(([a,i])=>{i!=null&&i!==""&&r.append(a,i.toString())}),(await se.get(`${this.baseURL}/?${r.toString()}`,{headers:this.getAuthHeaders()})).data}catch(r){throw console.error("Failed to fetch documents:",r),new Error(r.response?.data?.message||"Failed to fetch documents")}}async getDocument(t){try{return(await se.get(`${this.baseURL}/${t}`,{headers:this.getAuthHeaders()})).data}catch(r){throw console.error("Failed to fetch document:",r),new Error(r.response?.data?.message||"Failed to fetch document")}}async downloadDocument(t){try{return(await se.get(`${this.baseURL}/${t}/download`,{headers:this.getAuthHeaders(),responseType:"blob"})).data}catch(r){throw console.error("Failed to download document:",r),new Error(r.response?.data?.message||"Failed to download document")}}async deleteDocument(t){try{const r=this.getUserIdFromToken();console.log("Deleting document:",{documentId:t,userId:r,baseURL:this.baseURL});const n=await se.delete(`${this.baseURL}/${t}?userId=${encodeURIComponent(r||"")}`,{headers:this.getAuthHeaders()});return console.log("Delete response:",n.data),!0}catch(r){throw console.error("Failed to delete document:",r),console.error("Error response:",r.response?.data),console.error("Error status:",r.response?.status),new Error(r.response?.data?.error||r.response?.data?.message||r.message||"Failed to delete document")}}async getCategories(){try{return(await se.get(`${this.baseURL}/categories/list`,{headers:this.getAuthHeaders()})).data.categories}catch(t){throw console.error("Failed to fetch categories:",t),new Error(t.response?.data?.message||"Failed to fetch categories")}}async getHealthStatus(){try{return(await se.get(`${this.baseURL}/health/status`,{headers:this.getAuthHeaders()})).data}catch(t){throw console.error("Failed to get health status:",t),new Error(t.response?.data?.message||"Failed to get health status")}}async pollDocumentStatus(t,r,n=30,s=2e3){let a=0;const i=async()=>{try{const c=await this.getDocument(t);if(r(c),c.document_status==="validated"||c.document_status==="approved"||c.document_status==="rejected"||c.virus_scan_status==="infected"||a>=n)return;a++,setTimeout(i,s)}catch(c){console.error("Error polling document status:",c),a<n&&(a++,setTimeout(i,s))}};i()}static formatFileSize(t){if(t===0)return"0 Bytes";const r=1024,n=["Bytes","KB","MB","GB"],s=Math.floor(Math.log(t)/Math.log(r));return parseFloat((t/Math.pow(r,s)).toFixed(2))+" "+n[s]}static getStatusColor(t){return{pending:"#f59e0b",processing:"#3b82f6",validated:"#10b981",approved:"#059669",rejected:"#ef4444",expired:"#6b7280",archived:"#9ca3af",clean:"#10b981",infected:"#ef4444",suspicious:"#f59e0b",under_review:"#8b5cf6"}[t]||"#6b7280"}static getStatusText(t,r="en"){return{en:{pending:"Pending",processing:"Processing",validated:"Validated",approved:"Approved",rejected:"Rejected",expired:"Expired",archived:"Archived",clean:"Virus-free",infected:"Virus detected",suspicious:"Suspicious",under_review:"Under review",scanning:"Scanning..."},ar:{pending:"في الانتظار",processing:"قيد المعالجة",validated:"تم التحقق",approved:"موافق عليه",rejected:"مرفوض",expired:"منتهي الصلاحية",archived:"مؤرشف",clean:"خالي من الفيروسات",infected:"تم اكتشاف فيروس",suspicious:"مشبوه",under_review:"قيد المراجعة",scanning:"جاري الفحص..."}}[r]?.[t]||t}}const ze=new Ie,yl=(e={})=>{const[t,r]=b.useState({loading:!1,error:null,data:null}),{timeout:n=1e4,enableHighAccuracy:s=!0,maximumAge:a=3e5}=e,i=async(u,p)=>{try{const h=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${u}&lon=${p}&zoom=18&addressdetails=1&accept-language=ar,en`,{headers:{"User-Agent":"RABHAN Solar BNPL Platform"}});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const m=await h.json();let g="";if(m.address){const{amenity:x,building:y,house_number:A,road:S,neighbourhood:f,suburb:v,city_district:P,quarter:R}=m.address;g=[x,y,A&&S?`${A} ${S}`:S,f||v||P||R].filter(Boolean).join(", ")||m.display_name?.split(",")[0]||"Current Location"}else g="Current Location";return g}catch(h){return console.warn("Reverse geocoding failed:",h),"Current Location"}},c=b.useCallback(async()=>new Promise((u,p)=>{if(!navigator.geolocation){p(new Error("Geolocation is not supported by this browser"));return}r(h=>({...h,loading:!0,error:null})),navigator.geolocation.getCurrentPosition(async h=>{try{const{latitude:m,longitude:g}=h.coords,x=await i(m,g),y={latitude:Number(m.toFixed(6)),longitude:Number(g.toFixed(6)),landmark:x};r({loading:!1,error:null,data:y}),u(y)}catch(m){const g=m instanceof Error?m.message:"Failed to get landmark";r({loading:!1,error:g,data:null}),p(new Error(g))}},h=>{let m;switch(h.code){case h.PERMISSION_DENIED:m="Location access denied by user";break;case h.POSITION_UNAVAILABLE:m="Location information is unavailable";break;case h.TIMEOUT:m="Location request timed out";break;default:m="An unknown error occurred while retrieving location";break}r({loading:!1,error:m,data:null}),p(new Error(m))},{enableHighAccuracy:s,timeout:n,maximumAge:a})}),[s,n,a]),l=b.useCallback(()=>{r(u=>({...u,error:null}))},[]),d=b.useCallback(()=>{r({loading:!1,error:null,data:null})},[]);return{getCurrentLocation:c,clearError:l,reset:d,...t}},ii=({user:e,onUpdate:t})=>{const{t:r,i18n:n}=xe();n.language;const[s,a]=b.useState("personal"),[i,c]=b.useState(null),[l,d]=b.useState(e),[u,p]=b.useState(null),[h,m]=b.useState(!0);b.useEffect(()=>ie.subscribe(L=>{L.user&&(console.log("🔄 User data updated from auth service:",L.user),d(L.user))}),[]),b.useEffect(()=>{const G=async()=>{try{m(!0),console.log("📥 Loading user profile from user service...");const L=await si.getProfile();if(L.success&&L.profile){console.log("✅ User profile loaded successfully:",L.profile),p(L.profile);const he={...l,id:l.id,email:l.email,first_name:l.first_name,last_name:l.last_name,role:l.role,phone:l.phone,national_id:l.national_id,region:L.profile.region,city:L.profile.city,district:L.profile.district,street_address:L.profile.streetAddress,landmark:L.profile.landmark,postal_code:L.profile.postalCode,property_type:L.profile.propertyType,property_ownership:L.profile.propertyOwnership,roof_size:L.profile.roofSize?.toString(),gps_latitude:L.profile.gpsLatitude?.toString(),gps_longitude:L.profile.gpsLongitude?.toString(),electricity_consumption:L.profile.electricityConsumption,electricity_meter_number:L.profile.electricityMeterNumber,preferred_language:L.profile.preferredLanguage,email_notifications:L.profile.emailNotifications,sms_notifications:L.profile.smsNotifications,marketing_consent:L.profile.marketingConsent};console.log("🔗 Merged user data:",he),d(he)}else console.log("⚠️ No user profile found or failed to load:",L.error)}catch(L){console.error("❌ Error loading user profile:",L)}finally{m(!1)}};l.id&&G()},[l.id]);const[g,x]=b.useState({personal:{first_name:l.first_name||"",last_name:l.last_name||"",phone:l.phone||"",email:l.email||"",date_of_birth:l.date_of_birth||"",marital_status:l.marital_status||"",dependents:l.dependents||""},address:{region:l.region||"",city:l.city||"",district:l.district||"",street_address:l.street_address||"",landmark:l.landmark||"",postal_code:l.postal_code||"",gps_latitude:l.gps_latitude||"",gps_longitude:l.gps_longitude||""},verification:{national_id:l.national_id||"",sama_verified:l.sama_verified||!1,nafath_verified:l.nafath_verified||!1},employment:{employment_status:l.employment_status||"",employer_name:l.employer_name||"",job_title:l.job_title||"",monthly_income:l.monthly_income||"",years_employed:l.years_employed||""},property:{property_type:l.propertyType||l.property_type||"",property_ownership:l.propertyOwnership||l.property_ownership||"",roof_size:l.roofSize||l.roof_size||"",electricity_consumption:l.electricityConsumption||l.electricity_consumption||"",electricity_meter_number:l.electricityMeterNumber||l.electricity_meter_number||""},preferences:{preferred_language:l.preferred_language||"ar",email_notifications:l.email_notifications||!0,sms_notifications:l.sms_notifications||!0,marketing_consent:l.marketing_consent||!1}});b.useEffect(()=>{console.log("📋 Updating form data with new user data:",l),x({personal:{first_name:l.first_name||"",last_name:l.last_name||"",phone:l.phone||"",email:l.email||"",date_of_birth:l.date_of_birth||"",marital_status:l.marital_status||"",dependents:l.dependents||""},address:{region:l.region||"",city:l.city||"",district:l.district||"",street_address:l.street_address||"",landmark:l.landmark||"",postal_code:l.postal_code||"",gps_latitude:l.gps_latitude||"",gps_longitude:l.gps_longitude||""},verification:{national_id:l.national_id||"",sama_verified:l.sama_verified||!1,nafath_verified:l.nafath_verified||!1},employment:{employment_status:l.employment_status||"",employer_name:l.employer_name||"",job_title:l.job_title||"",monthly_income:l.monthly_income||"",years_employed:l.years_employed||""},property:{property_type:l.propertyType||l.property_type||"",property_ownership:l.propertyOwnership||l.property_ownership||"",roof_size:l.roofSize||l.roof_size||"",electricity_consumption:l.electricityConsumption||l.electricity_consumption||"",electricity_meter_number:l.electricityMeterNumber||l.electricity_meter_number||""},preferences:{preferred_language:l.preferred_language||"ar",email_notifications:l.email_notifications||!0,sms_notifications:l.sms_notifications||!0,marketing_consent:l.marketing_consent||!1}})},[l]);const A=(()=>{const G=[l.first_name,l.last_name,l.email,l.phone,l.national_id,l.region,l.city,l.district,l.street_address,l.postal_code,l.propertyType||l.property_type,l.propertyOwnership||l.property_ownership,l.roofSize||l.roof_size,l.electricityConsumption||l.electricity_consumption,l.electricityMeterNumber||l.electricity_meter_number,l.employment_status,l.monthly_income],L=[l.landmark,l.employer_name,l.job_title,l.date_of_birth,l.marital_status,l.desired_system_size,l.budget_range],he=G.filter(J=>J&&J.toString().trim()!=="").length,j=L.filter(J=>J&&J.toString().trim()!=="").length,B=he/G.length*80,H=j/L.length*20;return Math.round(B+H)})(),S=()=>l.first_name&&l.last_name?`${l.first_name.charAt(0)}${l.last_name.charAt(0)}`.toUpperCase():l.first_name?l.first_name.charAt(0).toUpperCase():l.last_name?l.last_name.charAt(0).toUpperCase():l.email.charAt(0).toUpperCase(),f=(G,L)=>{switch(G){case"first_name":case"last_name":return L.replace(/[^a-zA-Z\u0600-\u06FF\s]/g,"").slice(0,25);case"phone":const he=L.replace(/\D/g,"");if(he.startsWith("966")){const le=he.slice(3,12);return le.length>0?`+966${le}`:"+966"}else if(he.startsWith("0")){const le=he.slice(1,10);return le.length>0?`+966${le}`:"+966"}else{const le=he.slice(0,9);return le.length>0?`+966${le}`:"+966"}case"national_id":const j=L.replace(/\D/g,"");return j.length===0?"":j[0]!=="1"&&j[0]!=="2"?j[0]==="1"||j[0]==="2"?j.slice(0,10):"":j.slice(0,10);case"city":case"district":return L.replace(/[^a-zA-Z\u0600-\u06FF\s-]/g,"").slice(0,30);case"street_address":return L.replace(/[^a-zA-Z0-9\u0600-\u06FF\s.,/-]/g,"").slice(0,50);case"landmark":return L.replace(/[^a-zA-Z0-9\u0600-\u06FF\s.,/-]/g,"").slice(0,50);case"postal_code":return L.replace(/\D/g,"").slice(0,5);case"employer_name":case"job_title":return L.replace(/[^a-zA-Z\u0600-\u06FF\s.,&-]/g,"").slice(0,50);case"monthly_income":const B=L.replace(/\D/g,"").slice(0,7);return B==="0"?"":B;case"years_employed":const H=L.replace(/\D/g,"").slice(0,2);return H==="0"?"":Math.min(parseInt(H)||0,50).toString();case"dependents":const J=L.replace(/\D/g,"").slice(0,2);return J==="0"?"":Math.min(parseInt(J)||0,20).toString();case"roof_size":const $=L.replace(/\D/g,"").slice(0,5);if($==="")return"";const be=parseInt($)||0;return be<10&&$!==""?"10":Math.min(be,1e4).toString();case"electricity_meter_number":return L.replace(/[^A-Z0-9]/g,"").slice(0,15);default:return L}},v=(G,L)=>{switch(G){case"first_name":case"last_name":return L.length<2?{isValid:!1,message:r("validation.nameMinLength")||"Name must be at least 2 characters"}:L.length>25?{isValid:!1,message:r("validation.nameMaxLength")||"Name must be 25 characters or less"}:/^[a-zA-Z\u0600-\u06FF\s]+$/.test(L)?{isValid:!0}:{isValid:!1,message:r("validation.nameInvalid")||"Name can only contain letters and spaces"};case"phone":return L.startsWith("+966")?L.length!==13?{isValid:!1,message:r("validation.phoneLength")||"Phone must be 13 characters (+966xxxxxxxxx)"}:{isValid:!0}:{isValid:!1,message:r("validation.phoneFormat")||"Phone must start with +966"};case"national_id":return L.length!==10?{isValid:!1,message:r("validation.nationalIdLength")||"National ID must be exactly 10 digits"}:/^[12]/.test(L)?{isValid:!0}:{isValid:!1,message:r("validation.nationalIdStart")||"National ID must start with 1 or 2"};case"city":case"district":return L.length<2?{isValid:!1,message:r("validation.cityMinLength")||"City must be at least 2 characters"}:L.length>30?{isValid:!1,message:r("validation.cityMaxLength")||"City must be 30 characters or less"}:{isValid:!0};case"street_address":return L.length<5?{isValid:!1,message:r("validation.streetMinLength")||"Street address must be at least 5 characters"}:L.length>50?{isValid:!1,message:r("validation.streetMaxLength")||"Street address must be 50 characters or less"}:{isValid:!0};case"postal_code":return L.length!==5?{isValid:!1,message:r("validation.postalCodeLength")||"Postal code must be exactly 5 digits"}:{isValid:!0};case"monthly_income":const he=parseInt(L)||0;return he<3e3?{isValid:!1,message:r("validation.incomeMinimum")||"Monthly income must be at least 3,000 SAR"}:he>9999999?{isValid:!1,message:r("validation.incomeMaximum")||"Monthly income cannot exceed 9,999,999 SAR"}:{isValid:!0};case"years_employed":return(parseInt(L)||0)>50?{isValid:!1,message:r("validation.yearsMaximum")||"Years employed cannot exceed 50"}:{isValid:!0};case"dependents":return(parseInt(L)||0)>20?{isValid:!1,message:r("validation.dependentsMaximum")||"Number of dependents cannot exceed 20"}:{isValid:!0};case"roof_size":const H=parseInt(L)||0;return H<10?{isValid:!1,message:r("validation.roofSizeMinimum")||"Roof size must be at least 10 square meters"}:H>1e4?{isValid:!1,message:r("validation.roofSizeMaximum")||"Roof size cannot exceed 10,000 square meters"}:{isValid:!0};case"electricity_meter_number":return L.length<6?{isValid:!1,message:r("validation.meterNumberMinLength")||"Meter number must be at least 6 characters"}:L.length>15?{isValid:!1,message:r("validation.meterNumberMaxLength")||"Meter number cannot exceed 15 characters"}:{isValid:!0};case"employer_name":return L.length>0&&L.length<2?{isValid:!1,message:r("validation.employerMinLength")||"Employer name must be at least 2 characters"}:{isValid:!0};case"job_title":return L.length>0&&L.length<2?{isValid:!1,message:r("validation.jobTitleMinLength")||"Job title must be at least 2 characters"}:{isValid:!0};default:return{isValid:!0}}},P=(G,L,he)=>{const j=f(L,he),B=v(L,j);O(H=>({...H,[L]:B})),D(H=>{const J={...H};return delete J[L],J}),x(H=>({...H,[G]:{...H[G],[L]:j}}))},R=(G,L,he)=>{if(!L||L===""){if(({personal:["first_name","last_name"],address:["region","city","postal_code"],property:["property_type","property_ownership","roof_size","electricity_consumption","electricity_meter_number"],employment:["employment_status"]}[he]||[]).includes(G))switch(G){case"first_name":return r("auth.register.validation.firstNameRequired")||r("validation.firstName_required")||"First name is required";case"last_name":return r("auth.register.validation.lastNameRequired")||r("validation.lastName_required")||"Last name is required";case"region":return r("auth.register.validation.regionRequired")||"Region is required";case"city":return r("auth.register.validation.cityRequired")||"City is required";case"postal_code":return r("auth.register.validation.postalCodeRequired")||"Postal code is required";case"property_type":return r("auth.register.validation.propertyTypeRequired")||"Property type is required";case"property_ownership":return r("auth.register.validation.propertyOwnershipRequired")||"Property ownership is required";case"roof_size":return r("auth.register.validation.roofSizeRequired")||"Roof size is required";case"electricity_consumption":return r("auth.register.validation.electricityConsumptionRequired")||"Electricity consumption is required";case"electricity_meter_number":return r("auth.register.validation.meterNumberRequired")||"Meter number is required";case"employment_status":return r("auth.register.validation.employmentStatusRequired")||"Employment status is required";default:return r(`auth.register.validation.${G}Required`)||`${G.replace("_"," ")} is required`}return null}switch(G){case"first_name":case"last_name":if(L.length>25)return r("auth.register.validation.nameMaxLength")||"Name must be 25 characters or less";if(!/^[a-zA-Z\u0600-\u06FF\s]+$/.test(L))return r("auth.register.validation.nameInvalid")||"Name can only contain letters and spaces";break;case"postal_code":if(!/^\d{5}$/.test(L))return r("auth.register.validation.postalCodeInvalid")||"Postal code must be exactly 5 digits";break;case"city":case"district":if(L.length>30)return r("auth.register.validation.cityMaxLength")||"City name must be 30 characters or less";if(!/^[a-zA-Z\u0600-\u06FF\s-]+$/.test(L))return r("auth.register.validation.cityInvalid")||"City name can only contain letters, spaces, and hyphens";break;case"street_address":if(L.length>50)return r("auth.register.validation.streetAddressMaxLength")||"Street address must be 50 characters or less";break;case"landmark":if(L.length>50)return r("auth.register.validation.landmarkMaxLength")||"Landmark must be 50 characters or less";break;case"roof_size":const j=Number(L);if(isNaN(j)||j<10||j>1e4)return r("auth.register.validation.roofSizeInvalid")||"Roof size must be between 10 and 10,000 square meters";break;case"electricity_meter_number":if(L.length<6||L.length>15)return r("auth.register.validation.meterNumberLength")||"Meter number must be between 6 and 15 characters";if(!/^[A-Z0-9]+$/.test(L))return r("auth.register.validation.meterNumberInvalid")||"Meter number can only contain letters and numbers";break;case"property_type":if(!["VILLA","APARTMENT","DUPLEX","TOWNHOUSE","COMMERCIAL","INDUSTRIAL","OTHER"].includes(L))return r("auth.register.validation.propertyTypeRequired")||"Please select a valid property type";break;case"property_ownership":if(!["OWNED","RENTED","LEASED","FAMILY_OWNED"].includes(L))return r("auth.register.validation.propertyOwnershipRequired")||"Please select a valid ownership type";break;case"region":if(!["riyadh","makkah","eastern","asir","tabuk","qassim","hail","northern","jazan","najran","bahah","jouf","madinah"].includes(L.toLowerCase()))return r("auth.register.validation.regionInvalid")||"Please select a valid region";break}return null},k=(G,L)=>{const he={};return Object.keys(L).forEach(j=>{const B=R(j,L[j],G);B&&(he[j]=B)}),he},I=async G=>{const L=g[G];console.log("🔄 Saving section:",G,"with data:",L),D({}),ye("");const he=k(G,L);if(Object.keys(he).length>0){D(he);return}M(!0);try{const j=["first_name","last_name","email","phone"],B={},H={};Object.keys(L).forEach(be=>{const le=L[be];if(le!=null&&le!=="")if(j.includes(be))B[be]=le;else switch(be){case"street_address":H.streetAddress=le;break;case"postal_code":H.postalCode=le;break;case"property_type":H.propertyType=le;break;case"property_ownership":H.propertyOwnership=le;break;case"roof_size":H.roofSize=Number(le);break;case"electricity_consumption":H.electricityConsumption=le;break;case"electricity_meter_number":H.electricityMeterNumber=le;break;case"gps_latitude":H.gpsLatitude=Number(le);break;case"gps_longitude":H.gpsLongitude=Number(le);break;case"preferred_language":H.preferredLanguage=le;break;case"email_notifications":H.emailNotifications=!!le;break;case"sms_notifications":H.smsNotifications=!!le;break;case"marketing_consent":H.marketingConsent=!!le;break;default:H[be]=le}}),console.log("📤 Auth data:",B),console.log("📤 Profile data:",H);let J={success:!0},$={success:!0};if(Object.keys(B).length>0&&(console.log("🔄 Updating auth service..."),J=await ie.updateCurrentUser(B),!J.success)){D({general:J.error||"Failed to update personal information"});return}if(Object.keys(H).length>0&&(console.log("🔄 Updating user service..."),$=await si.updateProfile(void 0,H),!$.success)){D({general:$.error||"Failed to update profile information"});return}J.success&&$.success&&(ye(r("userApp.profile.updateSuccess")),(await ie.refreshUserData()).success&&console.log("✅ User data refreshed after profile update"),G==="preferences"&&L.preferred_language&&n.changeLanguage(L.preferred_language),t?.(G,L),c(null),setTimeout(()=>ye(""),3e3))}catch(j){console.error("Profile update error:",j),D({general:j.message||"An unexpected error occurred"})}finally{M(!1)}},q=G=>{const L={personal:{first_name:l.first_name||"",last_name:l.last_name||"",phone:l.phone||"",email:l.email||"",date_of_birth:l.date_of_birth||"",marital_status:l.marital_status||"",dependents:l.dependents||""},address:{region:l.region||"",city:l.city||"",district:l.district||"",street_address:l.street_address||"",landmark:l.landmark||"",postal_code:l.postal_code||"",gps_latitude:l.gps_latitude||"",gps_longitude:l.gps_longitude||""},verification:{national_id:l.national_id||"",sama_verified:l.sama_verified||!1,nafath_verified:l.nafath_verified||!1},employment:{employment_status:l.employment_status||"",employer_name:l.employer_name||"",job_title:l.job_title||"",monthly_income:l.monthly_income||"",years_employed:l.years_employed||""},property:{property_type:l.propertyType||l.property_type||"",property_ownership:l.propertyOwnership||l.property_ownership||"",roof_size:l.roofSize||l.roof_size||"",electricity_consumption:l.electricityConsumption||l.electricity_consumption||"",electricity_meter_number:l.electricityMeterNumber||l.electricity_meter_number||""},preferences:{preferred_language:l.preferred_language||"ar",email_notifications:l.email_notifications||!0,sms_notifications:l.sms_notifications||!0,marketing_consent:l.marketing_consent||!1}};x(he=>({...he,[G]:L[G]})),c(null)},Z=async()=>{try{oe();const G=await ee();x(L=>({...L,address:{...L.address,landmark:G.landmark,gps_latitude:G.latitude.toString(),gps_longitude:G.longitude.toString()}})),ye(r("userApp.profile.locationSuccess")),setTimeout(()=>ye(""),3e3)}catch(G){console.error("Error getting location:",G)}},X=G=>{const L={width:"20px",height:"20px",fill:"currentColor"};switch(G){case"personal":return o.jsx("svg",{style:L,viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 7.5V9C15 10.66 13.66 12 12 12S9 10.66 9 12V9L3 7.5V9C3 11.81 5.19 14 8 14V22H10V16H14V22H16V14C18.81 14 21 11.81 21 9Z"})});case"address":return o.jsx("svg",{style:L,viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22S19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9S10.62 6.5 12 6.5S14.5 7.62 14.5 9S13.38 11.5 12 11.5Z"})});case"verification":return o.jsx("svg",{style:L,viewBox:"0 0 24 24",children:o.jsx("path",{d:"M23 12L20.56 9.22L20.9 5.54L17.29 4.72L15.4 1.54L12 3L8.6 1.54L6.71 4.72L3.1 5.53L3.44 9.21L1 12L3.44 14.78L3.1 18.47L6.71 19.29L8.6 22.47L12 21L15.4 22.46L17.29 19.28L20.9 18.46L20.56 14.78L23 12ZM10 17L6 13L7.41 11.59L10 14.17L16.59 7.58L18 9L10 17Z"})});case"documents":return o.jsx("svg",{style:L,viewBox:"0 0 24 24",children:o.jsx("path",{d:"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20ZM9 13V19H7V13H9ZM17 11V19H15V11H17ZM13 15V19H11V15H13Z"})});case"employment":return o.jsx("svg",{style:L,viewBox:"0 0 24 24",children:o.jsx("path",{d:"M20 6H16V4C16 2.89 15.11 2 14 2H10C8.89 2 8 2.89 8 4V6H4C2.89 6 2 6.89 2 8V19C2 20.11 2.89 21 4 21H20C21.11 21 22 20.11 22 19V8C22 6.89 21.11 6 20 6ZM10 4H14V6H10V4ZM20 19H4V8H8V10H10V8H14V10H16V8H20V19Z"})});case"property":return o.jsx("svg",{style:L,viewBox:"0 0 24 24",children:o.jsx("path",{d:"M10 20V14H14V20H19V12H22L12 3L2 12H5V20H10Z"})});case"preferences":return o.jsx("svg",{style:L,viewBox:"0 0 24 24",children:o.jsx("path",{d:"M19.14 12.94C19.18 12.64 19.2 12.33 19.2 12S19.18 11.36 19.14 11.06L21.16 9.48C21.34 9.34 21.39 9.07 21.28 8.87L19.36 5.55C19.24 5.33 18.99 5.26 18.77 5.33L16.38 6.29C15.93 5.93 15.45 5.64 14.92 5.43L14.6 2.83C14.57 2.6 14.37 2.43 14.12 2.43H10.3C10.05 2.43 9.85 2.6 9.82 2.83L9.5 5.43C8.97 5.64 8.5 5.92 8.04 6.29L5.65 5.33C5.43 5.25 5.18 5.33 5.06 5.55L3.14 8.87C3.03 9.07 3.08 9.34 3.27 9.48L5.29 11.06C5.25 11.36 5.23 11.67 5.23 12S5.25 12.64 5.29 12.94L3.27 14.52C3.09 14.66 3.04 14.93 3.15 15.13L5.07 18.45C5.19 18.67 5.44 18.74 5.66 18.67L8.05 17.71C8.5 18.07 8.98 18.36 9.51 18.57L9.83 21.17C9.86 21.4 10.06 21.57 10.31 21.57H14.13C14.38 21.57 14.58 21.4 14.61 21.17L14.93 18.57C15.46 18.36 15.94 18.08 16.39 17.71L18.78 18.67C19 18.75 19.25 18.67 19.37 18.45L21.29 15.13C21.4 14.93 21.35 14.66 21.16 14.52L19.14 12.94ZM12.22 16C9.93 16 8.08 14.15 8.08 11.86S9.93 7.72 12.22 7.72S16.36 9.57 16.36 11.86S14.51 16 12.22 16Z"})});default:return null}},ae=[{id:"personal",label:r("userApp.profile.tabs.personal"),icon:X("personal")},{id:"address",label:r("userApp.profile.tabs.address"),icon:X("address")},{id:"verification",label:r("userApp.profile.tabs.verification"),icon:X("verification")},{id:"documents",label:"KYC Documents",icon:X("documents")},{id:"employment",label:r("userApp.profile.tabs.employment"),icon:X("employment")},{id:"property",label:r("userApp.profile.tabs.property"),icon:X("property")},{id:"preferences",label:r("userApp.profile.tabs.preferences"),icon:X("preferences")}],[N,Y]=b.useState(window.innerWidth<768),[K,V]=b.useState(window.innerWidth>=768&&window.innerWidth<1200),[C,_]=b.useState(window.innerWidth>=1200),[T,M]=b.useState(!1),[W,D]=b.useState({}),[ge,ye]=b.useState(""),[de,O]=b.useState({}),[U,ne]=b.useState({}),{getCurrentLocation:ee,loading:ke,error:me,clearError:oe}=yl({timeout:15e3,enableHighAccuracy:!0});b.useEffect(()=>{const G=()=>{const L=window.innerWidth;Y(L<768),V(L>=768&&L<1200),_(L>=1200)};return window.addEventListener("resize",G),G(),()=>window.removeEventListener("resize",G)},[]),b.useEffect(()=>{(async()=>{try{const L=await fetch("http://localhost:3002/api/profiles/me/documents",{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(L.ok){const j=(await L.json()).reduce((B,H)=>(B[H.documentType]=H,B),{});ne(j)}}catch(L){console.error("Error fetching documents:",L)}})()},[]);const F={container:{width:"100%",minHeight:"100vh",background:"transparent"},card:{width:"100%",maxWidth:"1400px",margin:"0 auto",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"16px",border:"1px solid rgba(62, 178, 177, 0.2)",boxShadow:"0 8px 32px rgba(62, 178, 177, 0.12)",overflow:"hidden",margin:N?"1rem":"2rem auto",minHeight:"calc(100vh - 4rem)"},stickyHeader:{position:"sticky",top:0,zIndex:10,background:"rgba(255, 255, 255, 0.98)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderBottom:"1px solid rgba(62, 178, 177, 0.15)",padding:N?"1rem":"1.5rem 2rem",display:"flex",justifyContent:"space-between",alignItems:"center"},headerLeft:{display:"flex",alignItems:"center",gap:"1rem"},headerRight:{display:"flex",alignItems:"center",gap:"1rem"},contentLayout:{display:"grid",gridTemplateColumns:N?"1fr":"280px 1fr",minHeight:"calc(100vh - 8rem)"},leftSidebar:{background:"rgba(62, 178, 177, 0.03)",borderRight:N?"none":"1px solid rgba(62, 178, 177, 0.15)",padding:N?"1rem":"2rem 1.5rem",display:N?"none":"flex",flexDirection:"column",gap:"0.5rem"},mobileMenu:{display:N?"flex":"none",padding:"1rem",borderBottom:"1px solid rgba(62, 178, 177, 0.15)",background:"rgba(62, 178, 177, 0.03)",overflowX:"auto",gap:"0.5rem",scrollbarWidth:"none",msOverflowStyle:"none","&::-webkit-scrollbar":{display:"none"}},menuItem:{display:"flex",alignItems:"center",justifyContent:N?"center":"flex-start",gap:N?"0.25rem":"0.75rem",padding:N?"0.75rem 1rem":"1rem 1.25rem",borderRadius:N?"20px":"12px",background:"transparent",border:"none",cursor:"pointer",fontSize:N?"0.75rem":"0.875rem",fontWeight:"500",color:"#6b7280",transition:"all 0.2s ease-in-out",textAlign:N?"center":"left",whiteSpace:"nowrap",minWidth:N?"80px":"auto",width:N?"auto":"100%",flex:N?"0 0 auto":"none"},activeMenuItem:{background:"rgba(62, 178, 177, 0.1)",color:"#3eb2b1",fontWeight:"600"},rightContent:{padding:N?"1.5rem":"2rem",overflow:"auto"},profileInfo:{display:"flex",alignItems:"center",gap:"1rem"},compactProgress:{display:"flex",flexDirection:N?"column":"row",alignItems:"center",gap:"1rem",minWidth:N?"auto":"200px"},avatar:{width:"60px",height:"60px",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",fontWeight:"700",color:"#ffffff",boxShadow:"0 8px 24px rgba(62, 178, 177, 0.25)",flexShrink:0},userInfo:{display:"flex",flexDirection:"column",gap:"0.25rem"},name:{fontSize:N?"1.125rem":"1.25rem",fontWeight:"700",color:"#1a1a1a",margin:0,lineHeight:1.2},email:{fontSize:N?"0.75rem":"0.813rem",color:"#6b7280",margin:0,lineHeight:1.2},progressCircle:{display:"flex",alignItems:"center",gap:"0.75rem"},progressText:{fontSize:N?"1.5rem":"2rem",fontWeight:"700",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},formContainer:{maxWidth:"800px",margin:"0 auto"},formHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid rgba(62, 178, 177, 0.15)"},formTitle:{fontSize:N?"1.25rem":"1.5rem",fontWeight:"700",color:"#1a1a1a",margin:0},editButton:{background:"rgba(62, 178, 177, 0.1)",color:"#3eb2b1",border:"none",borderRadius:N?"8px":"6px",padding:N?"0.5rem 1rem":"0.375rem 0.75rem",fontSize:N?"0.813rem":"0.75rem",fontWeight:"600",cursor:"pointer",transition:w.transitions.fast,minHeight:N?"36px":"auto",touchAction:"manipulation"},fieldsGrid:{display:"grid",gridTemplateColumns:N?"1fr":"repeat(2, 1fr)",gap:N?"1.5rem 0":"1.5rem 2rem",alignItems:"start"},field:{marginBottom:0,display:"flex",flexDirection:"column",width:"100%"},label:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"600",marginBottom:"0.5rem",display:"block",lineHeight:1.2},value:{fontSize:N?"1rem":"0.938rem",color:"#1a1a1a",fontWeight:"500",lineHeight:1.4,padding:N?"0.875rem 0":"0.75rem 0",minHeight:"1.5rem",wordBreak:"break-word"},input:{width:"100%",padding:N?"1rem":"0.875rem 1rem",fontSize:N?"1rem":"0.938rem",color:"#1a1a1a",background:"rgba(62, 178, 177, 0.05)",border:"2px solid rgba(62, 178, 177, 0.2)",borderRadius:N?"12px":"8px",outline:"none",transition:"all 0.2s ease-in-out",fontFamily:w.typography.fonts.primary,minHeight:N?"52px":"44px",touchAction:"manipulation"},inputValid:{borderColor:"#10b981",background:"rgba(16, 185, 129, 0.05)",boxShadow:"0 0 0 3px rgba(16, 185, 129, 0.1)"},inputInvalid:{borderColor:"#ef4444",background:"rgba(239, 68, 68, 0.05)",boxShadow:"0 0 0 3px rgba(239, 68, 68, 0.1)"},validationMessage:{fontSize:"0.75rem",fontWeight:"500",marginTop:"0.25rem",display:"flex",alignItems:"center",gap:"0.25rem"},validationSuccess:{color:"#10b981"},validationError:{color:"#ef4444"},characterCount:{fontSize:"0.75rem",color:"#6b7280",textAlign:"right",marginTop:"0.25rem"},empty:{fontSize:N?"1rem":"0.938rem",color:"#9ca3af",fontStyle:"italic",lineHeight:N?1.5:1.4},buttonGroup:{display:"flex",flexDirection:N?"column":"row",gap:N?"0.75rem":"1rem",marginTop:N?"1.5rem":"2rem",justifyContent:N?"stretch":"flex-end"},saveButton:{background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",color:"#ffffff",border:"none",borderRadius:N?"12px":"8px",padding:N?"1rem 1.5rem":"0.75rem 1.5rem",fontSize:N?"1rem":"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease-in-out",minHeight:N?"52px":"44px",boxShadow:"0 4px 12px rgba(62, 178, 177, 0.3)","&:hover":{transform:"translateY(-1px)",boxShadow:"0 6px 16px rgba(62, 178, 177, 0.4)"}},cancelButton:{background:"rgba(107, 114, 128, 0.1)",color:"#6b7280",border:"2px solid rgba(107, 114, 128, 0.2)",borderRadius:N?"12px":"8px",padding:N?"1rem 1.5rem":"0.75rem 1.5rem",fontSize:N?"1rem":"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease-in-out",minHeight:N?"52px":"44px","&:hover":{background:"rgba(107, 114, 128, 0.15)",borderColor:"rgba(107, 114, 128, 0.3)"}},progressInfo:{display:N?"none":"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},progressBar:{width:"60px",height:"6px",background:"rgba(0, 0, 0, 0.1)",borderRadius:"3px",overflow:"hidden"},progressFill:{height:"100%",background:"linear-gradient(90deg, #3eb2b1 0%, #22d3db 100%)",width:`${A}%`,borderRadius:"3px",transition:"width 0.5s ease-out"},emptyState:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px",color:"#6b7280",fontSize:"1rem",textAlign:"center"},locationButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",width:"100%",padding:N?"1rem 1.5rem":"0.875rem 1.25rem",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",color:"#ffffff",border:"none",borderRadius:N?"12px":"8px",fontSize:N?"0.938rem":"0.875rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease-in-out",minHeight:N?"52px":"44px",boxShadow:"0 4px 12px rgba(62, 178, 177, 0.3)",touchAction:"manipulation"},locationButtonDisabled:{opacity:.7,cursor:"not-allowed"},locationIcon:{width:"18px",height:"18px",fill:"currentColor"},gpsFieldsContainer:{gridColumn:"1 / -1",display:"flex",flexDirection:"column",gap:"1.25rem",padding:N?"1.25rem":"1.5rem",background:"rgba(62, 178, 177, 0.03)",borderRadius:"12px",border:"1px solid rgba(62, 178, 177, 0.15)",marginTop:"1rem"},gpsFieldsHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},gpsFieldsTitle:{fontSize:"0.875rem",fontWeight:"600",color:"#6b7280",margin:0},gpsFieldsGrid:{display:"grid",gridTemplateColumns:N?"1fr":"repeat(2, 1fr)",gap:N?"1.25rem":"1.5rem 2rem",alignItems:"start"},gpsField:{display:"flex",flexDirection:"column",gap:"0.5rem",width:"100%"}},hr=()=>{if(!s)return o.jsx("div",{style:F.emptyState,children:r("userApp.profile.selectSection")});const G=i===s,he={personal:[{field:"first_name",label:r("auth.register.firstName"),value:l.first_name||""},{field:"last_name",label:r("auth.register.lastName"),value:l.last_name||""},{field:"phone",label:r("auth.register.phone"),value:l.phone||"",type:"tel",verificationStatus:l.phone_verified},{field:"email",label:r("auth.register.email"),value:l.email,type:"email",readOnly:!0,verificationStatus:l.email_verified},{field:"date_of_birth",label:r("userApp.profile.dateOfBirth"),value:l.date_of_birth||"",type:"date"},{field:"marital_status",label:r("userApp.profile.maritalStatus"),value:l.marital_status||"",type:"dropdown",options:[{value:"single",label:r("userApp.profile.maritalStatus.single")},{value:"married",label:r("userApp.profile.maritalStatus.married")},{value:"divorced",label:r("userApp.profile.maritalStatus.divorced")},{value:"widowed",label:r("userApp.profile.maritalStatus.widowed")}]},{field:"dependents",label:r("userApp.profile.dependents"),value:l.dependents||"",type:"number"}],address:[{field:"region",label:r("auth.register.region"),value:l.region||"",type:"dropdown",options:[{value:"riyadh",label:r("auth.register.regions.riyadh")},{value:"makkah",label:r("auth.register.regions.makkah")},{value:"eastern",label:r("auth.register.regions.eastern")},{value:"asir",label:r("auth.register.regions.asir")},{value:"tabuk",label:r("auth.register.regions.tabuk")},{value:"qassim",label:r("auth.register.regions.qassim")},{value:"hail",label:r("auth.register.regions.hail")},{value:"northern",label:r("auth.register.regions.northern")},{value:"jazan",label:r("auth.register.regions.jazan")},{value:"najran",label:r("auth.register.regions.najran")},{value:"bahah",label:r("auth.register.regions.bahah")},{value:"jouf",label:r("auth.register.regions.jouf")},{value:"madinah",label:r("auth.register.regions.madinah")}]},{field:"city",label:r("auth.register.city"),value:l.city||""},{field:"district",label:r("auth.register.district"),value:l.district||""},{field:"street_address",label:r("auth.register.streetAddress"),value:l.street_address||""},{field:"postal_code",label:r("userApp.profile.postalCode"),value:l.postal_code||""}],verification:[{field:"national_id",label:r("auth.register.nationalId"),value:l.national_id||""},{field:"sama_verified",label:r("userApp.profile.samaVerified"),value:l.sama_verified?r("common.yes"):r("common.no")},{field:"nafath_verified",label:r("userApp.profile.nafathVerified"),value:l.nafath_verified?r("common.yes"):r("common.no")}],employment:[{field:"employment_status",label:r("auth.register.employmentStatus"),value:l.employment_status||"",type:"dropdown",options:[{value:"government",label:r("auth.register.employment.government")},{value:"private",label:r("auth.register.employment.private")},{value:"selfEmployed",label:r("auth.register.employment.selfEmployed")},{value:"retired",label:r("auth.register.employment.retired")},{value:"student",label:r("auth.register.employment.student")}]},{field:"employer_name",label:r("auth.register.employerName"),value:l.employer_name||""},{field:"job_title",label:r("userApp.profile.jobTitle"),value:l.job_title||""},{field:"monthly_income",label:r("auth.register.monthlyIncome"),value:l.monthly_income||"",type:"number"},{field:"years_employed",label:r("userApp.profile.yearsEmployed"),value:l.years_employed||"",type:"number"}],property:[{field:"property_type",label:r("auth.register.propertyType"),value:l.propertyType||l.property_type||"",type:"dropdown",options:[{value:"VILLA",label:r("auth.register.propertyTypes.villa")},{value:"APARTMENT",label:r("auth.register.propertyTypes.apartment")},{value:"DUPLEX",label:r("auth.register.propertyTypes.duplex")},{value:"TOWNHOUSE",label:r("auth.register.propertyTypes.townhouse")},{value:"COMMERCIAL",label:r("auth.register.propertyTypes.commercial")},{value:"INDUSTRIAL",label:"Industrial"},{value:"OTHER",label:r("auth.register.propertyTypes.other")}]},{field:"property_ownership",label:r("auth.register.propertyOwnership"),value:l.propertyOwnership||l.property_ownership||"",type:"dropdown",options:[{value:"OWNED",label:r("auth.register.propertyOwnershipTypes.owned")},{value:"RENTED",label:r("auth.register.propertyOwnershipTypes.rented")},{value:"LEASED",label:r("auth.register.propertyOwnershipTypes.leased")},{value:"FAMILY_OWNED",label:"Family Owned"}]},{field:"roof_size",label:r("auth.register.roofSize"),value:l.roofSize||l.roof_size||"",type:"number",unit:"m²"},{field:"electricity_consumption",label:r("userApp.profile.electricityConsumption"),value:l.electricityConsumption||l.electricity_consumption||"",type:"dropdown",options:[{value:"0_200",label:"0-200 kWh"},{value:"200_400",label:"200-400 kWh"},{value:"400_600",label:"400-600 kWh"},{value:"600_800",label:"600-800 kWh"},{value:"800_1000",label:"800-1000 kWh"},{value:"1000_1200",label:"1000-1200 kWh"},{value:"1200_1500",label:"1200-1500 kWh"},{value:"1500_PLUS",label:"1500+ kWh"}]},{field:"electricity_meter_number",label:r("auth.register.electricityMeterNumber"),value:l.electricityMeterNumber||l.electricity_meter_number||""}],preferences:[{field:"preferred_language",label:r("userApp.profile.preferredLanguage"),value:l.preferred_language||"en",type:"language"},{field:"email_notifications",label:r("userApp.profile.emailNotifications"),value:l.email_notifications??!0,type:"toggle"},{field:"sms_notifications",label:r("userApp.profile.smsNotifications"),value:l.sms_notifications??!0,type:"toggle"},{field:"marketing_consent",label:r("userApp.profile.marketingConsent"),value:l.marketing_consent??!1,type:"toggle"}],documents:[{field:"99655c95-616f-4f28-8b4d-84b683b23642",label:"National ID (Front & Back)",type:"document",required:!0},{field:"75063139-ab8e-4e5b-96f7-014cc03bdef5",label:"Proof of Address",type:"document",required:!0},{field:"03f5dd41-d602-4839-bf0e-67d8ef28a646",label:"Income Proof / Salary Certificate",type:"document",required:!1},{field:"c81ef13b-bfa9-4498-bb35-10adbc234edb",label:"Bank Statement",type:"document",required:!1}]}[s]||[],j=ae.find(J=>J.id===s),B=async(J,$)=>{try{M(!0),console.log("🔄 Starting document upload:",{documentType:J,fileName:$.name,fileSize:$.size});const be=localStorage.getItem("rabhan_access_token")||localStorage.getItem("token")||localStorage.getItem("accessToken");if(console.log("🔑 Using token:",be?"Token available":"No token found"),console.log("🔍 Token sources checked:",{rabhan_access_token:!!localStorage.getItem("rabhan_access_token"),token:!!localStorage.getItem("token"),accessToken:!!localStorage.getItem("accessToken")}),!be)throw new Error("Authentication token not found. Please log in again.");ze.setAuthToken(be),console.log("📤 Uploading using DocumentService..."),console.log("📋 Upload details:",{hasFile:!!$,fileName:$?.name,fileSize:$?.size,fileType:$?.type,userId:l.id,categoryId:J});const le=await ze.uploadDocument($,J,{userId:l.id},Pt=>{console.log("📊 Upload progress:",Pt)});console.log("✅ Upload successful:",le),ye("Document uploaded successfully"),console.log("🔄 Refreshing document status...");const Be=await fetch("http://localhost:3002/api/profiles/me/documents",{headers:{Authorization:`Bearer ${be}`}});if(Be.ok){const Pt=await Be.json();console.log("📋 Document status updated:",Pt);const qt=Pt.reduce((nt,bt)=>(nt[bt.documentType||bt.category_id]=bt,nt),{});ne(qt)}}catch(be){console.error("❌ Document upload error:",be);const le=be.message||"Upload failed. Please try again.";D(Be=>({...Be,[J]:le}))}finally{M(!1)}},H=({documentType:J,required:$,onUpload:be})=>{const[le,Be]=b.useState(!1),qt=U[J]?.verificationStatus||"pending",nt=Se=>{Se.preventDefault(),Se.stopPropagation(),Se.type==="dragenter"||Se.type==="dragover"?Be(!0):Se.type==="dragleave"&&Be(!1)},bt=Se=>{Se.preventDefault(),Se.stopPropagation(),Be(!1),Se.dataTransfer.files&&Se.dataTransfer.files[0]&&Vr(Se.dataTransfer.files[0])},Vr=Se=>{if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(Se.type)){D(Ke=>({...Ke,[J]:"Please upload JPG, PNG, or PDF files only"}));return}if(Se.size>3*1024*1024){D(Ke=>({...Ke,[J]:"File size must be less than 3MB"}));return}be(Se)},_e=()=>{switch(qt){case"verified":return"#10B981";case"rejected":return"#EF4444";case"uploaded":return"#F59E0B";default:return"#6B7280"}},Ds=()=>{switch(qt){case"verified":return"✓ Verified";case"rejected":return"✗ Rejected";case"uploaded":return"⏳ Pending Review";default:return"Upload Required"}};return o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("div",{style:{border:le?"2px dashed #3eb2b1":"2px dashed #D1D5DB",borderRadius:"8px",padding:"2rem",textAlign:"center",backgroundColor:le?"rgba(62, 178, 177, 0.05)":"#F9FAFB",cursor:"pointer",transition:"all 0.2s ease"},onDragEnter:nt,onDragLeave:nt,onDragOver:nt,onDrop:bt,onClick:()=>{const Se=document.createElement("input");Se.type="file",Se.accept="image/*,application/pdf",Se.onchange=ve=>{const Ke=ve.target.files?.[0];Ke&&Vr(Ke)},Se.click()},children:[o.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem",color:"#6B7280"},children:"📄"}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"500",color:"#374151",marginBottom:"0.25rem"},children:le?"Drop file here":"Click to upload or drag and drop"}),o.jsx("div",{style:{fontSize:"0.875rem",color:"#6B7280"},children:"JPG, PNG, PDF • Max 3MB"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"rgba(62, 178, 177, 0.05)",borderRadius:"6px"},children:[o.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:_e()},children:Ds()}),$&&o.jsx("span",{style:{fontSize:"0.75rem",color:"#EF4444",fontWeight:"500"},children:"Required"})]}),W[J]&&o.jsx("div",{style:{color:"#EF4444",fontSize:"0.875rem",marginTop:"0.25rem"},children:W[J]})]})};return o.jsxs("div",{style:F.formContainer,children:[o.jsxs("div",{style:F.formHeader,children:[o.jsx("h2",{style:F.formTitle,children:j?.label}),o.jsx("button",{style:F.editButton,onClick:()=>c(G?null:s),children:G?r("common.cancel"):s==="documents"?"Upload Documents":r("common.edit")})]}),o.jsx("div",{style:F.fieldsGrid,children:he.map(J=>{const{field:$,label:be,value:le,type:Be,options:Pt,readOnly:qt,verificationStatus:nt}=J,bt=["sama_verified","nafath_verified","email"].includes($)||qt,Vr=Be==="toggle",_e=Be==="toggle"||Be==="language"?g[s][$]:le,Se=(ve=>ve.includes("date")||ve==="date_of_birth"?"date":ve.includes("email")?"email":ve.includes("phone")?"tel":ve.includes("income")||ve.includes("amount")||ve.includes("size")?"number":ve==="special_requirements"?"textarea":"text")($);return o.jsxs("div",{style:F.field,children:[o.jsxs("label",{style:F.label,children:[be,nt!==void 0&&o.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"0.875rem",color:nt?"#10B981":"#EF4444",fontWeight:500},children:nt?"✓":"✗"})]}),Be==="language"?G?o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"0.75rem",background:"rgba(255, 255, 255, 0.6)",borderRadius:"12px",border:"1px solid rgba(62, 178, 177, 0.2)"},children:[o.jsxs("button",{style:{position:"relative",width:"80px",height:"36px",borderRadius:"18px",border:"none",cursor:"pointer",transition:"all 0.3s ease",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",boxShadow:"0 4px 12px rgba(62, 178, 177, 0.3)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"2px"},onClick:()=>{const ve=_e==="en"?"ar":"en";x(Ke=>({...Ke,preferences:{...Ke.preferences,[$]:ve}}))},children:[o.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"600",color:_e==="en"?"#ffffff":"rgba(255,255,255,0.5)",flex:1,textAlign:"center"},children:"EN"}),o.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"600",color:_e==="ar"?"#ffffff":"rgba(255,255,255,0.5)",flex:1,textAlign:"center"},children:"AR"}),o.jsx("div",{style:{position:"absolute",top:"2px",left:_e==="en"?"2px":"42px",width:"36px",height:"32px",borderRadius:"16px",background:"#ffffff",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"700",color:"#3eb2b1"},children:_e==="en"?"EN":"ع"})]}),o.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#3eb2b1"},children:_e==="en"?"English":"العربية"})]}):o.jsx("div",{style:{..._e?F.value:F.empty},children:_e==="en"?"English":"العربية"}):Vr?G?o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"0.75rem",background:"rgba(255, 255, 255, 0.6)",borderRadius:"12px",border:"1px solid rgba(62, 178, 177, 0.2)"},children:[o.jsx("button",{style:{position:"relative",width:"52px",height:"28px",borderRadius:"14px",border:"none",cursor:"pointer",transition:"all 0.3s ease",background:_e?"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)":"#e5e7eb",boxShadow:_e?"0 4px 12px rgba(62, 178, 177, 0.3)":"0 2px 4px rgba(0, 0, 0, 0.1)"},onClick:()=>{const ve=!_e;x(Ke=>({...Ke,preferences:{...Ke.preferences,[$]:ve}}))},children:o.jsx("div",{style:{position:"absolute",top:"2px",left:_e?"26px":"2px",width:"24px",height:"24px",borderRadius:"12px",background:"#ffffff",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"}})}),o.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:_e?"#3eb2b1":"#6b7280"},children:r($==="marketing_consent"?_e?"common.yes":"common.no":_e?"common.enabled":"common.disabled")})]}):o.jsx("div",{style:{..._e?F.value:F.empty},children:r($==="marketing_consent"?_e?"common.yes":"common.no":_e?"common.enabled":"common.disabled")}):Be==="document"?o.jsx(H,{documentType:$,required:J.required,onUpload:ve=>B($,ve)}):G&&!bt?Be==="dropdown"?o.jsxs("select",{style:F.input,value:g[s][$],onChange:ve=>P(s,$,ve.target.value),children:[o.jsx("option",{value:"",children:r("common.selectOption")}),Pt?.map(ve=>o.jsx("option",{value:ve.value,children:ve.label},ve.value))]}):Se==="textarea"?o.jsx("textarea",{style:{...F.input,minHeight:"80px",resize:"vertical"},value:g[s][$],onChange:ve=>P(s,$,ve.target.value),placeholder:r(`userApp.profile.placeholder.${$}`)}):o.jsxs("div",{style:{width:"100%"},children:[o.jsx("input",{type:Se,style:{...F.input,...de[$]?.isValid===!0?F.inputValid:{},...de[$]?.isValid===!1?F.inputInvalid:{}},value:g[s][$],onChange:ve=>P(s,$,ve.target.value),placeholder:r(`userApp.profile.placeholder.${$}`),min:Se==="number"&&$.includes("income")?"0":void 0,step:Se==="number"?"0.01":void 0,maxLength:["first_name","last_name"].includes($)?25:["city","district"].includes($)?30:["street_address","landmark","employer_name","job_title"].includes($)?50:$==="postal_code"?5:$==="national_id"?10:$==="electricity_meter_number"?15:void 0}),["first_name","last_name","city","district","street_address","landmark","employer_name","job_title"].includes($)&&o.jsxs("div",{style:F.characterCount,children:[g[s][$].length," / ",["first_name","last_name"].includes($)?25:["city","district"].includes($)?30:50]}),de[$]&&!de[$].isValid&&o.jsxs("div",{style:{...F.validationMessage,...F.validationError},children:[o.jsx("svg",{style:{width:"14px",height:"14px",fill:"currentColor"},viewBox:"0 0 24 24",children:o.jsx("path",{d:"M13 13H11V7H13M13 17H11V15H13M12 2A10 10 0 0 0 2 12A10 10 0 0 0 12 22A10 10 0 0 0 22 12A10 10 0 0 0 12 2Z"})}),de[$].message]}),de[$]&&de[$].isValid&&g[s][$]&&o.jsxs("div",{style:{...F.validationMessage,...F.validationSuccess},children:[o.jsx("svg",{style:{width:"14px",height:"14px",fill:"currentColor"},viewBox:"0 0 24 24",children:o.jsx("path",{d:"M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.59L9 16.17Z"})}),r("validation.validInput")||"Valid"]})]}):o.jsx("div",{style:{..._e?F.value:F.empty,...bt?{background:"rgba(62, 178, 177, 0.05)",border:"1px solid rgba(62, 178, 177, 0.2)",borderRadius:"8px",padding:"0.75rem",fontSize:"0.875rem"}:{},...$==="phone_verified"||$==="email_verified"?{color:_e?.includes("✓")?"#10B981":"#EF4444",fontWeight:500}:{}},children:_e||r("userApp.profile.notProvided")})]},$)})}),s==="address"&&o.jsxs("div",{style:F.gpsFieldsContainer,children:[o.jsx("div",{style:F.gpsFieldsHeader,children:o.jsx("h3",{style:F.gpsFieldsTitle,children:r("userApp.profile.locationInfo")})}),G?o.jsxs("div",{children:[o.jsxs("button",{type:"button",style:{...F.locationButton,...ke?F.locationButtonDisabled:{}},onClick:Z,disabled:ke,children:[o.jsx("svg",{style:F.locationIcon,viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22S19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9S10.62 6.5 12 6.5S14.5 7.62 14.5 9S13.38 11.5 12 11.5Z"})}),r(ke?"userApp.profile.gettingLocation":"userApp.profile.getMyLocation")]}),o.jsxs("div",{style:F.gpsFieldsGrid,children:[o.jsxs("div",{style:F.gpsField,children:[o.jsx("label",{style:F.label,children:r("userApp.profile.landmark")}),o.jsx("div",{style:{...F.input,backgroundColor:"rgba(255, 255, 255, 0.6)",cursor:"default",color:g.address.landmark?"#1a1a1a":"#9ca3af",fontStyle:g.address.landmark?"normal":"italic"},children:g.address.landmark||r("userApp.profile.clickToGetLocation")})]}),o.jsxs("div",{style:F.gpsField,children:[o.jsx("label",{style:F.label,children:r("userApp.profile.gpsCoordinates")}),o.jsx("div",{style:{...F.input,backgroundColor:"rgba(255, 255, 255, 0.6)",cursor:"default",color:g.address.gps_latitude?"#1a1a1a":"#9ca3af",fontStyle:g.address.gps_latitude?"normal":"italic"},children:g.address.gps_latitude&&g.address.gps_longitude?`${g.address.gps_latitude}, ${g.address.gps_longitude}`:r("userApp.profile.clickToGetLocation")})]})]}),me&&o.jsxs("div",{style:{marginTop:"1rem",padding:"0.75rem",backgroundColor:"rgba(244, 67, 54, 0.1)",border:"1px solid rgba(244, 67, 54, 0.3)",borderRadius:"8px",color:"#d32f2f",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[o.jsx("svg",{style:{width:"16px",height:"16px",fill:"currentColor",flexShrink:0},viewBox:"0 0 24 24",children:o.jsx("path",{d:"M13 13H11V7H13M13 17H11V15H13M12 2A10 10 0 0 0 2 12A10 10 0 0 0 12 22A10 10 0 0 0 22 12A10 10 0 0 0 12 2Z"})}),r("userApp.profile.locationError"),": ",me]})]}):o.jsxs("div",{style:F.gpsFieldsGrid,children:[o.jsxs("div",{style:F.gpsField,children:[o.jsx("label",{style:F.label,children:r("userApp.profile.landmark")}),o.jsx("div",{style:l.landmark?F.value:F.empty,children:l.landmark||r("userApp.profile.notProvided")})]}),o.jsxs("div",{style:F.gpsField,children:[o.jsx("label",{style:F.label,children:r("userApp.profile.gpsCoordinates")}),o.jsx("div",{style:l.gps_latitude&&l.gps_longitude?F.value:F.empty,children:l.gps_latitude&&l.gps_longitude?`${l.gps_latitude}, ${l.gps_longitude}`:r("userApp.profile.notProvided")})]})]})]}),Object.keys(W).length>0&&o.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",backgroundColor:"rgba(244, 67, 54, 0.1)",border:"1px solid rgba(244, 67, 54, 0.3)",borderRadius:"8px",color:"#d32f2f"},children:W.general?o.jsx("div",{children:W.general}):o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Please fix the following errors:"}),Object.entries(W).map(([J,$])=>o.jsxs("div",{style:{fontSize:"0.875rem"},children:["• ",$]},J))]})}),ge&&o.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",backgroundColor:"rgba(76, 175, 80, 0.1)",border:"1px solid rgba(76, 175, 80, 0.3)",borderRadius:"8px",color:"#2e7d32",fontWeight:"500"},children:ge}),G&&o.jsxs("div",{style:F.buttonGroup,children:[o.jsx("button",{style:F.cancelButton,onClick:()=>q(s),disabled:T,children:r("common.cancel")}),o.jsx("button",{style:{...F.saveButton,opacity:T?.7:1,cursor:T?"not-allowed":"pointer"},onClick:()=>I(s),disabled:T,children:r(T?"common.loading":"common.save")})]})]})};return o.jsx("div",{style:F.container,children:o.jsxs("div",{style:F.card,children:[o.jsxs("div",{style:F.stickyHeader,children:[o.jsx("div",{style:F.headerLeft,children:o.jsxs("div",{style:F.profileInfo,children:[o.jsx("div",{style:F.avatar,children:S()}),o.jsxs("div",{style:F.userInfo,children:[o.jsx("h1",{style:F.name,children:`${l.first_name||""} ${l.last_name||""}`.trim()||l.email.split("@")[0]}),o.jsx("div",{style:F.email,children:l.email})]})]})}),o.jsx("div",{style:F.headerRight,children:o.jsx("div",{style:F.compactProgress,children:o.jsxs("div",{style:F.progressCircle,children:[o.jsxs("span",{style:F.progressText,children:[A,"%"]}),o.jsx("div",{style:F.progressInfo,children:o.jsx("div",{style:F.progressBar,children:o.jsx("div",{style:F.progressFill})})})]})})})]}),o.jsx("div",{style:F.mobileMenu,children:ae.map(G=>o.jsx("button",{style:{...F.menuItem,...s===G.id?F.activeMenuItem:{}},onClick:()=>a(G.id),children:o.jsx("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:G.icon})},G.id))}),o.jsxs("div",{style:F.contentLayout,children:[o.jsx("div",{style:F.leftSidebar,children:ae.map(G=>o.jsxs("button",{style:{...F.menuItem,...s===G.id?F.activeMenuItem:{}},onClick:()=>a(G.id),onMouseEnter:L=>{s!==G.id&&(L.currentTarget.style.background="rgba(62, 178, 177, 0.08)",L.currentTarget.style.color="#3eb2b1")},onMouseLeave:L=>{s!==G.id&&(L.currentTarget.style.background="transparent",L.currentTarget.style.color="#6b7280")},children:[o.jsx("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginRight:"0.75rem"},children:G.icon}),o.jsx("span",{children:G.label})]},G.id))}),o.jsx("div",{style:F.rightContent,children:hr()})]})]})})};var Ve=function(){return Ve=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ve.apply(this,arguments)};function hn(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var je="-ms-",vr="-moz-",fe="-webkit-",bl="comm",zn="rule",cs="decl",Bm="@import",xl="@keyframes",Dm="@layer",vl=Math.abs,ds=String.fromCharCode,Io=Object.assign;function Om(e,t){return Re(e,0)^45?(((t<<2^Re(e,0))<<2^Re(e,1))<<2^Re(e,2))<<2^Re(e,3):0}function wl(e){return e.trim()}function ut(e,t){return(e=t.exec(e))?e[0]:e}function re(e,t,r){return e.replace(t,r)}function on(e,t,r){return e.indexOf(t,r)}function Re(e,t){return e.charCodeAt(t)|0}function or(e,t,r){return e.slice(t,r)}function st(e){return e.length}function kl(e){return e.length}function br(e,t){return t.push(e),e}function Fm(e,t){return e.map(t).join("")}function ai(e,t){return e.filter(function(r){return!ut(r,t)})}var Bn=1,sr=1,Sl=0,Je=0,Pe=0,mr="";function Dn(e,t,r,n,s,a,i,c){return{value:e,root:t,parent:r,type:n,props:s,children:a,line:Bn,column:sr,length:i,return:"",siblings:c}}function vt(e,t){return Io(Dn("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Kt(e){for(;e.root;)e=vt(e.root,{children:[e]});br(e,e.siblings)}function Vm(){return Pe}function Wm(){return Pe=Je>0?Re(mr,--Je):0,sr--,Pe===10&&(sr=1,Bn--),Pe}function tt(){return Pe=Je<Sl?Re(mr,Je++):0,sr++,Pe===10&&(sr=1,Bn++),Pe}function Ot(){return Re(mr,Je)}function sn(){return Je}function On(e,t){return or(mr,e,t)}function No(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $m(e){return Bn=sr=1,Sl=st(mr=e),Je=0,[]}function Um(e){return mr="",e}function eo(e){return wl(On(Je-1,zo(e===91?e+2:e===40?e+1:e)))}function Hm(e){for(;(Pe=Ot())&&Pe<33;)tt();return No(e)>2||No(Pe)>3?"":" "}function qm(e,t){for(;--t&&tt()&&!(Pe<48||Pe>102||Pe>57&&Pe<65||Pe>70&&Pe<97););return On(e,sn()+(t<6&&Ot()==32&&tt()==32))}function zo(e){for(;tt();)switch(Pe){case e:return Je;case 34:case 39:e!==34&&e!==39&&zo(Pe);break;case 40:e===41&&zo(e);break;case 92:tt();break}return Je}function Ym(e,t){for(;tt()&&e+Pe!==57;)if(e+Pe===84&&Ot()===47)break;return"/*"+On(t,Je-1)+"*"+ds(e===47?e:tt())}function Gm(e){for(;!No(Ot());)tt();return On(e,Je)}function Km(e){return Um(an("",null,null,null,[""],e=$m(e),0,[0],e))}function an(e,t,r,n,s,a,i,c,l){for(var d=0,u=0,p=i,h=0,m=0,g=0,x=1,y=1,A=1,S=0,f="",v=s,P=a,R=n,k=f;y;)switch(g=S,S=tt()){case 40:if(g!=108&&Re(k,p-1)==58){on(k+=re(eo(S),"&","&\f"),"&\f",vl(d?c[d-1]:0))!=-1&&(A=-1);break}case 34:case 39:case 91:k+=eo(S);break;case 9:case 10:case 13:case 32:k+=Hm(g);break;case 92:k+=qm(sn()-1,7);continue;case 47:switch(Ot()){case 42:case 47:br(Xm(Ym(tt(),sn()),t,r,l),l);break;default:k+="/"}break;case 123*x:c[d++]=st(k)*A;case 125*x:case 59:case 0:switch(S){case 0:case 125:y=0;case 59+u:A==-1&&(k=re(k,/\f/g,"")),m>0&&st(k)-p&&br(m>32?ci(k+";",n,r,p-1,l):ci(re(k," ","")+";",n,r,p-2,l),l);break;case 59:k+=";";default:if(br(R=li(k,t,r,d,u,s,c,f,v=[],P=[],p,a),a),S===123)if(u===0)an(k,t,R,R,v,a,p,c,P);else switch(h===99&&Re(k,3)===110?100:h){case 100:case 108:case 109:case 115:an(e,R,R,n&&br(li(e,R,R,0,0,s,c,f,s,v=[],p,P),P),s,P,p,c,n?v:P);break;default:an(k,R,R,R,[""],P,0,c,P)}}d=u=m=0,x=A=1,f=k="",p=i;break;case 58:p=1+st(k),m=g;default:if(x<1){if(S==123)--x;else if(S==125&&x++==0&&Wm()==125)continue}switch(k+=ds(S),S*x){case 38:A=u>0?1:(k+="\f",-1);break;case 44:c[d++]=(st(k)-1)*A,A=1;break;case 64:Ot()===45&&(k+=eo(tt())),h=Ot(),u=p=st(f=k+=Gm(sn())),S++;break;case 45:g===45&&st(k)==2&&(x=0)}}return a}function li(e,t,r,n,s,a,i,c,l,d,u,p){for(var h=s-1,m=s===0?a:[""],g=kl(m),x=0,y=0,A=0;x<n;++x)for(var S=0,f=or(e,h+1,h=vl(y=i[x])),v=e;S<g;++S)(v=wl(y>0?m[S]+" "+f:re(f,/&\f/g,m[S])))&&(l[A++]=v);return Dn(e,t,r,s===0?zn:c,l,d,u,p)}function Xm(e,t,r,n){return Dn(e,t,r,bl,ds(Vm()),or(e,2,-2),0,n)}function ci(e,t,r,n,s){return Dn(e,t,r,cs,or(e,0,n),or(e,n+1,-1),n,s)}function jl(e,t,r){switch(Om(e,t)){case 5103:return fe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fe+e+e;case 4789:return vr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return fe+e+vr+e+je+e+e;case 5936:switch(Re(e,t+11)){case 114:return fe+e+je+re(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return fe+e+je+re(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return fe+e+je+re(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return fe+e+je+e+e;case 6165:return fe+e+je+"flex-"+e+e;case 5187:return fe+e+re(e,/(\w+).+(:[^]+)/,fe+"box-$1$2"+je+"flex-$1$2")+e;case 5443:return fe+e+je+"flex-item-"+re(e,/flex-|-self/g,"")+(ut(e,/flex-|baseline/)?"":je+"grid-row-"+re(e,/flex-|-self/g,""))+e;case 4675:return fe+e+je+"flex-line-pack"+re(e,/align-content|flex-|-self/g,"")+e;case 5548:return fe+e+je+re(e,"shrink","negative")+e;case 5292:return fe+e+je+re(e,"basis","preferred-size")+e;case 6060:return fe+"box-"+re(e,"-grow","")+fe+e+je+re(e,"grow","positive")+e;case 4554:return fe+re(e,/([^-])(transform)/g,"$1"+fe+"$2")+e;case 6187:return re(re(re(e,/(zoom-|grab)/,fe+"$1"),/(image-set)/,fe+"$1"),e,"")+e;case 5495:case 3959:return re(e,/(image-set\([^]*)/,fe+"$1$`$1");case 4968:return re(re(e,/(.+:)(flex-)?(.*)/,fe+"box-pack:$3"+je+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fe+e+e;case 4200:if(!ut(e,/flex-|baseline/))return je+"grid-column-align"+or(e,t)+e;break;case 2592:case 3360:return je+re(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(n,s){return t=s,ut(n.props,/grid-\w+-end/)})?~on(e+(r=r[t].value),"span",0)?e:je+re(e,"-start","")+e+je+"grid-row-span:"+(~on(r,"span",0)?ut(r,/\d+/):+ut(r,/\d+/)-+ut(e,/\d+/))+";":je+re(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(n){return ut(n.props,/grid-\w+-start/)})?e:je+re(re(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return re(e,/(.+)-inline(.+)/,fe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(st(e)-1-t>6)switch(Re(e,t+1)){case 109:if(Re(e,t+4)!==45)break;case 102:return re(e,/(.+:)(.+)-([^]+)/,"$1"+fe+"$2-$3$1"+vr+(Re(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~on(e,"stretch",0)?jl(re(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return re(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,s,a,i,c,l,d){return je+s+":"+a+d+(i?je+s+"-span:"+(c?l:+l-+a)+d:"")+e});case 4949:if(Re(e,t+6)===121)return re(e,":",":"+fe)+e;break;case 6444:switch(Re(e,Re(e,14)===45?18:11)){case 120:return re(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+fe+(Re(e,14)===45?"inline-":"")+"box$3$1"+fe+"$2$3$1"+je+"$2box$3")+e;case 100:return re(e,":",":"+je)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return re(e,"scroll-","scroll-snap-")+e}return e}function fn(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function Zm(e,t,r,n){switch(e.type){case Dm:if(e.children.length)break;case Bm:case cs:return e.return=e.return||e.value;case bl:return"";case xl:return e.return=e.value+"{"+fn(e.children,n)+"}";case zn:if(!st(e.value=e.props.join(",")))return""}return st(r=fn(e.children,n))?e.return=e.value+"{"+r+"}":""}function Jm(e){var t=kl(e);return function(r,n,s,a){for(var i="",c=0;c<t;c++)i+=e[c](r,n,s,a)||"";return i}}function Qm(e){return function(t){t.root||(t=t.return)&&e(t)}}function eh(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case cs:e.return=jl(e.value,e.length,r);return;case xl:return fn([vt(e,{value:re(e.value,"@","@"+fe)})],n);case zn:if(e.length)return Fm(r=e.props,function(s){switch(ut(s,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Kt(vt(e,{props:[re(s,/:(read-\w+)/,":"+vr+"$1")]})),Kt(vt(e,{props:[s]})),Io(e,{props:ai(r,n)});break;case"::placeholder":Kt(vt(e,{props:[re(s,/:(plac\w+)/,":"+fe+"input-$1")]})),Kt(vt(e,{props:[re(s,/:(plac\w+)/,":"+vr+"$1")]})),Kt(vt(e,{props:[re(s,/:(plac\w+)/,je+"input-$1")]})),Kt(vt(e,{props:[s]})),Io(e,{props:ai(r,n)});break}return""})}}var th={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qe={},ir=typeof process<"u"&&qe!==void 0&&(qe.REACT_APP_SC_ATTR||qe.SC_ATTR)||"data-styled",_l="active",Cl="data-styled-version",Fn="6.1.19",us=`/*!sc*/
`,gn=typeof window<"u"&&typeof document<"u",rh=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&qe!==void 0&&qe.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&qe.REACT_APP_SC_DISABLE_SPEEDY!==""?qe.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&qe.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&qe!==void 0&&qe.SC_DISABLE_SPEEDY!==void 0&&qe.SC_DISABLE_SPEEDY!==""&&qe.SC_DISABLE_SPEEDY!=="false"&&qe.SC_DISABLE_SPEEDY),Vn=Object.freeze([]),ar=Object.freeze({});function nh(e,t,r){return r===void 0&&(r=ar),e.theme!==r.theme&&e.theme||t||r.theme}var Tl=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),oh=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,sh=/(^-|-$)/g;function di(e){return e.replace(oh,"-").replace(sh,"")}var ih=/(a)(d)/gi,$r=52,ui=function(e){return String.fromCharCode(e+(e>25?39:97))};function Bo(e){var t,r="";for(t=Math.abs(e);t>$r;t=t/$r|0)r=ui(t%$r)+r;return(ui(t%$r)+r).replace(ih,"$1-$2")}var to,Al=5381,Qt=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},Pl=function(e){return Qt(Al,e)};function ah(e){return Bo(Pl(e)>>>0)}function lh(e){return e.displayName||e.name||"Component"}function ro(e){return typeof e=="string"&&!0}var Rl=typeof Symbol=="function"&&Symbol.for,Ll=Rl?Symbol.for("react.memo"):60115,ch=Rl?Symbol.for("react.forward_ref"):60112,dh={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},uh={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},El={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ph=((to={})[ch]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},to[Ll]=El,to);function pi(e){return("type"in(t=e)&&t.type.$$typeof)===Ll?El:"$$typeof"in e?ph[e.$$typeof]:dh;var t}var mh=Object.defineProperty,hh=Object.getOwnPropertyNames,mi=Object.getOwnPropertySymbols,fh=Object.getOwnPropertyDescriptor,gh=Object.getPrototypeOf,hi=Object.prototype;function Ml(e,t,r){if(typeof t!="string"){if(hi){var n=gh(t);n&&n!==hi&&Ml(e,n,r)}var s=hh(t);mi&&(s=s.concat(mi(t)));for(var a=pi(e),i=pi(t),c=0;c<s.length;++c){var l=s[c];if(!(l in uh||r&&r[l]||i&&l in i||a&&l in a)){var d=fh(t,l);try{mh(e,l,d)}catch{}}}}return e}function lr(e){return typeof e=="function"}function ps(e){return typeof e=="object"&&"styledComponentId"in e}function zt(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function fi(e,t){if(e.length===0)return"";for(var r=e[0],n=1;n<e.length;n++)r+=e[n];return r}function Cr(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Do(e,t,r){if(r===void 0&&(r=!1),!r&&!Cr(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)e[n]=Do(e[n],t[n]);else if(Cr(t))for(var n in t)e[n]=Do(e[n],t[n]);return e}function ms(e,t){Object.defineProperty(e,"toString",{value:t})}function Nr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var yh=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var r=0,n=0;n<t;n++)r+=this.groupSizes[n];return r},e.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var n=this.groupSizes,s=n.length,a=s;t>=a;)if((a<<=1)<0)throw Nr(16,"".concat(t));this.groupSizes=new Uint32Array(a),this.groupSizes.set(n),this.length=a;for(var i=s;i<a;i++)this.groupSizes[i]=0}for(var c=this.indexOfGroup(t+1),l=(i=0,r.length);i<l;i++)this.tag.insertRule(c,r[i])&&(this.groupSizes[t]++,c++)},e.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],n=this.indexOfGroup(t),s=n+r;this.groupSizes[t]=0;for(var a=n;a<s;a++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var n=this.groupSizes[t],s=this.indexOfGroup(t),a=s+n,i=s;i<a;i++)r+="".concat(this.tag.getRule(i)).concat(us);return r},e}(),ln=new Map,yn=new Map,cn=1,Ur=function(e){if(ln.has(e))return ln.get(e);for(;yn.has(cn);)cn++;var t=cn++;return ln.set(e,t),yn.set(t,e),t},bh=function(e,t){cn=t+1,ln.set(e,t),yn.set(t,e)},xh="style[".concat(ir,"][").concat(Cl,'="').concat(Fn,'"]'),vh=new RegExp("^".concat(ir,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),wh=function(e,t,r){for(var n,s=r.split(","),a=0,i=s.length;a<i;a++)(n=s[a])&&e.registerName(t,n)},kh=function(e,t){for(var r,n=((r=t.textContent)!==null&&r!==void 0?r:"").split(us),s=[],a=0,i=n.length;a<i;a++){var c=n[a].trim();if(c){var l=c.match(vh);if(l){var d=0|parseInt(l[1],10),u=l[2];d!==0&&(bh(u,d),wh(e,u,l[3]),e.getTag().insertRules(d,s)),s.length=0}else s.push(c)}}},gi=function(e){for(var t=document.querySelectorAll(xh),r=0,n=t.length;r<n;r++){var s=t[r];s&&s.getAttribute(ir)!==_l&&(kh(e,s),s.parentNode&&s.parentNode.removeChild(s))}};function Sh(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Il=function(e){var t=document.head,r=e||t,n=document.createElement("style"),s=function(c){var l=Array.from(c.querySelectorAll("style[".concat(ir,"]")));return l[l.length-1]}(r),a=s!==void 0?s.nextSibling:null;n.setAttribute(ir,_l),n.setAttribute(Cl,Fn);var i=Sh();return i&&n.setAttribute("nonce",i),r.insertBefore(n,a),n},jh=function(){function e(t){this.element=Il(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,s=0,a=n.length;s<a;s++){var i=n[s];if(i.ownerNode===r)return i}throw Nr(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},e}(),_h=function(){function e(t){this.element=Il(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),Ch=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),yi=gn,Th={isServer:!gn,useCSSOMInjection:!rh},Nl=function(){function e(t,r,n){t===void 0&&(t=ar),r===void 0&&(r={});var s=this;this.options=Ve(Ve({},Th),t),this.gs=r,this.names=new Map(n),this.server=!!t.isServer,!this.server&&gn&&yi&&(yi=!1,gi(this)),ms(this,function(){return function(a){for(var i=a.getTag(),c=i.length,l="",d=function(p){var h=function(A){return yn.get(A)}(p);if(h===void 0)return"continue";var m=a.names.get(h),g=i.getGroup(p);if(m===void 0||!m.size||g.length===0)return"continue";var x="".concat(ir,".g").concat(p,'[id="').concat(h,'"]'),y="";m!==void 0&&m.forEach(function(A){A.length>0&&(y+="".concat(A,","))}),l+="".concat(g).concat(x,'{content:"').concat(y,'"}').concat(us)},u=0;u<c;u++)d(u);return l}(s)})}return e.registerId=function(t){return Ur(t)},e.prototype.rehydrate=function(){!this.server&&gn&&gi(this)},e.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new e(Ve(Ve({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(r){var n=r.useCSSOMInjection,s=r.target;return r.isServer?new Ch(s):n?new jh(s):new _h(s)}(this.options),new yh(t)));var t},e.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.prototype.registerName=function(t,r){if(Ur(t),this.names.has(t))this.names.get(t).add(r);else{var n=new Set;n.add(r),this.names.set(t,n)}},e.prototype.insertRules=function(t,r,n){this.registerName(t,r),this.getTag().insertRules(Ur(t),n)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Ur(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Ah=/&/g,Ph=/^\s*\/\/.*$/gm;function zl(e,t){return e.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(n){return"".concat(t," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=zl(r.children,t)),r})}function Rh(e){var t,r,n,s=ar,a=s.options,i=a===void 0?ar:a,c=s.plugins,l=c===void 0?Vn:c,d=function(h,m,g){return g.startsWith(r)&&g.endsWith(r)&&g.replaceAll(r,"").length>0?".".concat(t):h},u=l.slice();u.push(function(h){h.type===zn&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(Ah,r).replace(n,d))}),i.prefix&&u.push(eh),u.push(Zm);var p=function(h,m,g,x){m===void 0&&(m=""),g===void 0&&(g=""),x===void 0&&(x="&"),t=x,r=m,n=new RegExp("\\".concat(r,"\\b"),"g");var y=h.replace(Ph,""),A=Km(g||m?"".concat(g," ").concat(m," { ").concat(y," }"):y);i.namespace&&(A=zl(A,i.namespace));var S=[];return fn(A,Jm(u.concat(Qm(function(f){return S.push(f)})))),S};return p.hash=l.length?l.reduce(function(h,m){return m.name||Nr(15),Qt(h,m.name)},Al).toString():"",p}var Lh=new Nl,Oo=Rh(),Bl=Le.createContext({shouldForwardProp:void 0,styleSheet:Lh,stylis:Oo});Bl.Consumer;Le.createContext(void 0);function bi(){return b.useContext(Bl)}var Eh=function(){function e(t,r){var n=this;this.inject=function(s,a){a===void 0&&(a=Oo);var i=n.name+a.hash;s.hasNameForId(n.id,i)||s.insertRules(n.id,i,a(n.rules,i,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,ms(this,function(){throw Nr(12,String(n.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=Oo),this.name+t.hash},e}(),Mh=function(e){return e>="A"&&e<="Z"};function xi(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(r===1&&n==="-"&&e[0]==="-")return e;Mh(n)?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var Dl=function(e){return e==null||e===!1||e===""},Ol=function(e){var t,r,n=[];for(var s in e){var a=e[s];e.hasOwnProperty(s)&&!Dl(a)&&(Array.isArray(a)&&a.isCss||lr(a)?n.push("".concat(xi(s),":"),a,";"):Cr(a)?n.push.apply(n,hn(hn(["".concat(s," {")],Ol(a),!1),["}"],!1)):n.push("".concat(xi(s),": ").concat((t=s,(r=a)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in th||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function Ft(e,t,r,n){if(Dl(e))return[];if(ps(e))return[".".concat(e.styledComponentId)];if(lr(e)){if(!lr(a=e)||a.prototype&&a.prototype.isReactComponent||!t)return[e];var s=e(t);return Ft(s,t,r,n)}var a;return e instanceof Eh?r?(e.inject(r,n),[e.getName(n)]):[e]:Cr(e)?Ol(e):Array.isArray(e)?Array.prototype.concat.apply(Vn,e.map(function(i){return Ft(i,t,r,n)})):[e.toString()]}function Ih(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(lr(r)&&!ps(r))return!1}return!0}var Nh=Pl(Fn),zh=function(){function e(t,r,n){this.rules=t,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&Ih(t),this.componentId=r,this.baseHash=Qt(Nh,r),this.baseStyle=n,Nl.registerId(r)}return e.prototype.generateAndInjectStyles=function(t,r,n){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))s=zt(s,this.staticRulesId);else{var a=fi(Ft(this.rules,t,r,n)),i=Bo(Qt(this.baseHash,a)>>>0);if(!r.hasNameForId(this.componentId,i)){var c=n(a,".".concat(i),void 0,this.componentId);r.insertRules(this.componentId,i,c)}s=zt(s,i),this.staticRulesId=i}else{for(var l=Qt(this.baseHash,n.hash),d="",u=0;u<this.rules.length;u++){var p=this.rules[u];if(typeof p=="string")d+=p;else if(p){var h=fi(Ft(p,t,r,n));l=Qt(l,h+u),d+=h}}if(d){var m=Bo(l>>>0);r.hasNameForId(this.componentId,m)||r.insertRules(this.componentId,m,n(d,".".concat(m),void 0,this.componentId)),s=zt(s,m)}}return s},e}(),Fl=Le.createContext(void 0);Fl.Consumer;var no={};function Bh(e,t,r){var n=ps(e),s=e,a=!ro(e),i=t.attrs,c=i===void 0?Vn:i,l=t.componentId,d=l===void 0?function(v,P){var R=typeof v!="string"?"sc":di(v);no[R]=(no[R]||0)+1;var k="".concat(R,"-").concat(ah(Fn+R+no[R]));return P?"".concat(P,"-").concat(k):k}(t.displayName,t.parentComponentId):l,u=t.displayName,p=u===void 0?function(v){return ro(v)?"styled.".concat(v):"Styled(".concat(lh(v),")")}(e):u,h=t.displayName&&t.componentId?"".concat(di(t.displayName),"-").concat(t.componentId):t.componentId||d,m=n&&s.attrs?s.attrs.concat(c).filter(Boolean):c,g=t.shouldForwardProp;if(n&&s.shouldForwardProp){var x=s.shouldForwardProp;if(t.shouldForwardProp){var y=t.shouldForwardProp;g=function(v,P){return x(v,P)&&y(v,P)}}else g=x}var A=new zh(r,h,n?s.componentStyle:void 0);function S(v,P){return function(R,k,I){var q=R.attrs,Z=R.componentStyle,X=R.defaultProps,ae=R.foldedComponentIds,N=R.styledComponentId,Y=R.target,K=Le.useContext(Fl),V=bi(),C=R.shouldForwardProp||V.shouldForwardProp,_=nh(k,K,X)||ar,T=function(de,O,U){for(var ne,ee=Ve(Ve({},O),{className:void 0,theme:U}),ke=0;ke<de.length;ke+=1){var me=lr(ne=de[ke])?ne(ee):ne;for(var oe in me)ee[oe]=oe==="className"?zt(ee[oe],me[oe]):oe==="style"?Ve(Ve({},ee[oe]),me[oe]):me[oe]}return O.className&&(ee.className=zt(ee.className,O.className)),ee}(q,k,_),M=T.as||Y,W={};for(var D in T)T[D]===void 0||D[0]==="$"||D==="as"||D==="theme"&&T.theme===_||(D==="forwardedAs"?W.as=T.forwardedAs:C&&!C(D,M)||(W[D]=T[D]));var ge=function(de,O){var U=bi(),ne=de.generateAndInjectStyles(O,U.styleSheet,U.stylis);return ne}(Z,T),ye=zt(ae,N);return ge&&(ye+=" "+ge),T.className&&(ye+=" "+T.className),W[ro(M)&&!Tl.has(M)?"class":"className"]=ye,I&&(W.ref=I),b.createElement(M,W)}(f,v,P)}S.displayName=p;var f=Le.forwardRef(S);return f.attrs=m,f.componentStyle=A,f.displayName=p,f.shouldForwardProp=g,f.foldedComponentIds=n?zt(s.foldedComponentIds,s.styledComponentId):"",f.styledComponentId=h,f.target=n?s.target:e,Object.defineProperty(f,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(v){this._foldedDefaultProps=n?function(P){for(var R=[],k=1;k<arguments.length;k++)R[k-1]=arguments[k];for(var I=0,q=R;I<q.length;I++)Do(P,q[I],!0);return P}({},s.defaultProps,v):v}}),ms(f,function(){return".".concat(f.styledComponentId)}),a&&Ml(f,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),f}function vi(e,t){for(var r=[e[0]],n=0,s=t.length;n<s;n+=1)r.push(t[n],e[n+1]);return r}var wi=function(e){return Object.assign(e,{isCss:!0})};function Dh(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(lr(e)||Cr(e))return wi(Ft(vi(Vn,hn([e],t,!0))));var n=e;return t.length===0&&n.length===1&&typeof n[0]=="string"?Ft(n):wi(Ft(vi(n,t)))}function Fo(e,t,r){if(r===void 0&&(r=ar),!t)throw Nr(1,t);var n=function(s){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];return e(t,r,Dh.apply(void 0,hn([s],a,!1)))};return n.attrs=function(s){return Fo(e,t,Ve(Ve({},r),{attrs:Array.prototype.concat(r.attrs,s).filter(Boolean)}))},n.withConfig=function(s){return Fo(e,t,Ve(Ve({},r),s))},n}var Vl=function(e){return Fo(Bh,e)},z=Vl;Tl.forEach(function(e){z[e]=Vl(e)});const Wl=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Wn=b.createContext({}),$n=b.createContext(null),Un=typeof document<"u",hs=Un?b.useLayoutEffect:b.useEffect,$l=b.createContext({strict:!1}),fs=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Oh="framerAppearId",Ul="data-"+fs(Oh);function Fh(e,t,r,n){const{visualElement:s}=b.useContext(Wn),a=b.useContext($l),i=b.useContext($n),c=b.useContext(Wl).reducedMotion,l=b.useRef();n=n||a.renderer,!l.current&&n&&(l.current=n(e,{visualState:t,parent:s,props:r,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:c}));const d=l.current;b.useInsertionEffect(()=>{d&&d.update(r,i)});const u=b.useRef(!!(r[Ul]&&!window.HandoffComplete));return hs(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}function er(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Vh(e,t,r){return b.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):er(r)&&(r.current=n))},[t])}function Tr(e){return typeof e=="string"||Array.isArray(e)}function Hn(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const gs=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ys=["initial",...gs];function qn(e){return Hn(e.animate)||ys.some(t=>Tr(e[t]))}function Hl(e){return!!(qn(e)||e.variants)}function Wh(e,t){if(qn(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Tr(r)?r:void 0,animate:Tr(n)?n:void 0}}return e.inherit!==!1?t:{}}function $h(e){const{initial:t,animate:r}=Wh(e,b.useContext(Wn));return b.useMemo(()=>({initial:t,animate:r}),[ki(t),ki(r)])}function ki(e){return Array.isArray(e)?e.join(" "):e}const Si={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ar={};for(const e in Si)Ar[e]={isEnabled:t=>Si[e].some(r=>!!t[r])};function Uh(e){for(const t in e)Ar[t]={...Ar[t],...e[t]}}const bs=b.createContext({}),ql=b.createContext({}),Hh=Symbol.for("motionComponentSymbol");function qh({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&Uh(e);function a(c,l){let d;const u={...b.useContext(Wl),...c,layoutId:Yh(c)},{isStatic:p}=u,h=$h(c),m=n(c,p);if(!p&&Un){h.visualElement=Fh(s,m,u,t);const g=b.useContext(ql),x=b.useContext($l).strict;h.visualElement&&(d=h.visualElement.loadFeatures(u,x,e,g))}return b.createElement(Wn.Provider,{value:h},d&&h.visualElement?b.createElement(d,{visualElement:h.visualElement,...u}):null,r(s,c,Vh(m,h.visualElement,l),m,p,h.visualElement))}const i=b.forwardRef(a);return i[Hh]=s,i}function Yh({layoutId:e}){const t=b.useContext(bs).id;return t&&e!==void 0?t+"-"+e:e}function Gh(e){function t(n,s={}){return qh(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const Kh=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xs(e){return typeof e!="string"||e.includes("-")?!1:!!(Kh.indexOf(e)>-1||/[A-Z]/.test(e))}const bn={};function Xh(e){Object.assign(bn,e)}const zr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ut=new Set(zr);function Yl(e,{layout:t,layoutId:r}){return Ut.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!bn[e]||e==="opacity")}const Ue=e=>!!(e&&e.getVelocity),Zh={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jh=zr.length;function Qh(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let a="";for(let i=0;i<Jh;i++){const c=zr[i];if(e[c]!==void 0){const l=Zh[c]||c;a+=`${l}(${e[c]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(e,n?"":a):r&&n&&(a="none"),a}const Gl=e=>t=>typeof t=="string"&&t.startsWith(e),Kl=Gl("--"),Vo=Gl("var(--"),ef=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,tf=(e,t)=>t&&typeof e=="number"?t.transform(e):e,_t=(e,t,r)=>Math.min(Math.max(r,e),t),Ht={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},wr={...Ht,transform:e=>_t(0,1,e)},Hr={...Ht,default:1},kr=e=>Math.round(e*1e5)/1e5,Yn=/(-)?([\d]*\.?[\d])+/g,Xl=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,rf=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Br(e){return typeof e=="string"}const Dr=e=>({test:t=>Br(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),wt=Dr("deg"),at=Dr("%"),Q=Dr("px"),nf=Dr("vh"),of=Dr("vw"),ji={...at,parse:e=>at.parse(e)/100,transform:e=>at.transform(e*100)},_i={...Ht,transform:Math.round},Zl={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,size:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,rotate:wt,rotateX:wt,rotateY:wt,rotateZ:wt,scale:Hr,scaleX:Hr,scaleY:Hr,scaleZ:Hr,skew:wt,skewX:wt,skewY:wt,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:wr,originX:ji,originY:ji,originZ:Q,zIndex:_i,fillOpacity:wr,strokeOpacity:wr,numOctaves:_i};function vs(e,t,r,n){const{style:s,vars:a,transform:i,transformOrigin:c}=e;let l=!1,d=!1,u=!0;for(const p in t){const h=t[p];if(Kl(p)){a[p]=h;continue}const m=Zl[p],g=tf(h,m);if(Ut.has(p)){if(l=!0,i[p]=g,!u)continue;h!==(m.default||0)&&(u=!1)}else p.startsWith("origin")?(d=!0,c[p]=g):s[p]=g}if(t.transform||(l||n?s.transform=Qh(e.transform,r,u,n):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:h="50%",originZ:m=0}=c;s.transformOrigin=`${p} ${h} ${m}`}}const ws=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jl(e,t,r){for(const n in t)!Ue(t[n])&&!Yl(n,r)&&(e[n]=t[n])}function sf({transformTemplate:e},t,r){return b.useMemo(()=>{const n=ws();return vs(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function af(e,t,r){const n=e.style||{},s={};return Jl(s,n,e),Object.assign(s,sf(e,t,r)),e.transformValues?e.transformValues(s):s}function lf(e,t,r){const n={},s=af(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const cf=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xn(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||cf.has(e)}let Ql=e=>!xn(e);function df(e){e&&(Ql=t=>t.startsWith("on")?!xn(t):e(t))}try{df(require("@emotion/is-prop-valid").default)}catch{}function uf(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(Ql(s)||r===!0&&xn(s)||!t&&!xn(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function Ci(e,t,r){return typeof e=="string"?e:Q.transform(t+r*e)}function pf(e,t,r){const n=Ci(t,e.x,e.width),s=Ci(r,e.y,e.height);return`${n} ${s}`}const mf={offset:"stroke-dashoffset",array:"stroke-dasharray"},hf={offset:"strokeDashoffset",array:"strokeDasharray"};function ff(e,t,r=1,n=0,s=!0){e.pathLength=1;const a=s?mf:hf;e[a.offset]=Q.transform(-n);const i=Q.transform(t),c=Q.transform(r);e[a.array]=`${i} ${c}`}function ks(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:a,pathLength:i,pathSpacing:c=1,pathOffset:l=0,...d},u,p,h){if(vs(e,d,u,h),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g,dimensions:x}=e;m.transform&&(x&&(g.transform=m.transform),delete m.transform),x&&(s!==void 0||a!==void 0||g.transform)&&(g.transformOrigin=pf(x,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),i!==void 0&&ff(m,i,c,l,!1)}const ec=()=>({...ws(),attrs:{}}),Ss=e=>typeof e=="string"&&e.toLowerCase()==="svg";function gf(e,t,r,n){const s=b.useMemo(()=>{const a=ec();return ks(a,t,{enableHardwareAcceleration:!1},Ss(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Jl(a,e.style,e),s.style={...a,...s.style}}return s}function yf(e=!1){return(r,n,s,{latestValues:a},i)=>{const l=(xs(r)?gf:lf)(n,a,i,r),u={...uf(n,typeof r=="string",e),...l,ref:s},{children:p}=n,h=b.useMemo(()=>Ue(p)?p.get():p,[p]);return b.createElement(r,{...u,children:h})}}function tc(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const rc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nc(e,t,r,n){tc(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(rc.has(s)?s:fs(s),t.attrs[s])}function js(e,t){const{style:r}=e,n={};for(const s in r)(Ue(r[s])||t.style&&Ue(t.style[s])||Yl(s,e))&&(n[s]=r[s]);return n}function oc(e,t){const r=js(e,t);for(const n in e)if(Ue(e[n])||Ue(t[n])){const s=zr.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function _s(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function sc(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const vn=e=>Array.isArray(e),bf=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),xf=e=>vn(e)?e[e.length-1]||0:e;function dn(e){const t=Ue(e)?e.get():e;return bf(t)?t.toValue():t}function vf({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,a){const i={latestValues:wf(n,s,a,e),renderState:t()};return r&&(i.mount=c=>r(n,c,i)),i}const ic=e=>(t,r)=>{const n=b.useContext(Wn),s=b.useContext($n),a=()=>vf(e,t,n,s);return r?a():sc(a)};function wf(e,t,r,n){const s={},a=n(e,{});for(const h in a)s[h]=dn(a[h]);let{initial:i,animate:c}=e;const l=qn(e),d=Hl(e);t&&d&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),c===void 0&&(c=t.animate));let u=r?r.initial===!1:!1;u=u||i===!1;const p=u?c:i;return p&&typeof p!="boolean"&&!Hn(p)&&(Array.isArray(p)?p:[p]).forEach(m=>{const g=_s(e,m);if(!g)return;const{transitionEnd:x,transition:y,...A}=g;for(const S in A){let f=A[S];if(Array.isArray(f)){const v=u?f.length-1:0;f=f[v]}f!==null&&(s[S]=f)}for(const S in x)s[S]=x[S]}),s}const Te=e=>e;class Ti{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function kf(e){let t=new Ti,r=new Ti,n=0,s=!1,a=!1;const i=new WeakSet,c={schedule:(l,d=!1,u=!1)=>{const p=u&&s,h=p?t:r;return d&&i.add(l),h.add(l)&&p&&s&&(n=t.order.length),l},cancel:l=>{r.remove(l),i.delete(l)},process:l=>{if(s){a=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let d=0;d<n;d++){const u=t.order[d];u(l),i.has(u)&&(c.schedule(u),e())}s=!1,a&&(a=!1,c.process(l))}};return c}const qr=["prepare","read","update","preRender","render","postRender"],Sf=40;function jf(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=qr.reduce((p,h)=>(p[h]=kf(()=>r=!0),p),{}),i=p=>a[p].process(s),c=()=>{const p=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(p-s.timestamp,Sf),1),s.timestamp=p,s.isProcessing=!0,qr.forEach(i),s.isProcessing=!1,r&&t&&(n=!1,e(c))},l=()=>{r=!0,n=!0,s.isProcessing||e(c)};return{schedule:qr.reduce((p,h)=>{const m=a[h];return p[h]=(g,x=!1,y=!1)=>(r||l(),m.schedule(g,x,y)),p},{}),cancel:p=>qr.forEach(h=>a[h].cancel(p)),state:s,steps:a}}const{schedule:we,cancel:gt,state:Me,steps:oo}=jf(typeof requestAnimationFrame<"u"?requestAnimationFrame:Te,!0),_f={useVisualState:ic({scrapeMotionValuesFromProps:oc,createRenderState:ec,onMount:(e,t,{renderState:r,latestValues:n})=>{we.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),we.render(()=>{ks(r,n,{enableHardwareAcceleration:!1},Ss(t.tagName),e.transformTemplate),nc(t,r)})}})},Cf={useVisualState:ic({scrapeMotionValuesFromProps:js,createRenderState:ws})};function Tf(e,{forwardMotionProps:t=!1},r,n){return{...xs(e)?_f:Cf,preloadedFeatures:r,useRender:yf(t),createVisualElement:n,Component:e}}function mt(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const ac=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Gn(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Af=e=>t=>ac(t)&&e(t,Gn(t));function ht(e,t,r,n){return mt(e,t,Af(r),n)}const Pf=(e,t)=>r=>t(e(r)),jt=(...e)=>e.reduce(Pf);function lc(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const Ai=lc("dragHorizontal"),Pi=lc("dragVertical");function cc(e){let t=!1;if(e==="y")t=Pi();else if(e==="x")t=Ai();else{const r=Ai(),n=Pi();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function dc(){const e=cc(!0);return e?(e(),!1):!0}class Tt{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Ri(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(a,i)=>{if(a.pointerType==="touch"||dc())return;const c=e.getProps();e.animationState&&c.whileHover&&e.animationState.setActive("whileHover",t),c[n]&&we.update(()=>c[n](a,i))};return ht(e.current,r,s,{passive:!e.getProps()[n]})}class Rf extends Tt{mount(){this.unmount=jt(Ri(this.node,!0),Ri(this.node,!1))}unmount(){}}class Lf extends Tt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jt(mt(this.node.current,"focus",()=>this.onFocus()),mt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const uc=(e,t)=>t?e===t?!0:uc(e,t.parentElement):!1;function so(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Gn(r))}class Ef extends Tt{constructor(){super(...arguments),this.removeStartListeners=Te,this.removeEndListeners=Te,this.removeAccessibleListeners=Te,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=ht(window,"pointerup",(c,l)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:p}=this.node.getProps();we.update(()=>{!p&&!uc(this.node.current,c.target)?u&&u(c,l):d&&d(c,l)})},{passive:!(n.onTap||n.onPointerUp)}),i=ht(window,"pointercancel",(c,l)=>this.cancelPress(c,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=jt(a,i),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const i=c=>{c.key!=="Enter"||!this.checkPressEnd()||so("up",(l,d)=>{const{onTap:u}=this.node.getProps();u&&we.update(()=>u(l,d))})};this.removeEndListeners(),this.removeEndListeners=mt(this.node.current,"keyup",i),so("down",(c,l)=>{this.startPress(c,l)})},r=mt(this.node.current,"keydown",t),n=()=>{this.isPressing&&so("cancel",(a,i)=>this.cancelPress(a,i))},s=mt(this.node.current,"blur",n);this.removeAccessibleListeners=jt(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&we.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!dc()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&we.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=ht(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=mt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=jt(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Wo=new WeakMap,io=new WeakMap,Mf=e=>{const t=Wo.get(e.target);t&&t(e)},If=e=>{e.forEach(Mf)};function Nf({root:e,...t}){const r=e||document;io.has(r)||io.set(r,{});const n=io.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(If,{root:e,...t})),n[s]}function zf(e,t,r){const n=Nf(t);return Wo.set(e,r),n.observe(e),()=>{Wo.delete(e),n.unobserve(e)}}const Bf={some:0,all:1};class Df extends Tt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Bf[s]},c=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:p}=this.node.getProps(),h=d?u:p;h&&h(l)};return zf(this.node.current,i,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Of(t,r))&&this.startObserver()}unmount(){}}function Of({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Ff={inView:{Feature:Df},tap:{Feature:Ef},focus:{Feature:Lf},hover:{Feature:Rf}};function pc(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Vf(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function Wf(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function Kn(e,t,r){const n=e.getProps();return _s(n,t,r!==void 0?r:n.custom,Vf(e),Wf(e))}let Cs=Te;const Vt=e=>e*1e3,ft=e=>e/1e3,$f={current:!1},mc=e=>Array.isArray(e)&&typeof e[0]=="number";function hc(e){return!!(!e||typeof e=="string"&&fc[e]||mc(e)||Array.isArray(e)&&e.every(hc))}const xr=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,fc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xr([0,.65,.55,1]),circOut:xr([.55,0,1,.45]),backIn:xr([.31,.01,.66,-.59]),backOut:xr([.33,1.53,.69,.99])};function gc(e){if(e)return mc(e)?xr(e):Array.isArray(e)?e.map(gc):fc[e]}function Uf(e,t,r,{delay:n=0,duration:s,repeat:a=0,repeatType:i="loop",ease:c,times:l}={}){const d={[t]:r};l&&(d.offset=l);const u=gc(c);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:i==="reverse"?"alternate":"normal"})}function Hf(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const yc=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,qf=1e-7,Yf=12;function Gf(e,t,r,n,s){let a,i,c=0;do i=t+(r-t)/2,a=yc(i,n,s)-e,a>0?r=i:t=i;while(Math.abs(a)>qf&&++c<Yf);return i}function Or(e,t,r,n){if(e===t&&r===n)return Te;const s=a=>Gf(a,0,1,e,r);return a=>a===0||a===1?a:yc(s(a),t,n)}const Kf=Or(.42,0,1,1),Xf=Or(0,0,.58,1),bc=Or(.42,0,.58,1),Zf=e=>Array.isArray(e)&&typeof e[0]!="number",xc=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,vc=e=>t=>1-e(1-t),Ts=e=>1-Math.sin(Math.acos(e)),wc=vc(Ts),Jf=xc(Ts),kc=Or(.33,1.53,.69,.99),As=vc(kc),Qf=xc(As),eg=e=>(e*=2)<1?.5*As(e):.5*(2-Math.pow(2,-10*(e-1))),tg={linear:Te,easeIn:Kf,easeInOut:bc,easeOut:Xf,circIn:Ts,circInOut:Jf,circOut:wc,backIn:As,backInOut:Qf,backOut:kc,anticipate:eg},Li=e=>{if(Array.isArray(e)){Cs(e.length===4);const[t,r,n,s]=e;return Or(t,r,n,s)}else if(typeof e=="string")return tg[e];return e},Ps=(e,t)=>r=>!!(Br(r)&&rf.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),Sc=(e,t,r)=>n=>{if(!Br(n))return n;const[s,a,i,c]=n.match(Yn);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(i),alpha:c!==void 0?parseFloat(c):1}},rg=e=>_t(0,255,e),ao={...Ht,transform:e=>Math.round(rg(e))},Bt={test:Ps("rgb","red"),parse:Sc("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+ao.transform(e)+", "+ao.transform(t)+", "+ao.transform(r)+", "+kr(wr.transform(n))+")"};function ng(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const $o={test:Ps("#"),parse:ng,transform:Bt.transform},tr={test:Ps("hsl","hue"),parse:Sc("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+at.transform(kr(t))+", "+at.transform(kr(r))+", "+kr(wr.transform(n))+")"},De={test:e=>Bt.test(e)||$o.test(e)||tr.test(e),parse:e=>Bt.test(e)?Bt.parse(e):tr.test(e)?tr.parse(e):$o.parse(e),transform:e=>Br(e)?e:e.hasOwnProperty("red")?Bt.transform(e):tr.transform(e)},Ce=(e,t,r)=>-r*e+r*t+e;function lo(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function og({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,a=0,i=0;if(!t)s=a=i=r;else{const c=r<.5?r*(1+t):r+t-r*t,l=2*r-c;s=lo(l,c,e+1/3),a=lo(l,c,e),i=lo(l,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(i*255),alpha:n}}const co=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},sg=[$o,Bt,tr],ig=e=>sg.find(t=>t.test(e));function Ei(e){const t=ig(e);let r=t.parse(e);return t===tr&&(r=og(r)),r}const jc=(e,t)=>{const r=Ei(e),n=Ei(t),s={...r};return a=>(s.red=co(r.red,n.red,a),s.green=co(r.green,n.green,a),s.blue=co(r.blue,n.blue,a),s.alpha=Ce(r.alpha,n.alpha,a),Bt.transform(s))};function ag(e){var t,r;return isNaN(e)&&Br(e)&&(((t=e.match(Yn))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Xl))===null||r===void 0?void 0:r.length)||0)>0}const _c={regex:ef,countKey:"Vars",token:"${v}",parse:Te},Cc={regex:Xl,countKey:"Colors",token:"${c}",parse:De.parse},Tc={regex:Yn,countKey:"Numbers",token:"${n}",parse:Ht.parse};function uo(e,{regex:t,countKey:r,token:n,parse:s}){const a=e.tokenised.match(t);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...a.map(s)))}function wn(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&uo(r,_c),uo(r,Cc),uo(r,Tc),r}function Ac(e){return wn(e).values}function Pc(e){const{values:t,numColors:r,numVars:n,tokenised:s}=wn(e),a=t.length;return i=>{let c=s;for(let l=0;l<a;l++)l<n?c=c.replace(_c.token,i[l]):l<n+r?c=c.replace(Cc.token,De.transform(i[l])):c=c.replace(Tc.token,kr(i[l]));return c}}const lg=e=>typeof e=="number"?0:e;function cg(e){const t=Ac(e);return Pc(e)(t.map(lg))}const Ct={test:ag,parse:Ac,createTransformer:Pc,getAnimatableNone:cg},Rc=(e,t)=>r=>`${r>0?t:e}`;function Lc(e,t){return typeof e=="number"?r=>Ce(e,t,r):De.test(e)?jc(e,t):e.startsWith("var(")?Rc(e,t):Mc(e,t)}const Ec=(e,t)=>{const r=[...e],n=r.length,s=e.map((a,i)=>Lc(a,t[i]));return a=>{for(let i=0;i<n;i++)r[i]=s[i](a);return r}},dg=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=Lc(e[s],t[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}},Mc=(e,t)=>{const r=Ct.createTransformer(t),n=wn(e),s=wn(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?jt(Ec(n.values,s.values),r):Rc(e,t)},Pr=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Mi=(e,t)=>r=>Ce(e,t,r);function ug(e){return typeof e=="number"?Mi:typeof e=="string"?De.test(e)?jc:Mc:Array.isArray(e)?Ec:typeof e=="object"?dg:Mi}function pg(e,t,r){const n=[],s=r||ug(e[0]),a=e.length-1;for(let i=0;i<a;i++){let c=s(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||Te:t;c=jt(l,c)}n.push(c)}return n}function Ic(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const a=e.length;if(Cs(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=pg(t,n,s),c=i.length,l=d=>{let u=0;if(c>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const p=Pr(e[u],e[u+1],d);return i[u](p)};return r?d=>l(_t(e[0],e[a-1],d)):l}function mg(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Pr(0,t,n);e.push(Ce(r,1,s))}}function hg(e){const t=[0];return mg(t,e.length-1),t}function fg(e,t){return e.map(r=>r*t)}function gg(e,t){return e.map(()=>t||bc).splice(0,e.length-1)}function kn({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=Zf(n)?n.map(Li):Li(n),a={done:!1,value:t[0]},i=fg(r&&r.length===t.length?r:hg(t),e),c=Ic(i,t,{ease:Array.isArray(s)?s:gg(t,s)});return{calculatedDuration:e,next:l=>(a.value=c(l),a.done=l>=e,a)}}function Nc(e,t){return t?e*(1e3/t):0}const yg=5;function zc(e,t,r){const n=Math.max(t-yg,0);return Nc(r-e(n),t-n)}const po=.001,bg=.01,xg=10,vg=.05,wg=1;function kg({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,a,i=1-t;i=_t(vg,wg,i),e=_t(bg,xg,ft(e)),i<1?(s=d=>{const u=d*i,p=u*e,h=u-r,m=Uo(d,i),g=Math.exp(-p);return po-h/m*g},a=d=>{const p=d*i*e,h=p*r+r,m=Math.pow(i,2)*Math.pow(d,2)*e,g=Math.exp(-p),x=Uo(Math.pow(d,2),i);return(-s(d)+po>0?-1:1)*((h-m)*g)/x}):(s=d=>{const u=Math.exp(-d*e),p=(d-r)*e+1;return-po+u*p},a=d=>{const u=Math.exp(-d*e),p=(r-d)*(e*e);return u*p});const c=5/e,l=jg(s,a,c);if(e=Vt(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(l,2)*n;return{stiffness:d,damping:i*2*Math.sqrt(n*d),duration:e}}}const Sg=12;function jg(e,t,r){let n=r;for(let s=1;s<Sg;s++)n=n-e(n)/t(n);return n}function Uo(e,t){return e*Math.sqrt(1-t*t)}const _g=["duration","bounce"],Cg=["stiffness","damping","mass"];function Ii(e,t){return t.some(r=>e[r]!==void 0)}function Tg(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Ii(e,Cg)&&Ii(e,_g)){const r=kg(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function Bc({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],a=e[e.length-1],i={done:!1,value:s},{stiffness:c,damping:l,mass:d,duration:u,velocity:p,isResolvedFromDuration:h}=Tg({...n,velocity:-ft(n.velocity||0)}),m=p||0,g=l/(2*Math.sqrt(c*d)),x=a-s,y=ft(Math.sqrt(c/d)),A=Math.abs(x)<5;r||(r=A?.01:2),t||(t=A?.005:.5);let S;if(g<1){const f=Uo(y,g);S=v=>{const P=Math.exp(-g*y*v);return a-P*((m+g*y*x)/f*Math.sin(f*v)+x*Math.cos(f*v))}}else if(g===1)S=f=>a-Math.exp(-y*f)*(x+(m+y*x)*f);else{const f=y*Math.sqrt(g*g-1);S=v=>{const P=Math.exp(-g*y*v),R=Math.min(f*v,300);return a-P*((m+g*y*x)*Math.sinh(R)+f*x*Math.cosh(R))/f}}return{calculatedDuration:h&&u||null,next:f=>{const v=S(f);if(h)i.done=f>=u;else{let P=m;f!==0&&(g<1?P=zc(S,f,v):P=0);const R=Math.abs(P)<=r,k=Math.abs(a-v)<=t;i.done=R&&k}return i.value=i.done?a:v,i}}}function Ni({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:i,min:c,max:l,restDelta:d=.5,restSpeed:u}){const p=e[0],h={done:!1,value:p},m=I=>c!==void 0&&I<c||l!==void 0&&I>l,g=I=>c===void 0?l:l===void 0||Math.abs(c-I)<Math.abs(l-I)?c:l;let x=r*t;const y=p+x,A=i===void 0?y:i(y);A!==y&&(x=A-p);const S=I=>-x*Math.exp(-I/n),f=I=>A+S(I),v=I=>{const q=S(I),Z=f(I);h.done=Math.abs(q)<=d,h.value=h.done?A:Z};let P,R;const k=I=>{m(h.value)&&(P=I,R=Bc({keyframes:[h.value,g(h.value)],velocity:zc(f,I,h.value),damping:s,stiffness:a,restDelta:d,restSpeed:u}))};return k(0),{calculatedDuration:null,next:I=>{let q=!1;return!R&&P===void 0&&(q=!0,v(I),k(I)),P!==void 0&&I>P?R.next(I-P):(!q&&v(I),h)}}}const Ag=e=>{const t=({timestamp:r})=>e(r);return{start:()=>we.update(t,!0),stop:()=>gt(t),now:()=>Me.isProcessing?Me.timestamp:performance.now()}},zi=2e4;function Bi(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<zi;)t+=r,n=e.next(t);return t>=zi?1/0:t}const Pg={decay:Ni,inertia:Ni,tween:kn,keyframes:kn,spring:Bc};function Sn({autoplay:e=!0,delay:t=0,driver:r=Ag,keyframes:n,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:c="loop",onPlay:l,onStop:d,onComplete:u,onUpdate:p,...h}){let m=1,g=!1,x,y;const A=()=>{y=new Promise(W=>{x=W})};A();let S;const f=Pg[s]||kn;let v;f!==kn&&typeof n[0]!="number"&&(v=Ic([0,100],n,{clamp:!1}),n=[0,100]);const P=f({...h,keyframes:n});let R;c==="mirror"&&(R=f({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let k="idle",I=null,q=null,Z=null;P.calculatedDuration===null&&a&&(P.calculatedDuration=Bi(P));const{calculatedDuration:X}=P;let ae=1/0,N=1/0;X!==null&&(ae=X+i,N=ae*(a+1)-i);let Y=0;const K=W=>{if(q===null)return;m>0&&(q=Math.min(q,W)),m<0&&(q=Math.min(W-N/m,q)),I!==null?Y=I:Y=Math.round(W-q)*m;const D=Y-t*(m>=0?1:-1),ge=m>=0?D<0:D>N;Y=Math.max(D,0),k==="finished"&&I===null&&(Y=N);let ye=Y,de=P;if(a){const ee=Math.min(Y,N)/ae;let ke=Math.floor(ee),me=ee%1;!me&&ee>=1&&(me=1),me===1&&ke--,ke=Math.min(ke,a+1),!!(ke%2)&&(c==="reverse"?(me=1-me,i&&(me-=i/ae)):c==="mirror"&&(de=R)),ye=_t(0,1,me)*ae}const O=ge?{done:!1,value:n[0]}:de.next(ye);v&&(O.value=v(O.value));let{done:U}=O;!ge&&X!==null&&(U=m>=0?Y>=N:Y<=0);const ne=I===null&&(k==="finished"||k==="running"&&U);return p&&p(O.value),ne&&_(),O},V=()=>{S&&S.stop(),S=void 0},C=()=>{k="idle",V(),x(),A(),q=Z=null},_=()=>{k="finished",u&&u(),V(),x()},T=()=>{if(g)return;S||(S=r(K));const W=S.now();l&&l(),I!==null?q=W-I:(!q||k==="finished")&&(q=W),k==="finished"&&A(),Z=q,I=null,k="running",S.start()};e&&T();const M={then(W,D){return y.then(W,D)},get time(){return ft(Y)},set time(W){W=Vt(W),Y=W,I!==null||!S||m===0?I=W:q=S.now()-W/m},get duration(){const W=P.calculatedDuration===null?Bi(P):P.calculatedDuration;return ft(W)},get speed(){return m},set speed(W){W===m||!S||(m=W,M.time=ft(Y))},get state(){return k},play:T,pause:()=>{k="paused",I=Y},stop:()=>{g=!0,k!=="idle"&&(k="idle",d&&d(),C())},cancel:()=>{Z!==null&&K(Z),C()},complete:()=>{k="finished"},sample:W=>(q=0,K(W))};return M}function Rg(e){let t;return()=>(t===void 0&&(t=e()),t)}const Lg=Rg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Eg=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Yr=10,Mg=2e4,Ig=(e,t)=>t.type==="spring"||e==="backgroundColor"||!hc(t.ease);function Ng(e,t,{onUpdate:r,onComplete:n,...s}){if(!(Lg()&&Eg.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let i=!1,c,l,d=!1;const u=()=>{l=new Promise(f=>{c=f})};u();let{keyframes:p,duration:h=300,ease:m,times:g}=s;if(Ig(t,s)){const f=Sn({...s,repeat:0,delay:0});let v={done:!1,value:p[0]};const P=[];let R=0;for(;!v.done&&R<Mg;)v=f.sample(R),P.push(v.value),R+=Yr;g=void 0,p=P,h=R-Yr,m="linear"}const x=Uf(e.owner.current,t,p,{...s,duration:h,ease:m,times:g}),y=()=>{d=!1,x.cancel()},A=()=>{d=!0,we.update(y),c(),u()};return x.onfinish=()=>{d||(e.set(Hf(p,s)),n&&n(),A())},{then(f,v){return l.then(f,v)},attachTimeline(f){return x.timeline=f,x.onfinish=null,Te},get time(){return ft(x.currentTime||0)},set time(f){x.currentTime=Vt(f)},get speed(){return x.playbackRate},set speed(f){x.playbackRate=f},get duration(){return ft(h)},play:()=>{i||(x.play(),gt(y))},pause:()=>x.pause(),stop:()=>{if(i=!0,x.playState==="idle")return;const{currentTime:f}=x;if(f){const v=Sn({...s,autoplay:!1});e.setWithVelocity(v.sample(f-Yr).value,v.sample(f).value,Yr)}A()},complete:()=>{d||x.finish()},cancel:A}}function zg({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Te,pause:Te,stop:Te,then:a=>(a(),Promise.resolve()),cancel:Te,complete:Te});return t?Sn({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const Bg={type:"spring",stiffness:500,damping:25,restSpeed:10},Dg=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Og={type:"keyframes",duration:.8},Fg={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vg=(e,{keyframes:t})=>t.length>2?Og:Ut.has(e)?e.startsWith("scale")?Dg(t[1]):Bg:Fg,Ho=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ct.test(t)||t==="0")&&!t.startsWith("url(")),Wg=new Set(["brightness","contrast","saturate","opacity"]);function $g(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Yn)||[];if(!n)return e;const s=r.replace(n,"");let a=Wg.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const Ug=/([a-z-]*)\(.*?\)/g,qo={...Ct,getAnimatableNone:e=>{const t=e.match(Ug);return t?t.map($g).join(" "):e}},Hg={...Zl,color:De,backgroundColor:De,outlineColor:De,fill:De,stroke:De,borderColor:De,borderTopColor:De,borderRightColor:De,borderBottomColor:De,borderLeftColor:De,filter:qo,WebkitFilter:qo},Rs=e=>Hg[e];function Dc(e,t){let r=Rs(e);return r!==qo&&(r=Ct),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Oc=e=>/^0[^.\s]+$/.test(e);function qg(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Oc(e)}function Yg(e,t,r,n){const s=Ho(t,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const i=n.from!==void 0?n.from:e.get();let c;const l=[];for(let d=0;d<a.length;d++)a[d]===null&&(a[d]=d===0?i:a[d-1]),qg(a[d])&&l.push(d),typeof a[d]=="string"&&a[d]!=="none"&&a[d]!=="0"&&(c=a[d]);if(s&&l.length&&c)for(let d=0;d<l.length;d++){const u=l[d];a[u]=Dc(t,c)}return a}function Gg({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:i,repeatDelay:c,from:l,elapsed:d,...u}){return!!Object.keys(u).length}function Ls(e,t){return e[t]||e.default||e}const Kg={skipAnimations:!1},Es=(e,t,r,n={})=>s=>{const a=Ls(n,e)||{},i=a.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Vt(i);const l=Yg(t,e,r,a),d=l[0],u=l[l.length-1],p=Ho(e,d),h=Ho(e,u);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-c,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(Gg(a)||(m={...m,...Vg(e,m)}),m.duration&&(m.duration=Vt(m.duration)),m.repeatDelay&&(m.repeatDelay=Vt(m.repeatDelay)),!p||!h||$f.current||a.type===!1||Kg.skipAnimations)return zg(m);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=Ng(t,e,m);if(g)return g}return Sn(m)};function jn(e){return!!(Ue(e)&&e.add)}const Fc=e=>/^\-?\d*\.?\d+$/.test(e);function Ms(e,t){e.indexOf(t)===-1&&e.push(t)}function Is(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Ns{constructor(){this.subscriptions=[]}add(t){return Ms(this.subscriptions,t),()=>Is(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let a=0;a<s;a++){const i=this.subscriptions[a];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xg=e=>!isNaN(parseFloat(e));class Zg{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:i}=Me;this.lastUpdated!==i&&(this.timeDelta=a,this.lastUpdated=i,we.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>we.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Xg(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Ns);const n=this.events[t].add(r);return t==="change"?()=>{n(),we.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Nc(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cr(e,t){return new Zg(e,t)}const Vc=e=>t=>t.test(e),Jg={test:e=>e==="auto",parse:e=>e},Wc=[Ht,Q,at,wt,of,nf,Jg],gr=e=>Wc.find(Vc(e)),Qg=[...Wc,De,Ct],e0=e=>Qg.find(Vc(e));function t0(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,cr(r))}function r0(e,t){const r=Kn(e,t);let{transitionEnd:n={},transition:s={},...a}=r?e.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const i in a){const c=xf(a[i]);t0(e,i,c)}}function n0(e,t,r){var n,s;const a=Object.keys(t).filter(c=>!e.hasValue(c)),i=a.length;if(i)for(let c=0;c<i;c++){const l=a[c],d=t[l];let u=null;Array.isArray(d)&&(u=d[0]),u===null&&(u=(s=(n=r[l])!==null&&n!==void 0?n:e.readValue(l))!==null&&s!==void 0?s:t[l]),u!=null&&(typeof u=="string"&&(Fc(u)||Oc(u))?u=parseFloat(u):!e0(u)&&Ct.test(d)&&(u=Dc(l,d)),e.addValue(l,cr(u,{owner:e})),r[l]===void 0&&(r[l]=u),u!==null&&e.setBaseTarget(l,u))}}function o0(e,t){return t?(t[e]||t.default||t).from:void 0}function s0(e,t,r){const n={};for(const s in e){const a=o0(s,t);if(a!==void 0)n[s]=a;else{const i=r.getValue(s);i&&(n[s]=i.get())}}return n}function i0({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function a0(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function $c(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:i,...c}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");n&&(a=n);const d=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const p in c){const h=e.getValue(p),m=c[p];if(!h||m===void 0||u&&i0(u,p))continue;const g={delay:r,elapsed:0,...Ls(a||{},p)};if(window.HandoffAppearAnimations){const A=e.getProps()[Ul];if(A){const S=window.HandoffAppearAnimations(A,p,h,we);S!==null&&(g.elapsed=S,g.isHandoff=!0)}}let x=!g.isHandoff&&!a0(h,m);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(x=!1),h.animation&&(x=!1),x)continue;h.start(Es(p,h,m,e.shouldReduceMotion&&Ut.has(p)?{type:!1}:g));const y=h.animation;jn(l)&&(l.add(p),y.then(()=>l.remove(p))),d.push(y)}return i&&Promise.all(d).then(()=>{i&&r0(e,i)}),d}function Yo(e,t,r={}){const n=Kn(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all($c(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:p}=s;return l0(e,t,d+l,u,p,r)}:()=>Promise.resolve(),{when:c}=s;if(c){const[l,d]=c==="beforeChildren"?[a,i]:[i,a];return l().then(()=>d())}else return Promise.all([a(),i(r.delay)])}function l0(e,t,r=0,n=0,s=1,a){const i=[],c=(e.variantChildren.size-1)*n,l=s===1?(d=0)=>d*n:(d=0)=>c-d*n;return Array.from(e.variantChildren).sort(c0).forEach((d,u)=>{d.notify("AnimationStart",t),i.push(Yo(d,t,{...a,delay:r+l(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(i)}function c0(e,t){return e.sortNodePosition(t)}function d0(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(a=>Yo(e,a,r));n=Promise.all(s)}else if(typeof t=="string")n=Yo(e,t,r);else{const s=typeof t=="function"?Kn(e,t,r.custom):t;n=Promise.all($c(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const u0=[...gs].reverse(),p0=gs.length;function m0(e){return t=>Promise.all(t.map(({animation:r,options:n})=>d0(e,r,n)))}function h0(e){let t=m0(e);const r=g0();let n=!0;const s=(l,d)=>{const u=Kn(e,d);if(u){const{transition:p,transitionEnd:h,...m}=u;l={...l,...m,...h}}return l};function a(l){t=l(e)}function i(l,d){const u=e.getProps(),p=e.getVariantContext(!0)||{},h=[],m=new Set;let g={},x=1/0;for(let A=0;A<p0;A++){const S=u0[A],f=r[S],v=u[S]!==void 0?u[S]:p[S],P=Tr(v),R=S===d?f.isActive:null;R===!1&&(x=A);let k=v===p[S]&&v!==u[S]&&P;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),f.protectedKeys={...g},!f.isActive&&R===null||!v&&!f.prevProp||Hn(v)||typeof v=="boolean")continue;let q=f0(f.prevProp,v)||S===d&&f.isActive&&!k&&P||A>x&&P,Z=!1;const X=Array.isArray(v)?v:[v];let ae=X.reduce(s,{});R===!1&&(ae={});const{prevResolvedValues:N={}}=f,Y={...N,...ae},K=V=>{q=!0,m.has(V)&&(Z=!0,m.delete(V)),f.needsAnimating[V]=!0};for(const V in Y){const C=ae[V],_=N[V];if(g.hasOwnProperty(V))continue;let T=!1;vn(C)&&vn(_)?T=!pc(C,_):T=C!==_,T?C!==void 0?K(V):m.add(V):C!==void 0&&m.has(V)?K(V):f.protectedKeys[V]=!0}f.prevProp=v,f.prevResolvedValues=ae,f.isActive&&(g={...g,...ae}),n&&e.blockInitialAnimation&&(q=!1),q&&(!k||Z)&&h.push(...X.map(V=>({animation:V,options:{type:S,...l}})))}if(m.size){const A={};m.forEach(S=>{const f=e.getBaseTarget(S);f!==void 0&&(A[S]=f)}),h.push({animation:A})}let y=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(h):Promise.resolve()}function c(l,d,u){var p;if(r[l].isActive===d)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,d)}),r[l].isActive=d;const h=i(u,l);for(const m in r)r[m].protectedKeys={};return h}return{animateChanges:i,setActive:c,setAnimateFunction:a,getState:()=>r}}function f0(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!pc(t,e):!1}function Rt(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function g0(){return{animate:Rt(!0),whileInView:Rt(),whileHover:Rt(),whileTap:Rt(),whileDrag:Rt(),whileFocus:Rt(),exit:Rt()}}class y0 extends Tt{constructor(t){super(t),t.animationState||(t.animationState=h0(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Hn(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let b0=0;class x0 extends Tt{constructor(){super(...arguments),this.id=b0++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const v0={animation:{Feature:y0},exit:{Feature:x0}},Di=(e,t)=>Math.abs(e-t);function w0(e,t){const r=Di(e.x,t.x),n=Di(e.y,t.y);return Math.sqrt(r**2+n**2)}class Uc{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=ho(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=w0(p.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:g}=p,{timestamp:x}=Me;this.history.push({...g,timestamp:x});const{onStart:y,onMove:A}=this.handlers;h||(y&&y(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,p)},this.handlePointerMove=(p,h)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=mo(h,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(p,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ho(p.type==="pointercancel"?this.lastMoveEventInfo:mo(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(p,y),g&&g(p,y)},!ac(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const i=Gn(t),c=mo(i,this.transformPagePoint),{point:l}=c,{timestamp:d}=Me;this.history=[{...l,timestamp:d}];const{onSessionStart:u}=r;u&&u(t,ho(c,this.history)),this.removeListeners=jt(ht(this.contextWindow,"pointermove",this.handlePointerMove),ht(this.contextWindow,"pointerup",this.handlePointerUp),ht(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gt(this.updatePoint)}}function mo(e,t){return t?{point:t(e.point)}:e}function Oi(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ho({point:e},t){return{point:e,delta:Oi(e,Hc(t)),offset:Oi(e,k0(t)),velocity:S0(t,.1)}}function k0(e){return e[0]}function Hc(e){return e[e.length-1]}function S0(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=Hc(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Vt(t)));)r--;if(!n)return{x:0,y:0};const a=ft(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const i={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Ge(e){return e.max-e.min}function Go(e,t=0,r=.01){return Math.abs(e-t)<=r}function Fi(e,t,r,n=.5){e.origin=n,e.originPoint=Ce(t.min,t.max,e.origin),e.scale=Ge(r)/Ge(t),(Go(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ce(r.min,r.max,e.origin)-e.originPoint,(Go(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Sr(e,t,r,n){Fi(e.x,t.x,r.x,n?n.originX:void 0),Fi(e.y,t.y,r.y,n?n.originY:void 0)}function Vi(e,t,r){e.min=r.min+t.min,e.max=e.min+Ge(t)}function j0(e,t,r){Vi(e.x,t.x,r.x),Vi(e.y,t.y,r.y)}function Wi(e,t,r){e.min=t.min-r.min,e.max=e.min+Ge(t)}function jr(e,t,r){Wi(e.x,t.x,r.x),Wi(e.y,t.y,r.y)}function _0(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ce(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ce(r,e,n.max):Math.min(e,r)),e}function $i(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function C0(e,{top:t,left:r,bottom:n,right:s}){return{x:$i(e.x,r,s),y:$i(e.y,t,n)}}function Ui(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function T0(e,t){return{x:Ui(e.x,t.x),y:Ui(e.y,t.y)}}function A0(e,t){let r=.5;const n=Ge(e),s=Ge(t);return s>n?r=Pr(t.min,t.max-n,e.min):n>s&&(r=Pr(e.min,e.max-s,t.min)),_t(0,1,r)}function P0(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Ko=.35;function R0(e=Ko){return e===!1?e=0:e===!0&&(e=Ko),{x:Hi(e,"left","right"),y:Hi(e,"top","bottom")}}function Hi(e,t,r){return{min:qi(e,t),max:qi(e,r)}}function qi(e,t){return typeof e=="number"?e:e[t]||0}const Yi=()=>({translate:0,scale:1,origin:0,originPoint:0}),rr=()=>({x:Yi(),y:Yi()}),Gi=()=>({min:0,max:0}),Ae=()=>({x:Gi(),y:Gi()});function Ze(e){return[e("x"),e("y")]}function qc({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function L0({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function E0(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function fo(e){return e===void 0||e===1}function Xo({scale:e,scaleX:t,scaleY:r}){return!fo(e)||!fo(t)||!fo(r)}function Et(e){return Xo(e)||Yc(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Yc(e){return Ki(e.x)||Ki(e.y)}function Ki(e){return e&&e!=="0%"}function _n(e,t,r){const n=e-r,s=t*n;return r+s}function Xi(e,t,r,n,s){return s!==void 0&&(e=_n(e,s,n)),_n(e,r,n)+t}function Zo(e,t=0,r=1,n,s){e.min=Xi(e.min,t,r,n,s),e.max=Xi(e.max,t,r,n,s)}function Gc(e,{x:t,y:r}){Zo(e.x,t.translate,t.scale,t.originPoint),Zo(e.y,r.translate,r.scale,r.originPoint)}function M0(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let a,i;for(let c=0;c<s;c++){a=r[c],i=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&nr(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Gc(e,i)),n&&Et(a.latestValues)&&nr(e,a.latestValues))}t.x=Zi(t.x),t.y=Zi(t.y)}function Zi(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function kt(e,t){e.min=e.min+t,e.max=e.max+t}function Ji(e,t,[r,n,s]){const a=t[s]!==void 0?t[s]:.5,i=Ce(e.min,e.max,a);Zo(e,t[r],t[n],i,t.scale)}const I0=["x","scaleX","originX"],N0=["y","scaleY","originY"];function nr(e,t){Ji(e.x,t,I0),Ji(e.y,t,N0)}function Kc(e,t){return qc(E0(e.getBoundingClientRect(),t))}function z0(e,t,r){const n=Kc(e,r),{scroll:s}=t;return s&&(kt(n.x,s.offset.x),kt(n.y,s.offset.y)),n}const Xc=({current:e})=>e?e.ownerDocument.defaultView:null,B0=new WeakMap;class D0{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ae(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Gn(u,"page").point)},a=(u,p)=>{const{drag:h,dragPropagation:m,onDragStart:g}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=cc(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ze(y=>{let A=this.getAxisMotionValue(y).get()||0;if(at.test(A)){const{projection:S}=this.visualElement;if(S&&S.layout){const f=S.layout.layoutBox[y];f&&(A=Ge(f)*(parseFloat(A)/100))}}this.originPoint[y]=A}),g&&we.update(()=>g(u,p),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},i=(u,p)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:x}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=p;if(m&&this.currentDirection===null){this.currentDirection=O0(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",p.point,y),this.updateAxis("y",p.point,y),this.visualElement.render(),x&&x(u,p)},c=(u,p)=>this.stop(u,p),l=()=>Ze(u=>{var p;return this.getAnimationState(u)==="paused"&&((p=this.getAxisMotionValue(u).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Uc(t,{onSessionStart:s,onStart:a,onMove:i,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Xc(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&we.update(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Gr(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=_0(i,this.constraints[t],this.elastic[t])),a.set(i)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&er(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=C0(s.layoutBox,r):this.constraints=!1,this.elastic=R0(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ze(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=P0(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!er(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=z0(n,s.root,this.visualElement.getTransformPagePoint());let i=T0(s.layout.layoutBox,a);if(r){const c=r(L0(i));this.hasMutatedConstraints=!!c,c&&(i=qc(c))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:c}=this.getProps(),l=this.constraints||{},d=Ze(u=>{if(!Gr(u,r,this.currentDirection))return;let p=l&&l[u]||{};i&&(p={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(c)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(Es(t,n,0,r))}stopAnimation(){Ze(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ze(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ze(r=>{const{drag:n}=this.getProps();if(!Gr(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:i,max:c}=s.layout.layoutBox[r];a.set(t[r]-Ce(i,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!er(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ze(i=>{const c=this.getAxisMotionValue(i);if(c){const l=c.get();s[i]=A0({min:l,max:l},this.constraints[i])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ze(i=>{if(!Gr(i,t,null))return;const c=this.getAxisMotionValue(i),{min:l,max:d}=this.constraints[i];c.set(Ce(l,d,s[i]))})}addListeners(){if(!this.visualElement.current)return;B0.set(this.visualElement,this);const t=this.visualElement.current,r=ht(t,"pointerdown",l=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();er(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const i=mt(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ze(u=>{const p=this.getAxisMotionValue(u);p&&(this.originPoint[u]+=l[u].translate,p.set(p.get()+l[u].translate))}),this.visualElement.render())});return()=>{i(),r(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:i=Ko,dragMomentum:c=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:i,dragMomentum:c}}}function Gr(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function O0(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class F0 extends Tt{constructor(t){super(t),this.removeGroupControls=Te,this.removeListeners=Te,this.controls=new D0(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Te}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qi=e=>(t,r)=>{e&&we.update(()=>e(t,r))};class V0 extends Tt{constructor(){super(...arguments),this.removePointerDownListener=Te}onPointerDown(t){this.session=new Uc(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xc(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Qi(t),onStart:Qi(r),onMove:n,onEnd:(a,i)=>{delete this.session,s&&we.update(()=>s(a,i))}}}mount(){this.removePointerDownListener=ht(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function W0(){const e=b.useContext($n);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=b.useId();return b.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const un={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ea(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Q.test(e))e=parseFloat(e);else return e;const r=ea(e,t.target.x),n=ea(e,t.target.y);return`${r}% ${n}%`}},$0={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Ct.parse(e);if(s.length>5)return n;const a=Ct.createTransformer(e),i=typeof s[0]!="number"?1:0,c=r.x.scale*t.x,l=r.y.scale*t.y;s[0+i]/=c,s[1+i]/=l;const d=Ce(c,l,.5);return typeof s[2+i]=="number"&&(s[2+i]/=d),typeof s[3+i]=="number"&&(s[3+i]/=d),a(s)}};class U0 extends Le.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=t;Xh(H0),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),un.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,i=n.projection;return i&&(i.isPresent=a,s||t.layoutDependency!==r||r===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?i.promote():i.relegate()||we.postRender(()=>{const c=i.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Zc(e){const[t,r]=W0(),n=b.useContext(bs);return Le.createElement(U0,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(ql),isPresent:t,safeToRemove:r})}const H0={borderRadius:{...yr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yr,borderTopRightRadius:yr,borderBottomLeftRadius:yr,borderBottomRightRadius:yr,boxShadow:$0},Jc=["TopLeft","TopRight","BottomLeft","BottomRight"],q0=Jc.length,ta=e=>typeof e=="string"?parseFloat(e):e,ra=e=>typeof e=="number"||Q.test(e);function Y0(e,t,r,n,s,a){s?(e.opacity=Ce(0,r.opacity!==void 0?r.opacity:1,G0(n)),e.opacityExit=Ce(t.opacity!==void 0?t.opacity:1,0,K0(n))):a&&(e.opacity=Ce(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let i=0;i<q0;i++){const c=`border${Jc[i]}Radius`;let l=na(t,c),d=na(r,c);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||ra(l)===ra(d)?(e[c]=Math.max(Ce(ta(l),ta(d),n),0),(at.test(d)||at.test(l))&&(e[c]+="%")):e[c]=d}(t.rotate||r.rotate)&&(e.rotate=Ce(t.rotate||0,r.rotate||0,n))}function na(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const G0=Qc(0,.5,wc),K0=Qc(.5,.95,Te);function Qc(e,t,r){return n=>n<e?0:n>t?1:r(Pr(e,t,n))}function oa(e,t){e.min=t.min,e.max=t.max}function Xe(e,t){oa(e.x,t.x),oa(e.y,t.y)}function sa(e,t,r,n,s){return e-=t,e=_n(e,1/r,n),s!==void 0&&(e=_n(e,1/s,n)),e}function X0(e,t=0,r=1,n=.5,s,a=e,i=e){if(at.test(t)&&(t=parseFloat(t),t=Ce(i.min,i.max,t/100)-i.min),typeof t!="number")return;let c=Ce(a.min,a.max,n);e===a&&(c-=t),e.min=sa(e.min,t,r,c,s),e.max=sa(e.max,t,r,c,s)}function ia(e,t,[r,n,s],a,i){X0(e,t[r],t[n],t[s],t.scale,a,i)}const Z0=["x","scaleX","originX"],J0=["y","scaleY","originY"];function aa(e,t,r,n){ia(e.x,t,Z0,r?r.x:void 0,n?n.x:void 0),ia(e.y,t,J0,r?r.y:void 0,n?n.y:void 0)}function la(e){return e.translate===0&&e.scale===1}function ed(e){return la(e.x)&&la(e.y)}function Q0(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function td(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function ca(e){return Ge(e.x)/Ge(e.y)}class e1{constructor(){this.members=[]}add(t){Ms(this.members,t),t.scheduleRender()}remove(t){if(Is(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function da(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y;if((s||a)&&(n=`translate3d(${s}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:l,rotateX:d,rotateY:u}=r;l&&(n+=`rotate(${l}deg) `),d&&(n+=`rotateX(${d}deg) `),u&&(n+=`rotateY(${u}deg) `)}const i=e.x.scale*t.x,c=e.y.scale*t.y;return(i!==1||c!==1)&&(n+=`scale(${i}, ${c})`),n||"none"}const t1=(e,t)=>e.depth-t.depth;class r1{constructor(){this.children=[],this.isDirty=!1}add(t){Ms(this.children,t),this.isDirty=!0}remove(t){Is(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(t1),this.isDirty=!1,this.children.forEach(t)}}function n1(e,t){const r=performance.now(),n=({timestamp:s})=>{const a=s-r;a>=t&&(gt(n),e(a-t))};return we.read(n,!0),()=>gt(n)}function o1(e){window.MotionDebug&&window.MotionDebug.record(e)}function s1(e){return e instanceof SVGElement&&e.tagName!=="svg"}function i1(e,t,r){const n=Ue(e)?e:cr(e);return n.start(Es("",n,t,r)),n.animation}const ua=["","X","Y","Z"],a1={visibility:"hidden"},pa=1e3;let l1=0;const Mt={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function rd({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(i={},c=t?.()){this.id=l1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Mt.totalNodes=Mt.resolvedTargetDeltas=Mt.recalculatedProjection=0,this.nodes.forEach(u1),this.nodes.forEach(g1),this.nodes.forEach(y1),this.nodes.forEach(p1),o1(Mt)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new r1)}addEventListener(i,c){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Ns),this.eventHandlers.get(i).add(c)}notifyListeners(i,...c){const l=this.eventHandlers.get(i);l&&l.notify(...c)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=s1(i),this.instance=i;const{layoutId:l,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(d||l)&&(this.isLayoutDirty=!0),e){let p;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=n1(h,250),un.hasAnimatedSinceResize&&(un.hasAnimatedSinceResize=!1,this.nodes.forEach(ha))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||k1,{onLayoutAnimationStart:y,onLayoutAnimationComplete:A}=u.getProps(),S=!this.targetLayout||!td(this.targetLayout,g)||m,f=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||f||h&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,f);const v={...Ls(x,"layout"),onPlay:y,onComplete:A};(u.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else h||ha(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b1),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const p=this.path[u];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:l}=this.options;if(c===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ma);return}this.isUpdating||this.nodes.forEach(h1),this.isUpdating=!1,this.nodes.forEach(f1),this.nodes.forEach(c1),this.nodes.forEach(d1),this.clearAllSnapshots();const c=performance.now();Me.delta=_t(0,1e3/60,c-Me.timestamp),Me.timestamp=c,Me.isProcessing=!0,oo.update.process(Me),oo.preRender.process(Me),oo.render.process(Me),Me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(m1),this.sharedNodes.forEach(x1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,we.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ae(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!ed(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;i&&(c||Et(this.latestValues)||u)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const c=this.measurePageBox();let l=this.removeElementScroll(c);return i&&(l=this.removeTransform(l)),S1(l),{animationId:this.root.animationId,measuredBox:c,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Ae();const c=i.measureViewportBox(),{scroll:l}=this.root;return l&&(kt(c.x,l.offset.x),kt(c.y,l.offset.y)),c}removeElementScroll(i){const c=Ae();Xe(c,i);for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:u,options:p}=d;if(d!==this.root&&u&&p.layoutScroll){if(u.isRoot){Xe(c,i);const{scroll:h}=this.root;h&&(kt(c.x,-h.offset.x),kt(c.y,-h.offset.y))}kt(c.x,u.offset.x),kt(c.y,u.offset.y)}}return c}applyTransform(i,c=!1){const l=Ae();Xe(l,i);for(let d=0;d<this.path.length;d++){const u=this.path[d];!c&&u.options.layoutScroll&&u.scroll&&u!==u.root&&nr(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Et(u.latestValues)&&nr(l,u.latestValues)}return Et(this.latestValues)&&nr(l,this.latestValues),l}removeTransform(i){const c=Ae();Xe(c,i);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!Et(d.latestValues))continue;Xo(d.latestValues)&&d.updateSnapshot();const u=Ae(),p=d.measurePageBox();Xe(u,p),aa(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Et(this.latestValues)&&aa(c,this.latestValues),c}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var c;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(i||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:h}=this.options;if(!(!this.layout||!(p||h))){if(this.resolvedRelativeTargetAt=Me.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ae(),this.relativeTargetOrigin=Ae(),jr(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Xe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ae(),this.targetWithTransforms=Ae()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),j0(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xe(this.target,this.layout.layoutBox),Gc(this.target,this.targetDelta)):Xe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ae(),this.relativeTargetOrigin=Ae(),jr(this.relativeTargetOrigin,this.target,m.target),Xe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mt.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Xo(this.parent.latestValues)||Yc(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const c=this.getLead(),l=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Me.timestamp&&(d=!1),d)return;const{layout:u,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||p))return;Xe(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;M0(this.layoutCorrected,this.treeScale,this.path,l),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:g}=c;if(!g){this.projectionTransform&&(this.projectionDelta=rr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=rr(),this.projectionDeltaWithTransform=rr());const x=this.projectionTransform;Sr(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=da(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Mt.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,c=!1){const l=this.snapshot,d=l?l.latestValues:{},u={...this.latestValues},p=rr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const h=Ae(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,x=m!==g,y=this.getStack(),A=!y||y.members.length<=1,S=!!(x&&!A&&this.options.crossfade===!0&&!this.path.some(w1));this.animationProgress=0;let f;this.mixTargetDelta=v=>{const P=v/1e3;fa(p.x,i.x,P),fa(p.y,i.y,P),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jr(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v1(this.relativeTarget,this.relativeTargetOrigin,h,P),f&&Q0(this.relativeTarget,f)&&(this.isProjectionDirty=!1),f||(f=Ae()),Xe(f,this.relativeTarget)),x&&(this.animationValues=u,Y0(u,d,this.latestValues,P,S,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{un.hasAnimatedSinceResize=!0,this.currentAnimation=i1(0,pa,{...i,onUpdate:c=>{this.mixTargetDelta(c),i.onUpdate&&i.onUpdate(c)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pa),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:c,target:l,layout:d,latestValues:u}=i;if(!(!c||!l||!d)){if(this!==i&&this.layout&&d&&nd(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||Ae();const p=Ge(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+p;const h=Ge(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}Xe(c,l),nr(c,u),Sr(this.projectionDeltaWithTransform,this.layoutCorrected,c,u)}}registerSharedNode(i,c){this.sharedNodes.has(i)||this.sharedNodes.set(i,new e1),this.sharedNodes.get(i).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:c}=this.options;return c?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:c}=this.options;return c?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:c,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let c=!1;const{latestValues:l}=i;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(c=!0),!c)return;const d={};for(let u=0;u<ua.length;u++){const p="rotate"+ua[u];l[p]&&(d[p]=l[p],i.setStaticValue(p,0))}i.render();for(const u in d)i.setStaticValue(u,d[u]);i.scheduleRender()}getProjectionStyles(i){var c,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return a1;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=dn(i?.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=dn(i?.pointerEvents)||""),this.hasProjected&&!Et(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const h=p.animationValues||p.latestValues;this.applyTransformsToTarget(),d.transform=da(this.projectionDeltaWithTransform,this.treeScale,h),u&&(d.transform=u(h,d.transform));const{x:m,y:g}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,p.animationValues?d.opacity=p===this?(l=(c=h.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:d.opacity=p===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in bn){if(h[x]===void 0)continue;const{correct:y,applyTo:A}=bn[x],S=d.transform==="none"?h[x]:y(h[x],p);if(A){const f=A.length;for(let v=0;v<f;v++)d[A[v]]=S}else d[x]=S}return this.options.layoutId&&(d.pointerEvents=p===this?dn(i?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var c;return(c=i.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(ma),this.root.sharedNodes.clear()}}}function c1(e){e.updateLayout()}function d1(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,i=r.source!==e.layout.source;a==="size"?Ze(p=>{const h=i?r.measuredBox[p]:r.layoutBox[p],m=Ge(h);h.min=n[p].min,h.max=h.min+m}):nd(a,r.layoutBox,n)&&Ze(p=>{const h=i?r.measuredBox[p]:r.layoutBox[p],m=Ge(n[p]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+m)});const c=rr();Sr(c,n,r.layoutBox);const l=rr();i?Sr(l,e.applyTransform(s,!0),r.measuredBox):Sr(l,n,r.layoutBox);const d=!ed(c);let u=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:h,layout:m}=p;if(h&&m){const g=Ae();jr(g,r.layoutBox,h.layoutBox);const x=Ae();jr(x,n,m.layoutBox),td(g,x)||(u=!0),p.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=g,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:c,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function u1(e){Mt.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function p1(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function m1(e){e.clearSnapshot()}function ma(e){e.clearMeasurements()}function h1(e){e.isLayoutDirty=!1}function f1(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ha(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function g1(e){e.resolveTargetDelta()}function y1(e){e.calcProjection()}function b1(e){e.resetRotation()}function x1(e){e.removeLeadSnapshot()}function fa(e,t,r){e.translate=Ce(t.translate,0,r),e.scale=Ce(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function ga(e,t,r,n){e.min=Ce(t.min,r.min,n),e.max=Ce(t.max,r.max,n)}function v1(e,t,r,n){ga(e.x,t.x,r.x,n),ga(e.y,t.y,r.y,n)}function w1(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const k1={duration:.45,ease:[.4,0,.1,1]},ya=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),ba=ya("applewebkit/")&&!ya("chrome/")?Math.round:Te;function xa(e){e.min=ba(e.min),e.max=ba(e.max)}function S1(e){xa(e.x),xa(e.y)}function nd(e,t,r){return e==="position"||e==="preserve-aspect"&&!Go(ca(t),ca(r),.2)}const j1=rd({attachResizeListener:(e,t)=>mt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),go={current:void 0},od=rd({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!go.current){const e=new j1({});e.mount(window),e.setOptions({layoutScroll:!0}),go.current=e}return go.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),_1={pan:{Feature:V0},drag:{Feature:F0,ProjectionNode:od,MeasureLayout:Zc}},C1=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function T1(e){const t=C1.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Jo(e,t,r=1){const[n,s]=T1(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const i=a.trim();return Fc(i)?parseFloat(i):i}else return Vo(s)?Jo(s,t,r+1):s}function A1(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const a=s.get();if(!Vo(a))return;const i=Jo(a,n);i&&s.set(i)});for(const s in t){const a=t[s];if(!Vo(a))continue;const i=Jo(a,n);i&&(t[s]=i,r||(r={}),r[s]===void 0&&(r[s]=a))}return{target:t,transitionEnd:r}}const P1=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),sd=e=>P1.has(e),R1=e=>Object.keys(e).some(sd),va=e=>e===Ht||e===Q,wa=(e,t)=>parseFloat(e.split(", ")[t]),ka=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return wa(s[1],t);{const a=n.match(/^matrix\((.+)\)$/);return a?wa(a[1],e):0}},L1=new Set(["x","y","z"]),E1=zr.filter(e=>!L1.has(e));function M1(e){const t=[];return E1.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const dr={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ka(4,13),y:ka(5,14)};dr.translateX=dr.x;dr.translateY=dr.y;const I1=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,a=getComputedStyle(s),{display:i}=a,c={};i==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(d=>{c[d]=dr[d](n,a)}),t.render();const l=t.measureViewportBox();return r.forEach(d=>{const u=t.getValue(d);u&&u.jump(c[d]),e[d]=dr[d](l,a)}),e},N1=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(sd);let a=[],i=!1;const c=[];if(s.forEach(l=>{const d=e.getValue(l);if(!e.hasValue(l))return;let u=r[l],p=gr(u);const h=t[l];let m;if(vn(h)){const g=h.length,x=h[0]===null?1:0;u=h[x],p=gr(u);for(let y=x;y<g&&h[y]!==null;y++)m?Cs(gr(h[y])===m):m=gr(h[y])}else m=gr(h);if(p!==m)if(va(p)&&va(m)){const g=d.get();typeof g=="string"&&d.set(parseFloat(g)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===Q&&(t[l]=h.map(parseFloat))}else p?.transform&&m?.transform&&(u===0||h===0)?u===0?d.set(m.transform(u)):t[l]=p.transform(h):(i||(a=M1(e),i=!0),c.push(l),n[l]=n[l]!==void 0?n[l]:t[l],d.jump(h))}),c.length){const l=c.indexOf("height")>=0?window.pageYOffset:null,d=I1(t,e,c);return a.length&&a.forEach(([u,p])=>{e.getValue(u).set(p)}),e.render(),Un&&l!==null&&window.scrollTo({top:l}),{target:d,transitionEnd:n}}else return{target:t,transitionEnd:n}};function z1(e,t,r,n){return R1(t)?N1(e,t,r,n):{target:t,transitionEnd:n}}const B1=(e,t,r,n)=>{const s=A1(e,t,n);return t=s.target,n=s.transitionEnd,z1(e,t,r,n)},Qo={current:null},id={current:!1};function D1(){if(id.current=!0,!!Un)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Qo.current=e.matches;e.addListener(t),t()}else Qo.current=!1}function O1(e,t,r){const{willChange:n}=t;for(const s in t){const a=t[s],i=r[s];if(Ue(a))e.addValue(s,a),jn(n)&&n.add(s);else if(Ue(i))e.addValue(s,cr(a,{owner:e})),jn(n)&&n.remove(s);else if(i!==a)if(e.hasValue(s)){const c=e.getValue(s);!c.hasAnimated&&c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,cr(c!==void 0?c:a,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const Sa=new WeakMap,ad=Object.keys(Ar),F1=ad.length,ja=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],V1=ys.length;class W1{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:a},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>we.render(this.render,!1,!0);const{latestValues:c,renderState:l}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=l,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=qn(r),this.isVariantNode=Hl(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(r,{});for(const p in u){const h=u[p];c[p]!==void 0&&Ue(h)&&(h.set(c[p],!1),jn(d)&&d.add(p))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,Sa.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),id.current||D1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qo.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Sa.delete(this.current),this.projection&&this.projection.unmount(),gt(this.notifyUpdate),gt(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Ut.has(t),s=r.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&we.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,a){let i,c;for(let l=0;l<F1;l++){const d=ad[l],{isEnabled:u,Feature:p,ProjectionNode:h,MeasureLayout:m}=Ar[d];h&&(i=h),u(r)&&(!this.features[d]&&p&&(this.features[d]=new p(this)),m&&(c=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:d,drag:u,dragConstraints:p,layoutScroll:h,layoutRoot:m}=r;this.projection.setOptions({layoutId:l,layout:d,alwaysMeasureLayout:!!u||p&&er(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return c}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ae()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<ja.length;n++){const s=ja[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a=t["on"+s];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=O1(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<V1;n++){const s=ys[n],a=this.props[s];(Tr(a)||a===!1)&&(r[s]=a)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=cr(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=_s(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ue(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Ns),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class ld extends W1{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},a){let i=s0(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),i&&(i=s(i))),a){n0(this,n,i);const c=B1(this,n,i,r);r=c.transitionEnd,n=c.target}return{transition:t,transitionEnd:r,...n}}}function $1(e){return window.getComputedStyle(e)}class U1 extends ld{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Ut.has(r)){const n=Rs(r);return n&&n.default||0}else{const n=$1(t),s=(Kl(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Kc(t,r)}build(t,r,n,s){vs(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return js(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ue(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){tc(t,r,n,s)}}class H1 extends ld{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Ut.has(r)){const n=Rs(r);return n&&n.default||0}return r=rc.has(r)?r:fs(r),t.getAttribute(r)}measureInstanceViewportBox(){return Ae()}scrapeMotionValuesFromProps(t,r){return oc(t,r)}build(t,r,n,s){ks(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){nc(t,r,n,s)}mount(t){this.isSVGTag=Ss(t.tagName),super.mount(t)}}const q1=(e,t)=>xs(e)?new H1(t,{enableHardwareAcceleration:!1}):new U1(t,{enableHardwareAcceleration:!0}),Y1={layout:{ProjectionNode:od,MeasureLayout:Zc}},G1={...v0,...Ff,..._1,...Y1},ce=Gh((e,t)=>Tf(e,t,G1,q1));function cd(){const e=b.useRef(!1);return hs(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function K1(){const e=cd(),[t,r]=b.useState(0),n=b.useCallback(()=>{e.current&&r(t+1)},[t]);return[b.useCallback(()=>we.postRender(n),[n]),t]}class X1 extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Z1({children:e,isPresent:t}){const r=b.useId(),n=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:a,height:i,top:c,left:l}=s.current;if(t||!n.current||!a||!i)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${i}px !important;
            top: ${c}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),b.createElement(X1,{isPresent:t,childRef:n,sizeRef:s},b.cloneElement(e,{ref:n}))}const yo=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:i})=>{const c=sc(J1),l=b.useId(),d=b.useMemo(()=>({id:l,initial:t,isPresent:r,custom:s,onExitComplete:u=>{c.set(u,!0);for(const p of c.values())if(!p)return;n&&n()},register:u=>(c.set(u,!1),()=>c.delete(u))}),a?void 0:[r]);return b.useMemo(()=>{c.forEach((u,p)=>c.set(p,!1))},[r]),b.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),i==="popLayout"&&(e=b.createElement(Z1,{isPresent:r},e)),b.createElement($n.Provider,{value:d},e)};function J1(){return new Map}function Q1(e){return b.useEffect(()=>()=>e(),[])}const It=e=>e.key||"";function ey(e,t){e.forEach(r=>{const n=It(r);t.set(n,r)})}function ty(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const Wt=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:i="sync"})=>{const c=b.useContext(bs).forceRender||K1()[0],l=cd(),d=ty(e);let u=d;const p=b.useRef(new Map).current,h=b.useRef(u),m=b.useRef(new Map).current,g=b.useRef(!0);if(hs(()=>{g.current=!1,ey(d,m),h.current=u}),Q1(()=>{g.current=!0,m.clear(),p.clear()}),g.current)return b.createElement(b.Fragment,null,u.map(S=>b.createElement(yo,{key:It(S),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:a,mode:i},S)));u=[...u];const x=h.current.map(It),y=d.map(It),A=x.length;for(let S=0;S<A;S++){const f=x[S];y.indexOf(f)===-1&&!p.has(f)&&p.set(f,void 0)}return i==="wait"&&p.size&&(u=[]),p.forEach((S,f)=>{if(y.indexOf(f)!==-1)return;const v=m.get(f);if(!v)return;const P=x.indexOf(f);let R=S;if(!R){const k=()=>{p.delete(f);const I=Array.from(m.keys()).filter(q=>!y.includes(q));if(I.forEach(q=>m.delete(q)),h.current=d.filter(q=>{const Z=It(q);return Z===f||I.includes(Z)}),!p.size){if(l.current===!1)return;c(),n&&n()}};R=b.createElement(yo,{key:It(v),isPresent:!1,onExitComplete:k,custom:t,presenceAffectsLayout:a,mode:i},v),p.set(f,R)}u.splice(P,0,R)}),u=u.map(S=>{const f=S.key;return p.has(f)?S:b.createElement(yo,{key:It(S),isPresent:!0,presenceAffectsLayout:a,mode:i},S)}),b.createElement(b.Fragment,null,p.size?u:u.map(S=>b.cloneElement(S)))};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ny=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),_a=e=>{const t=ny(e);return t.charAt(0).toUpperCase()+t.slice(1)},dd=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),oy=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...c},l)=>b.createElement("svg",{ref:l,...sy,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:dd("lucide",s),...!a&&!oy(c)&&{"aria-hidden":"true"},...c},[...i.map(([d,u])=>b.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(e,t)=>{const r=b.forwardRef(({className:n,...s},a)=>b.createElement(iy,{ref:a,iconNode:t,className:dd(`lucide-${ry(_a(e))}`,`lucide-${e}`,n),...s}));return r.displayName=_a(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ly=ue("activity",ay);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],dy=ue("banknote",cy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],py=ue("building-2",uy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],hy=ue("building",my);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],gy=ue("calculator",fy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],es=ue("circle-alert",yy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zs=ue("circle-check-big",by);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],vy=ue("circle-x",xy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ts=ue("clock",wy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ud=ue("credit-card",ky);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rs=ue("download",Sy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],it=ue("file-text",jy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],pd=ue("file",_y);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Ty=ue("grid-3x3",Cy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Py=ue("house",Ay);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],md=ue("image",Ry);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ey=ue("info",Ly);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Iy=ue("loader-circle",My);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],zy=ue("receipt",Ny);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ca=ue("refresh-cw",By);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Oy=ue("search",Dy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vy=ue("settings",Fy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Cn=ue("shield",Wy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Uy=ue("sun",$y);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],qy=ue("table",Hy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Gy=ue("target",Yy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Xy=ue("trash-2",Ky);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],hd=ue("trending-up",Zy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ta=ue("triangle-alert",Jy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],pt=ue("upload",Qy);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tb=ue("user",eb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tn=ue("x",rb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ob=ue("zap",nb);let sb={data:""},ib=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||sb,ab=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,lb=/\/\*[^]*?\*\/|  +/g,Aa=/\n+/g,St=(e,t)=>{let r="",n="",s="";for(let a in e){let i=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+i+";":n+=a[1]=="f"?St(i,a):a+"{"+St(i,a[1]=="k"?"":t)+"}":typeof i=="object"?n+=St(i,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,c):c?c+" "+l:l)):a):i!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=St.p?St.p(a,i):a+":"+i+";")}return r+(t&&s?t+"{"+s+"}":s)+n},lt={},fd=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+fd(e[r]);return t}return e},cb=(e,t,r,n,s)=>{let a=fd(e),i=lt[a]||(lt[a]=(l=>{let d=0,u=11;for(;d<l.length;)u=101*u+l.charCodeAt(d++)>>>0;return"go"+u})(a));if(!lt[i]){let l=a!==e?e:(d=>{let u,p,h=[{}];for(;u=ab.exec(d.replace(lb,""));)u[4]?h.shift():u[3]?(p=u[3].replace(Aa," ").trim(),h.unshift(h[0][p]=h[0][p]||{})):h[0][u[1]]=u[2].replace(Aa," ").trim();return h[0]})(e);lt[i]=St(s?{["@keyframes "+i]:l}:l,r?"":"."+i)}let c=r&&lt.g?lt.g:null;return r&&(lt.g=lt[i]),((l,d,u,p)=>{p?d.data=d.data.replace(p,l):d.data.indexOf(l)===-1&&(d.data=u?l+d.data:d.data+l)})(lt[i],t,n,c),i},db=(e,t,r)=>e.reduce((n,s,a)=>{let i=t[a];if(i&&i.call){let c=i(r),l=c&&c.props&&c.props.className||/^go/.test(c)&&c;i=l?"."+l:c&&typeof c=="object"?c.props?"":St(c,""):c===!1?"":c}return n+s+(i??"")},"");function Xn(e){let t=this||{},r=e.call?e(t.p):e;return cb(r.unshift?r.raw?db(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,ib(t.target),t.g,t.o,t.k)}let gd,ns,os;Xn.bind({g:1});let yt=Xn.bind({k:1});function ub(e,t,r,n){St.p=t,gd=e,ns=r,os=n}function At(e,t){let r=this||{};return function(){let n=arguments;function s(a,i){let c=Object.assign({},a),l=c.className||s.className;r.p=Object.assign({theme:ns&&ns()},c),r.o=/ *go\d+/.test(l),c.className=Xn.apply(r,n)+(l?" "+l:"");let d=e;return e[0]&&(d=c.as||e,delete c.as),os&&d[0]&&os(c),gd(d,c)}return s}}var pb=e=>typeof e=="function",ss=(e,t)=>pb(e)?e(t):e,mb=(()=>{let e=0;return()=>(++e).toString()})(),hb=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),fb=20,yd=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,fb)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:r}=t;return yd(e,{type:e.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},gb=[],bo={toasts:[],pausedAt:void 0},Bs=e=>{bo=yd(bo,e),gb.forEach(t=>{t(bo)})},yb=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:r?.id||mb()}),Fr=e=>(t,r)=>{let n=yb(t,e,r);return Bs({type:2,toast:n}),n.id},Ye=(e,t)=>Fr("blank")(e,t);Ye.error=Fr("error");Ye.success=Fr("success");Ye.loading=Fr("loading");Ye.custom=Fr("custom");Ye.dismiss=e=>{Bs({type:3,toastId:e})};Ye.remove=e=>Bs({type:4,toastId:e});Ye.promise=(e,t,r)=>{let n=Ye.loading(t.loading,{...r,...r?.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?ss(t.success,s):void 0;return a?Ye.success(a,{id:n,...r,...r?.success}):Ye.dismiss(n),s}).catch(s=>{let a=t.error?ss(t.error,s):void 0;a?Ye.error(a,{id:n,...r,...r?.error}):Ye.dismiss(n)}),e};var bb=yt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xb=yt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vb=yt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,wb=At("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xb} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${vb} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,kb=yt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Sb=At("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${kb} 1s linear infinite;
`,jb=yt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_b=yt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Cb=At("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_b} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Tb=At("div")`
  position: absolute;
`,Ab=At("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Pb=yt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Rb=At("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Pb} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Lb=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?b.createElement(Rb,null,t):t:r==="blank"?null:b.createElement(Ab,null,b.createElement(Sb,{...n}),r!=="loading"&&b.createElement(Tb,null,r==="error"?b.createElement(wb,{...n}):b.createElement(Cb,{...n})))},Eb=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Mb=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Ib="0%{opacity:0;} 100%{opacity:1;}",Nb="0%{opacity:1;} 100%{opacity:0;}",zb=At("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Bb=At("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Db=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=hb()?[Ib,Nb]:[Eb(r),Mb(r)];return{animation:t?`${yt(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${yt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};b.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?Db(e.position||t||"top-center",e.visible):{opacity:0},a=b.createElement(Lb,{toast:e}),i=b.createElement(Bb,{...e.ariaProps},ss(e.message,e));return b.createElement(zb,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:a,message:i}):b.createElement(b.Fragment,null,a,i))});ub(b.createElement);Xn`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var Fe=Ye;const Ob=z.div`
  background: var(--color-background-surface);
  border-radius: 12px;
  padding: 24px;
  border: 1px solid var(--color-border-light);
  box-shadow: var(--shadow-sm);
`,Fb=z(ce.div)`
  border: 2px dashed ${e=>e.hasError?"var(--color-error-main)":e.isDragActive?"var(--color-primary-500)":"var(--color-border-medium)"};
  border-radius: 12px;
  padding: 40px 20px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  background: ${e=>e.isDragActive?"var(--color-primary-50)":"var(--color-background-primary)"};
  
  &:hover {
    border-color: var(--color-primary-500);
    background: var(--color-primary-50);
  }
`,Vb=z.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
`,Wb=z(ce.div)`
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background: var(--color-primary-100);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-primary-600);
`,$b=z.select`
  width: 100%;
  padding: 12px 16px;
  border: 1px solid var(--color-border-medium);
  border-radius: 8px;
  font-size: 14px;
  background: var(--color-background-primary);
  color: var(--color-text-primary);
  
  &:focus {
    outline: none;
    border-color: var(--color-primary-500);
    box-shadow: 0 0 0 3px var(--color-primary-100);
  }
`,Ub=z(ce.div)`
  background: var(--color-background-secondary);
  border-radius: 8px;
  padding: 20px;
  margin-top: 16px;
`,Hb=z.div`
  width: 100%;
  height: 8px;
  background: var(--color-neutral-200);
  border-radius: 4px;
  overflow: hidden;
  
  &::after {
    content: '';
    display: block;
    height: 100%;
    width: ${e=>e.progress}%;
    background: linear-gradient(90deg, var(--color-primary-500), var(--color-primary-400));
    transition: width 0.3s ease;
  }
`,qb=z(ce.div)`
  background: var(--color-background-secondary);
  border-radius: 8px;
  padding: 20px;
  margin-top: 16px;
`,Kr=z.div`
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 0;
  
  .icon {
    color: ${e=>e.status==="success"?"var(--color-success-main)":e.status==="warning"?"var(--color-warning-main)":"var(--color-error-main)"};
  }
`,Yb=z.div`
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 16px;
  background: var(--color-background-secondary);
  border-radius: 8px;
  margin-top: 16px;
`,Gb=z.div`
  flex: 1;
  
  .name {
    font-weight: 500;
    color: var(--color-text-primary);
    margin-bottom: 4px;
  }
  
  .details {
    font-size: 14px;
    color: var(--color-text-secondary);
  }
`,Kb=z.div`
  display: flex;
  gap: 12px;
  margin-top: 20px;
`,xo=z(ce.button)`
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 500;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.2s ease;
  
  ${e=>{switch(e.variant){case"primary":return`
          background: var(--color-primary-500);
          color: white;
          &:hover { background: var(--color-primary-600); }
        `;case"danger":return`
          background: var(--color-error-500);
          color: white;
          &:hover { background: var(--color-error-600); }
        `;default:return`
          background: var(--color-neutral-100);
          color: var(--color-text-primary);
          &:hover { background: var(--color-neutral-200); }
        `}}}
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,Xb=z.input`
  display: none;
`,Zb=z.div`
  background: var(--color-error-50);
  border: 1px solid var(--color-error-200);
  color: var(--color-error-700);
  padding: 12px 16px;
  border-radius: 8px;
  margin-top: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
`,Jb=({onUploadComplete:e,onUploadError:t,allowedCategories:r,maxFileSize:n=50*1024*1024,className:s})=>{const{t:a,i18n:i}=xe(),c=b.useRef(null),[l,d]=b.useState([]),[u,p]=b.useState(""),[h,m]=b.useState(null),[g,x]=b.useState(!1),[y,A]=b.useState(null),[S,f]=b.useState(null),[v,P]=b.useState(!1),[R,k]=b.useState(""),[I,q]=b.useState(null);b.useEffect(()=>{Z()},[]);const Z=async()=>{try{const D=await ze.getCategories(),ge=r?D.filter(ye=>r.includes(ye.id)):D;d(ge),ge.length>0&&p(ge[0].id)}catch(D){console.error("Failed to load categories:",D),Fe.error(a("documents.upload.error.categories"))}},X=D=>["application/pdf","image/jpeg","image/png"].includes(D.type)?D.size>n?a("documents.upload.error.size_limit",{maxSize:Ie.formatFileSize(n)}):null:a("documents.upload.error.invalid_type"),ae=b.useCallback(D=>{if(!D||D.length===0)return;const ge=D[0],ye=X(ge);if(ye){k(ye);return}m(ge),k(""),f(null),q(null)},[n,a]),N=b.useCallback(D=>{D.preventDefault(),D.stopPropagation(),x(!0)},[]),Y=b.useCallback(D=>{D.preventDefault(),D.stopPropagation(),x(!1)},[]),K=b.useCallback(D=>{D.preventDefault(),D.stopPropagation()},[]),V=b.useCallback(D=>{D.preventDefault(),D.stopPropagation(),x(!1),ae(D.dataTransfer.files)},[ae]),C=async()=>{if(!(!h||!u)){P(!0),k(""),A(null),f(null);try{const D=await ze.uploadDocument(h,u,{},ge=>{A(ge)});q(D),f(D.validation_results||null),D.document_id&&ze.pollDocumentStatus(D.document_id,ge=>{console.log("Document status update:",ge)}),e?.(D.document_id),Fe.success(a("documents.upload.success"))}catch(D){const ge=D.message||a("documents.upload.error.generic");k(ge),t?.(ge),Fe.error(ge)}finally{P(!1)}}},_=()=>{m(null),A(null),f(null),k(""),q(null),c.current&&(c.current.value="")},T=D=>D.type.startsWith("image/")?o.jsx(md,{size:24}):D.type==="application/pdf"?o.jsx(it,{size:24}):o.jsx(pd,{size:24}),M=D=>{switch(D){case"success":return o.jsx(zs,{size:20,className:"icon"});case"warning":return o.jsx(Ta,{size:20,className:"icon"});case"error":return o.jsx(vy,{size:20,className:"icon"})}},W=l.find(D=>D.id===u);return o.jsxs(Ob,{className:s,children:[l.length>1&&o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"var(--color-text-primary)"},children:a("documents.upload.category")}),o.jsxs($b,{value:u,onChange:D=>p(D.target.value),children:[o.jsx("option",{value:"",children:a("documents.upload.select_category")}),l.map(D=>o.jsx("option",{value:D.id,children:D.name},D.id))]}),W&&o.jsx("div",{style:{marginTop:"8px",fontSize:"14px",color:"var(--color-text-secondary)"},children:W.description})]}),!h&&o.jsx(Fb,{isDragActive:g,hasError:!!R,onDragEnter:N,onDragLeave:Y,onDragOver:K,onDrop:V,onClick:()=>c.current?.click(),whileHover:{scale:1.02},whileTap:{scale:.98},children:o.jsxs(Vb,{children:[o.jsx(Wb,{animate:{scale:g?1.1:1,rotate:g?5:0},children:o.jsx(pt,{size:28})}),o.jsxs("div",{children:[o.jsx("h3",{style:{margin:"0 0 8px 0",color:"var(--color-text-primary)"},children:a("documents.upload.drop_zone.title")}),o.jsx("p",{style:{margin:0,color:"var(--color-text-secondary)",fontSize:"14px"},children:a("documents.upload.drop_zone.subtitle")})]}),o.jsxs("div",{style:{fontSize:"12px",color:"var(--color-text-tertiary)"},children:[a("documents.upload.supported_formats"),": PDF, JPEG, PNG",o.jsx("br",{}),a("documents.upload.max_size"),": ",Ie.formatFileSize(n)]})]})}),h&&o.jsxs(Yb,{children:[o.jsx("div",{style:{color:"var(--color-primary-500)"},children:T(h)}),o.jsxs(Gb,{children:[o.jsx("div",{className:"name",children:h.name}),o.jsxs("div",{className:"details",children:[Ie.formatFileSize(h.size)," • ",h.type]})]}),!v&&o.jsx(xo,{onClick:_,variant:"secondary",children:o.jsx(Tn,{size:16})})]}),o.jsx(Wt,{children:y&&o.jsxs(Ub,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[o.jsx("span",{style:{fontSize:"14px",fontWeight:"500"},children:y.message}),o.jsxs("span",{style:{fontSize:"14px",color:"var(--color-text-secondary)"},children:[y.percentage,"%"]})]}),o.jsx(Hb,{progress:y.percentage}),y.stage==="virus_scanning"&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"12px",fontSize:"14px",color:"var(--color-text-secondary)"},children:[o.jsx(Cn,{size:16}),a("documents.upload.virus_scanning")]})]})}),o.jsx(Wt,{children:S&&o.jsxs(qb,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[o.jsx("h4",{style:{margin:"0 0 16px 0",color:"var(--color-text-primary)"},children:a("documents.upload.validation_results")}),o.jsxs(Kr,{status:S.file_validation?.valid?"success":"error",children:[M(S.file_validation?.valid?"success":"error"),o.jsx("span",{children:a("documents.upload.file_validation")})]}),o.jsxs(Kr,{status:S.virus_scan?.clean?"success":"error",children:[M(S.virus_scan?.clean?"success":"error"),o.jsx("span",{children:a("documents.upload.virus_scan")})]}),o.jsxs(Kr,{status:S.content_validation?.valid?"success":"warning",children:[M(S.content_validation?.valid?"success":"warning"),o.jsxs("span",{children:[a("documents.upload.content_validation"),"(",S.content_validation?.confidence||0,"%)"]})]}),o.jsxs(Kr,{status:S.security_validation?.risk_level==="low"?"success":S.security_validation?.risk_level==="medium"?"warning":"error",children:[M(S.security_validation?.risk_level==="low"?"success":S.security_validation?.risk_level==="medium"?"warning":"error"),o.jsxs("span",{children:[a("documents.upload.security_validation"),"(",S.security_validation?.risk_level,")"]})]})]})}),o.jsx(Wt,{children:R&&o.jsx(ce.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:o.jsxs(Zb,{children:[o.jsx(Ta,{size:20}),R]})})}),o.jsxs(Kb,{children:[h&&!I&&o.jsx(xo,{variant:"primary",onClick:C,disabled:v||!u,whileHover:{scale:1.02},whileTap:{scale:.98},children:v?o.jsxs(o.Fragment,{children:[o.jsx(Iy,{size:16,className:"animate-spin"}),a("documents.upload.uploading")]}):o.jsxs(o.Fragment,{children:[o.jsx(pt,{size:16}),a("documents.upload.upload_button")]})}),(h||I)&&o.jsx(xo,{variant:"secondary",onClick:_,disabled:v,children:a(I?"documents.upload.upload_another":"common.cancel")})]}),o.jsx(Xb,{ref:c,type:"file",accept:".pdf,.jpeg,.jpg,.png",onChange:D=>ae(D.target.files)})]})},Qb=z.div`
  background: var(--color-background-surface);
  border-radius: 12px;
  padding: 24px;
  border: 1px solid var(--color-border-light);
`,ex=z.div`
  display: flex;
  justify-content: between;
  align-items: center;
  margin-bottom: 24px;
  flex-wrap: wrap;
  gap: 16px;
`,tx=z.h2`
  margin: 0;
  color: var(--color-text-primary);
  font-size: 20px;
  font-weight: 600;
`,rx=z.div`
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
  flex: 1;
  justify-content: flex-end;
`,nx=z.div`
  position: relative;
  min-width: 250px;
`,ox=z.input`
  width: 100%;
  padding: 10px 16px 10px 40px;
  border: 1px solid var(--color-border-medium);
  border-radius: 8px;
  font-size: 14px;
  background: var(--color-background-primary);
  color: var(--color-text-primary);
  
  &:focus {
    outline: none;
    border-color: var(--color-primary-500);
    box-shadow: 0 0 0 3px var(--color-primary-100);
  }
  
  &::placeholder {
    color: var(--color-text-tertiary);
  }
`,sx=z(Oy)`
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--color-text-tertiary);
  width: 18px;
  height: 18px;
`,Pa=z.select`
  padding: 10px 16px;
  border: 1px solid var(--color-border-medium);
  border-radius: 8px;
  font-size: 14px;
  background: var(--color-background-primary);
  color: var(--color-text-primary);
  min-width: 150px;
  
  &:focus {
    outline: none;
    border-color: var(--color-primary-500);
    box-shadow: 0 0 0 3px var(--color-primary-100);
  }
`,ix=z(ce.button)`
  padding: 10px;
  border: 1px solid var(--color-border-medium);
  border-radius: 8px;
  background: var(--color-background-primary);
  color: var(--color-text-secondary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  
  &:hover {
    background: var(--color-background-secondary);
    color: var(--color-text-primary);
  }
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,ax=z.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 16px;
  margin-bottom: 24px;
  
  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
`,lx=z(ce.div)`
  background: var(--color-background-primary);
  border: 1px solid var(--color-border-light);
  border-radius: 12px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover {
    border-color: var(--color-primary-300);
    box-shadow: var(--shadow-md);
  }
`,cx=z.div`
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 12px;
`,dx=z.div`
  width: 40px;
  height: 40px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  background: ${e=>e.fileType.startsWith("image/")?"var(--color-success-500)":e.fileType==="application/pdf"?"var(--color-error-500)":"var(--color-neutral-500)"};
`,ux=z.div`
  display: flex;
  align-items: center;
  gap: 8px;
`,Ra=z(ce.button)`
  padding: 6px;
  border: none;
  border-radius: 6px;
  background: var(--color-background-secondary);
  color: var(--color-text-secondary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  
  &:hover {
    background: var(--color-neutral-200);
    color: var(--color-text-primary);
  }
`,px=z.div`
  font-weight: 500;
  color: var(--color-text-primary);
  margin-bottom: 4px;
  font-size: 14px;
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
`,mx=z.div`
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
  font-size: 12px;
  color: var(--color-text-secondary);
`,hx=z.div`
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
`,vo=z.div`
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
  background: ${e=>`${Ie.getStatusColor(e.status)}20`};
  color: ${e=>Ie.getStatusColor(e.status)};
  text-transform: capitalize;
`,fx=z.div`
  background: var(--color-primary-100);
  color: var(--color-primary-700);
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
  margin-bottom: 8px;
  display: inline-block;
`,gx=z.div`
  text-align: center;
  padding: 60px 20px;
  color: var(--color-text-secondary);
  
  .icon {
    width: 64px;
    height: 64px;
    margin: 0 auto 16px;
    color: var(--color-text-tertiary);
  }
  
  h3 {
    margin: 0 0 8px 0;
    color: var(--color-text-primary);
  }
  
  p {
    margin: 0;
    font-size: 14px;
  }
`,yx=z.div`
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 60px 20px;
  color: var(--color-text-secondary);
  gap: 12px;
`,bx=z.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 24px;
  flex-wrap: wrap;
  gap: 16px;
`,xx=z.div`
  font-size: 14px;
  color: var(--color-text-secondary);
`,vx=z.div`
  display: flex;
  gap: 8px;
`,wo=z(ce.button)`
  padding: 8px 12px;
  border: 1px solid var(--color-border-medium);
  border-radius: 6px;
  background: ${e=>e.active?"var(--color-primary-500)":"var(--color-background-primary)"};
  color: ${e=>e.active?"white":"var(--color-text-primary)"};
  cursor: pointer;
  font-size: 14px;
  transition: all 0.2s ease;
  
  &:hover:not(:disabled) {
    background: ${e=>e.active?"var(--color-primary-600)":"var(--color-background-secondary)"};
  }
  
  &:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }
`,wx=({onDocumentSelect:e,allowedCategories:t,showUpload:r=!0,className:n})=>{const{t:s,i18n:a}=xe(),[i,c]=b.useState([]),[l,d]=b.useState([]),[u,p]=b.useState(!0),[h,m]=b.useState(!1),[g,x]=b.useState(0),[y,A]=b.useState(1),[S,f]=b.useState({limit:12,offset:0});b.useEffect(()=>{P(),v()},[S]);const v=async()=>{try{const T=await ze.getCategories(),M=t?T.filter(W=>t.includes(W.id)):T;d(M)}catch(T){console.error("Failed to load categories:",T)}},P=async()=>{try{p(!0);const T=await ze.getDocuments(S);c(T.documents),x(T.total_count)}catch(T){console.error("Failed to load documents:",T),Fe.error(T.message||s("documents.manager.error.load_failed"))}finally{p(!1)}},R=async()=>{m(!0),await P(),m(!1)},k=b.useCallback(T=>{f(M=>({...M,search:T||void 0,offset:0})),A(1)},[]),I=b.useCallback((T,M)=>{f(W=>({...W,[T]:M||void 0,offset:0})),A(1)},[]),q=T=>{const M=(T-1)*(S.limit||12);f(W=>({...W,offset:M})),A(T)},Z=async T=>{try{const M=await ze.downloadDocument(T.document_id),W=window.URL.createObjectURL(M),D=window.document.createElement("a");D.href=W,D.download=T.original_filename,window.document.body.appendChild(D),D.click(),window.URL.revokeObjectURL(W),window.document.body.removeChild(D),Fe.success(s("documents.manager.download_success"))}catch(M){console.error("Download failed:",M),Fe.error(M.message||s("documents.manager.error.download_failed"))}},X=async T=>{if(window.confirm(s("documents.manager.delete_confirm")))try{await ze.deleteDocument(T.document_id),Fe.success(s("documents.manager.delete_success")),await P()}catch(M){console.error("Delete failed:",M),Fe.error(M.message||s("documents.manager.error.delete_failed"))}},ae=T=>T.startsWith("image/")?o.jsx(md,{size:20}):T==="application/pdf"?o.jsx(it,{size:20}):o.jsx(pd,{size:20}),N=T=>{switch(T){case"approved":case"validated":case"clean":return o.jsx(zs,{size:12});case"rejected":case"infected":return o.jsx(es,{size:12});case"pending":case"processing":case"scanning":return o.jsx(ts,{size:12});default:return o.jsx(Cn,{size:12})}},Y=T=>new Date(T).toLocaleDateString(a.language,{year:"numeric",month:"short",day:"numeric"}),K=T=>Ie.formatFileSize(T),V=Math.ceil(g/(S.limit||12)),C=(y-1)*(S.limit||12)+1,_=Math.min(y*(S.limit||12),g);return o.jsxs(Qb,{className:n,children:[o.jsxs(ex,{children:[o.jsx(tx,{children:s("documents.manager.title")}),o.jsxs(rx,{children:[o.jsxs(nx,{children:[o.jsx(sx,{}),o.jsx(ox,{type:"text",placeholder:s("documents.manager.search_placeholder"),onChange:T=>k(T.target.value)})]}),o.jsxs(Pa,{value:S.category_id||"",onChange:T=>I("category_id",T.target.value),children:[o.jsx("option",{value:"",children:s("documents.manager.all_categories")}),l.map(T=>o.jsx("option",{value:T.id,children:T.name},T.id))]}),o.jsxs(Pa,{value:S.status||"",onChange:T=>I("status",T.target.value),children:[o.jsx("option",{value:"",children:s("documents.manager.all_statuses")}),o.jsx("option",{value:"pending",children:s("documents.status.pending")}),o.jsx("option",{value:"processing",children:s("documents.status.processing")}),o.jsx("option",{value:"validated",children:s("documents.status.validated")}),o.jsx("option",{value:"approved",children:s("documents.status.approved")}),o.jsx("option",{value:"rejected",children:s("documents.status.rejected")})]}),o.jsx(ix,{onClick:R,disabled:h,whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(Ca,{size:16,className:h?"animate-spin":""})})]})]}),u?o.jsxs(yx,{children:[o.jsx(Ca,{size:20,className:"animate-spin"}),s("documents.manager.loading")]}):i.length===0?o.jsxs(gx,{children:[o.jsx(it,{className:"icon"}),o.jsx("h3",{children:s("documents.manager.empty.title")}),o.jsx("p",{children:s("documents.manager.empty.description")})]}):o.jsxs(o.Fragment,{children:[o.jsx(ax,{children:o.jsx(Wt,{mode:"popLayout",children:i.map(T=>o.jsxs(lx,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},whileHover:{y:-2},onClick:()=>e?.(T),children:[o.jsxs(cx,{children:[o.jsx(dx,{fileType:T.mime_type,children:ae(T.mime_type)}),o.jsxs(ux,{onClick:M=>M.stopPropagation(),children:[o.jsx(Ra,{onClick:()=>Z(T),whileHover:{scale:1.1},whileTap:{scale:.9},children:o.jsx(rs,{size:14})}),o.jsx(Ra,{onClick:()=>X(T),whileHover:{scale:1.1},whileTap:{scale:.9},children:o.jsx(Xy,{size:14})})]})]}),T.category&&o.jsx(fx,{children:T.category.name}),o.jsx(px,{children:T.original_filename}),o.jsxs(mx,{children:[o.jsx("span",{children:K(T.file_size_bytes)}),o.jsx("span",{children:"•"}),o.jsx("span",{children:Y(T.upload_timestamp)})]}),o.jsxs(hx,{children:[o.jsxs(vo,{status:T.document_status,children:[N(T.document_status),Ie.getStatusText(T.document_status,a.language)]}),T.virus_scan_status!=="clean"&&o.jsxs(vo,{status:T.virus_scan_status,children:[N(T.virus_scan_status),Ie.getStatusText(T.virus_scan_status,a.language)]}),T.approval_status!=="pending"&&o.jsxs(vo,{status:T.approval_status,children:[N(T.approval_status),Ie.getStatusText(T.approval_status,a.language)]})]})]},T.document_id))})}),V>1&&o.jsxs(bx,{children:[o.jsx(xx,{children:s("documents.manager.pagination.showing",{start:C,end:_,total:g})}),o.jsxs(vx,{children:[o.jsx(wo,{onClick:()=>q(y-1),disabled:y===1,whileHover:{scale:1.05},whileTap:{scale:.95},children:s("common.previous")}),Array.from({length:Math.min(5,V)},(T,M)=>{let W;return V<=5||y<=3?W=M+1:y>=V-2?W=V-4+M:W=y-2+M,o.jsx(wo,{onClick:()=>q(W),active:W===y,whileHover:{scale:1.05},whileTap:{scale:.95},children:W},W)}),o.jsx(wo,{onClick:()=>q(y+1),disabled:y===V,whileHover:{scale:1.05},whileTap:{scale:.95},children:s("common.next")})]})]})]})]})},kx="http://localhost";class Sx{constructor(){Oe(this,"baseURL");Oe(this,"authToken",null);this.baseURL=`${kx}:3003/api/kyc`}setAuthToken(t){this.authToken=t}getUserIdFromToken(){if(!this.authToken)return"1f475729-c2e0-4b3d-a678-e4a4ea4d6cc0";try{const r=this.authToken.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(r).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n).userId||"1f475729-c2e0-4b3d-a678-e4a4ea4d6cc0"}catch(t){return console.error("Failed to decode token:",t),"1f475729-c2e0-4b3d-a678-e4a4ea4d6cc0"}}getAuthHeaders(){return{Authorization:`Bearer ${this.authToken||"test-token"}`,"Content-Type":"application/json"}}async getKYCStatus(t="customer"){try{const r=this.getUserIdFromToken(),n=new URLSearchParams;return r&&n.append("userId",r),n.append("userRole",t),(await se.get(`${this.baseURL}/status?${n.toString()}`,{headers:this.getAuthHeaders()})).data.kyc_status}catch(r){throw console.error("Failed to fetch KYC status:",r),new Error(r.response?.data?.error||"Failed to fetch KYC status")}}async getKYCRequirements(t="customer"){try{const r=new URLSearchParams;return r.append("userRole",t),(await se.get(`${this.baseURL}/requirements?${r.toString()}`,{headers:this.getAuthHeaders()})).data.requirements}catch(r){throw console.error("Failed to fetch KYC requirements:",r),new Error(r.response?.data?.error||"Failed to fetch KYC requirements")}}async submitKYCForReview(t="customer"){try{const r=this.getUserIdFromToken();return(await se.post(`${this.baseURL}/submit`,{userId:r,userRole:t},{headers:this.getAuthHeaders()})).data}catch(r){throw console.error("Failed to submit KYC for review:",r),new Error(r.response?.data?.error||"Failed to submit KYC for review")}}async getPendingReviews(t){try{const r=new URLSearchParams;return t&&r.append("userRole",t),(await se.get(`${this.baseURL}/admin/pending?${r.toString()}`,{headers:this.getAuthHeaders()})).data.pending_reviews}catch(r){throw console.error("Failed to fetch pending reviews:",r),new Error(r.response?.data?.error||"Failed to fetch pending reviews")}}async approveKYC(t,r,n){try{return(await se.post(`${this.baseURL}/admin/approve`,{userId:t,userRole:r,notes:n},{headers:this.getAuthHeaders()})).data}catch(s){throw console.error("Failed to approve KYC:",s),new Error(s.response?.data?.error||"Failed to approve KYC")}}async rejectKYC(t,r,n){try{return(await se.post(`${this.baseURL}/admin/reject`,{userId:t,userRole:r,reason:n},{headers:this.getAuthHeaders()})).data}catch(s){throw console.error("Failed to reject KYC:",s),new Error(s.response?.data?.error||"Failed to reject KYC")}}async getHealthStatus(){try{return(await se.get(`${this.baseURL}/health`,{headers:this.getAuthHeaders()})).data}catch(t){throw console.error("Failed to get KYC health status:",t),new Error(t.response?.data?.error||"Failed to get health status")}}static getStatusColor(t){return{not_started:"#6b7280",in_progress:"#3b82f6",pending_review:"#f59e0b",approved:"#10b981",rejected:"#ef4444",requires_revision:"#8b5cf6"}[t]||"#6b7280"}static getStatusText(t,r="en"){return{en:{not_started:"Not Started",in_progress:"In Progress",pending_review:"Pending Review",approved:"Approved",rejected:"Rejected",requires_revision:"Requires Revision"},ar:{not_started:"لم يبدأ",in_progress:"قيد التقدم",pending_review:"قيد المراجعة",approved:"موافق عليه",rejected:"مرفوض",requires_revision:"يتطلب مراجعة"}}[r]?.[t]||t}}const La=new Sx,Ea=z.div`
  background: var(--color-background-surface);
  border-radius: 12px;
  padding: 24px;
  border: 1px solid var(--color-border-light);
`,jx=z.div`
  margin-bottom: 24px;
`,_x=z.h2`
  margin: 0 0 8px 0;
  color: var(--color-text-primary);
  font-size: 20px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 12px;
`,Cx=z.p`
  margin: 0;
  color: var(--color-text-secondary);
  font-size: 14px;
`,Tx=z.div`
  background: linear-gradient(135deg, var(--color-primary-500), var(--color-primary-600));
  border-radius: 12px;
  padding: 24px;
  color: white;
  margin-bottom: 24px;
`,Ax=z.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 20px;
  margin-bottom: 16px;
`,Xr=z.div`
  text-align: center;
  
  .value {
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 4px;
  }
  
  .label {
    font-size: 12px;
    opacity: 0.9;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
`,Px=z.div`
  margin-top: 16px;
`,Rx=z.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  font-size: 14px;
  font-weight: 500;
`,Lx=z.div`
  width: 100%;
  height: 8px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
  overflow: hidden;
  
  &::after {
    content: '';
    display: block;
    height: 100%;
    width: ${e=>e.progress}%;
    background: white;
    border-radius: 4px;
    transition: width 0.5s ease;
  }
`,Ex=z.div`
  display: grid;
  gap: 16px;
`,Mx=z.div`
  border: 1px solid var(--color-border-light);
  border-radius: 12px;
  overflow: hidden;
`,Ix=z.div`
  background: ${e=>e.completed?"var(--color-success-50)":"var(--color-background-secondary)"};
  border-bottom: 1px solid var(--color-border-light);
  padding: 16px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
`,Nx=z.div`
  display: flex;
  align-items: center;
  gap: 12px;
  
  .icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-primary-100);
    color: var(--color-primary-600);
  }
  
  .info {
    h3 {
      margin: 0 0 2px 0;
      font-size: 16px;
      font-weight: 600;
      color: var(--color-text-primary);
    }
    
    p {
      margin: 0;
      font-size: 12px;
      color: var(--color-text-secondary);
    }
  }
`,zx=z.div`
  display: flex;
  align-items: center;
  gap: 8px;
  color: ${e=>{switch(e.status){case"completed":return"var(--color-success-600)";case"partial":return"var(--color-warning-600)";default:return"var(--color-text-secondary)"}}};
  font-size: 14px;
  font-weight: 500;
`,Bx=z.div`
  padding: 20px;
  display: grid;
  gap: 12px;
`,ko=z(ce.div)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px;
  border: 1px solid var(--color-border-light);
  border-radius: 12px;
  background: var(--color-background-surface);
  transition: all 0.2s ease;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  
  &:hover {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    transform: translateY(-1px);
  }
  
  ${e=>{switch(e.status){case"approved":return`
          border-color: var(--color-success-300);
          background: linear-gradient(135deg, var(--color-success-50), var(--color-success-25));
          box-shadow: 0 1px 3px 0 rgba(34, 197, 94, 0.1), 0 1px 2px 0 rgba(34, 197, 94, 0.06);
          
          &:hover {
            box-shadow: 0 4px 6px -1px rgba(34, 197, 94, 0.15), 0 2px 4px -1px rgba(34, 197, 94, 0.1);
          }
        `;case"rejected":return`
          border-color: var(--color-error-300);
          background: linear-gradient(135deg, var(--color-error-50), var(--color-error-25));
          box-shadow: 0 1px 3px 0 rgba(239, 68, 68, 0.1), 0 1px 2px 0 rgba(239, 68, 68, 0.06);
          
          &:hover {
            box-shadow: 0 4px 6px -1px rgba(239, 68, 68, 0.15), 0 2px 4px -1px rgba(239, 68, 68, 0.1);
          }
        `;case"uploaded":return`
          border-color: var(--color-warning-300);
          background: linear-gradient(135deg, var(--color-warning-50), var(--color-warning-25));
          box-shadow: 0 1px 3px 0 rgba(245, 158, 11, 0.1), 0 1px 2px 0 rgba(245, 158, 11, 0.06);
          
          &:hover {
            box-shadow: 0 4px 6px -1px rgba(245, 158, 11, 0.15), 0 2px 4px -1px rgba(245, 158, 11, 0.1);
          }
        `;default:return`
          border-style: dashed;
          background: linear-gradient(135deg, var(--color-background-surface), var(--color-neutral-50));
          
          &:hover {
            border-color: var(--color-primary-300);
            background: linear-gradient(135deg, var(--color-primary-50), var(--color-primary-25));
            box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.15), 0 2px 4px -1px rgba(59, 130, 246, 0.1);
          }
        `}}}
  
  cursor: ${e=>e.status==="missing"?"pointer":"default"};
`,So=z.div`
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 1;
  
  .name {
    font-weight: 500;
    color: var(--color-text-primary);
    margin-bottom: 2px;
  }
  
  .details {
    font-size: 12px;
    color: var(--color-text-secondary);
  }
`,Ma=z.div`
  display: flex;
  align-items: center;
  gap: 8px;
`,Zr=z(ce.button)`
  padding: 8px 16px;
  border-radius: 6px;
  font-weight: 500;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  transition: all 0.2s ease;
  
  ${e=>{switch(e.variant){case"primary":return`
          background: var(--color-primary-500);
          color: white;
          &:hover { background: var(--color-primary-600); }
        `;default:return`
          background: var(--color-background-secondary);
          color: var(--color-text-secondary);
          &:hover { 
            background: var(--color-neutral-200);
            color: var(--color-text-primary);
          }
        `}}}
`,Jr=z.div`
  color: ${e=>{switch(e.status){case"approved":return"var(--color-success-500)";case"rejected":return"var(--color-error-500)";case"uploaded":case"pending":return"var(--color-warning-500)";default:return"var(--color-text-tertiary)"}}};
`,Dx=z.div`
  background: var(--color-background-secondary);
  border-radius: 8px;
  padding: 20px;
  margin-top: 24px;
  border-left: 4px solid var(--color-primary-500);
`,Ox=z.h3`
  margin: 0 0 12px 0;
  color: var(--color-text-primary);
  font-size: 16px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
`,Fx=z.ul`
  margin: 0;
  padding-left: 20px;
  
  li {
    margin-bottom: 8px;
    color: var(--color-text-secondary);
    font-size: 14px;
    line-height: 1.5;
  }
`,Vx=z.div`
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 24px;
`,Ia=z(ce.button)`
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  border: 1px solid var(--color-border-light);
  border-radius: 8px;
  background: ${e=>e.active?"var(--color-primary-500)":"var(--color-background-surface)"};
  color: ${e=>e.active?"white":"var(--color-text-secondary)"};
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover {
    background: ${e=>e.active?"var(--color-primary-600)":"var(--color-background-secondary)"};
  }
`,Wx=z.table`
  width: 100%;
  background: var(--color-background-surface);
  border-radius: 12px;
  border: 1px solid var(--color-border-light);
  border-collapse: collapse;
  overflow: hidden;
`,$x=z.thead`
  background: var(--color-background-secondary);
`,Ux=z.tr`
  border-bottom: 1px solid var(--color-border-light);
`,Xt=z.th`
  padding: 16px 20px;
  text-align: left;
  font-weight: 600;
  font-size: 14px;
  color: var(--color-text-primary);
  border-bottom: 1px solid var(--color-border-light);
  
  &:first-child {
    width: 30%;
  }
  
  &:nth-child(2) {
    width: 15%;
  }
  
  &:nth-child(3) {
    width: 15%;
  }
  
  &:nth-child(4) {
    width: 12%;
  }
  
  &:nth-child(5) {
    width: 10%;
  }
  
  &:last-child {
    width: 18%;
    text-align: center;
  }
  
  @media (max-width: 768px) {
    padding: 12px 16px;
    font-size: 12px;
  }
`,Hx=z.tbody``,qx=z(ce.tr)`
  border-bottom: 1px solid var(--color-border-light);
  transition: all 0.2s ease;
  
  &:hover {
    background: var(--color-background-secondary);
  }
  
  &:last-child {
    border-bottom: none;
  }
  
  ${e=>{switch(e.status){case"approved":return`
          background: linear-gradient(135deg, var(--color-success-50), var(--color-success-25));
          border-left: 4px solid var(--color-success-500);
        `;case"rejected":return`
          background: linear-gradient(135deg, var(--color-error-50), var(--color-error-25));
          border-left: 4px solid var(--color-error-500);
        `;case"uploaded":return`
          background: linear-gradient(135deg, var(--color-warning-50), var(--color-warning-25));
          border-left: 4px solid var(--color-warning-500);
        `;default:return`
          background: var(--color-background-surface);
          border-left: 4px solid var(--color-border-light);
        `}}}
`,Zt=z.td`
  padding: 16px 20px;
  font-size: 14px;
  color: var(--color-text-primary);
  vertical-align: middle;
  
  &.filename {
    font-weight: 500;
  }
  
  &.status {
    font-weight: 600;
  }
  
  &.actions {
    text-align: center;
  }
  
  @media (max-width: 768px) {
    padding: 12px 16px;
    font-size: 12px;
    
    &.actions {
      text-align: left;
    }
  }
`,jo=z.div`
  display: flex;
  align-items: center;
  gap: 8px;
  
  &.actions {
    justify-content: center;
    gap: 4px;
    
    @media (max-width: 768px) {
      justify-content: flex-start;
    }
  }
`,_o=z(ce.button)`
  padding: 6px 12px;
  border-radius: 6px;
  font-weight: 500;
  border: none;
  cursor: ${e=>e.disabled?"not-allowed":"pointer"};
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
  transition: all 0.2s ease;
  opacity: ${e=>e.disabled?.5:1};
  
  ${e=>{if(e.disabled)return`
        background: var(--color-neutral-200);
        color: var(--color-text-tertiary);
      `;switch(e.variant){case"primary":return`
          background: var(--color-primary-500);
          color: white;
          &:hover { background: var(--color-primary-600); }
        `;case"danger":return`
          background: var(--color-error-500);
          color: white;
          &:hover { background: var(--color-error-600); }
        `;default:return`
          background: var(--color-background-secondary);
          color: var(--color-text-secondary);
          &:hover { 
            background: var(--color-neutral-200);
            color: var(--color-text-primary);
          }
        `}}}
`,Yx=z.span`
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  background: var(--color-success-100);
  color: var(--color-success-700);
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
`,Gx=z.div`
  padding: 40px 20px;
  text-align: center;
  color: var(--color-text-secondary);
  
  .icon {
    margin-bottom: 16px;
    opacity: 0.5;
  }
  
  .message {
    font-size: 16px;
    font-weight: 500;
    margin-bottom: 8px;
  }
  
  .description {
    font-size: 14px;
  }
`,Kx=z(ce.div)`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  padding: 20px;
`,Xx=z(ce.div)`
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.9));
  border-radius: 16px;
  padding: 32px;
  max-width: 420px;
  width: 100%;
  box-shadow: 
    0 0 30px rgba(62, 178, 177, 0.12),
    0 10px 40px rgba(0, 0, 0, 0.15);
  border: 2px solid #3eb2b1;
  backdrop-filter: blur(12px);
  text-align: center;
`,Zx=z.div`
  width: 64px;
  height: 64px;
  margin: 0 auto 20px;
  background: linear-gradient(135deg, #3eb2b1, #2d9a99);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
`,Jx=z.h3`
  margin: 0 0 12px 0;
  color: var(--color-text-primary);
  font-size: 20px;
  font-weight: 600;
`,Qx=z.p`
  margin: 0 0 24px 0;
  color: var(--color-text-secondary);
  font-size: 16px;
  line-height: 1.5;
`,e2=z.div`
  display: flex;
  gap: 12px;
  justify-content: center;
`,Na=z(ce.button)`
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 600;
  border: none;
  cursor: pointer;
  font-size: 14px;
  min-width: 100px;
  transition: all 0.2s ease;
  
  ${e=>e.variant==="primary"?`
        background: #3eb2b1;
        color: white;
        &:hover { 
          background: #2d9a99;
          box-shadow: 0 4px 12px rgba(62, 178, 177, 0.3);
        }
      `:`
        background: var(--color-background-secondary);
        color: var(--color-text-primary);
        border: 1px solid var(--color-border-light);
        &:hover { 
          background: var(--color-neutral-100);
          border-color: #3eb2b1;
        }
      `}
`,za=({userType:e="USER",onUploadRequest:t,className:r,showDocuments:n=!1,defaultView:s="cards",showManageTab:a=!1})=>{const{t:i,i18n:c}=xe(),[l,d]=b.useState(null),[u,p]=b.useState([]),[h,m]=b.useState([]),[g,x]=b.useState(!0),[y,A]=b.useState(!1),[S,f]=b.useState(null),[v,P]=b.useState(s);b.useEffect(()=>{const O=localStorage.getItem("token");O&&ze.setAuthToken(O),R()},[e]);const R=async()=>{try{x(!0);const O=localStorage.getItem("token");O&&(ze.setAuthToken(O),La.setAuthToken(O));const U=e==="USER"?"customer":"contractor",ne=await La.getKYCStatus(U);d(ne);const ee=ne.requirements.reduce((oe,F)=>(oe.find(hr=>hr.categoryId===F.categoryId)||oe.push(F),oe),[]),ke=ee.map(oe=>({id:oe.categoryId,name:oe.categoryName,description:oe.categoryName,required_for_kyc:oe.required,user_type:e,validation_rules:{}}));p(ke);const me=ee.filter(oe=>oe.uploaded&&oe.documentId).map(oe=>({document_id:oe.documentId,user_id:ne.userId,category_id:oe.categoryId,original_filename:`${oe.categoryName}.pdf`,file_size_bytes:0,mime_type:"application/pdf",file_hash:"",upload_timestamp:new Date().toISOString(),validation_score:100,virus_scan_status:"clean",approval_status:oe.approved?"approved":"pending",document_status:"validated",ocr_confidence:100,sama_audit_log:[],category:ke.find(F=>F.id===oe.categoryId)}));m(me)}catch(O){console.error("Failed to load KYC data:",O)}finally{x(!1)}},k=h.reduce((O,U)=>(O[U.category_id]||(O[U.category_id]=[]),O[U.category_id].push(U),O),{}),I=l?.completionPercentage||0,X=(l?.requirements||[]).filter(O=>O.required).reduce((O,U)=>(O.find(ne=>ne.categoryId===U.categoryId)||O.push(U),O),[]),ae=X.filter(O=>O.approved),N=X.filter(O=>O.uploaded),Y=O=>{const U=O.toLowerCase();return U.includes("id")||U.includes("passport")?o.jsx(tb,{size:20}):U.includes("salary")||U.includes("income")?o.jsx(ud,{size:20}):U.includes("commercial")||U.includes("business")?o.jsx(hy,{size:20}):U.includes("insurance")||U.includes("certificate")?o.jsx(Cn,{size:20}):o.jsx(it,{size:20})},K=O=>{switch(O.split(".").pop()?.toLowerCase()){case"pdf":return o.jsx(it,{size:20,color:"#dc2626"});case"jpg":case"jpeg":case"png":case"gif":return o.jsx(it,{size:20,color:"#059669"});case"doc":case"docx":return o.jsx(it,{size:20,color:"#2563eb"});default:return o.jsx(it,{size:20,color:"#6b7280"})}},V=O=>{const U=l?.requirements.find(ne=>ne.categoryId===O);return U?U.approved?"completed":U.uploaded?"partial":"pending":"pending"},C=O=>{switch(O){case"approved":case"completed":return o.jsx(zs,{size:16});case"rejected":return o.jsx(es,{size:16});case"uploaded":case"pending":case"partial":return o.jsx(ts,{size:16});default:return o.jsx(pt,{size:16})}},_=()=>{const O=[],U=X.filter(ee=>!ee.approved);U.length>0&&O.push(i("kyc.next_steps.upload_required",{count:U.length}));const ne=X.filter(ee=>ee.uploaded&&!ee.approved);return ne.length>0&&O.push(i("kyc.next_steps.await_approval",{count:ne.length})),I===100&&O.push(i("kyc.next_steps.complete")),O},T=O=>O.approval_status==="approved",M=O=>new Date(O).toLocaleDateString(c.language,{year:"numeric",month:"short",day:"numeric"}),W=O=>{const ne=`kyc.categories.${O.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z_]/g,"")}`,ee=i(ne);return ee===ne?O:ee},D=O=>{f(O),A(!0)},ge=async()=>{if(S){console.log("Attempting to delete document:",S.document_id);try{const O=await ze.deleteDocument(S.document_id);console.log("Delete result:",O),setTimeout(()=>{R()},500),Fe.success(i("kyc.document_deleted"))}catch(O){console.error("Failed to delete document:",O),console.error("Error details:",O),Fe.error(i("kyc.delete_failed"))}finally{A(!1),f(null)}}},ye=()=>{A(!1),f(null)},de=()=>{const O=h.filter(U=>U.document_status!=="archived");return O.length===0?o.jsx("div",{style:{background:"var(--color-background-surface)",borderRadius:"12px",border:"1px solid var(--color-border-light)"},children:o.jsxs(Gx,{children:[o.jsx("div",{className:"icon",children:o.jsx(it,{size:48})}),o.jsx("div",{className:"message",children:i("kyc.no_documents")}),o.jsx("div",{className:"description",children:i("kyc.no_documents_description")})]})}):o.jsxs(Wx,{children:[o.jsx($x,{children:o.jsxs(Ux,{children:[o.jsx(Xt,{children:i("kyc.table.document")}),o.jsx(Xt,{children:i("kyc.table.category")}),o.jsx(Xt,{children:i("kyc.table.status")}),o.jsx(Xt,{children:i("kyc.table.uploaded")}),o.jsx(Xt,{children:i("kyc.table.size")}),o.jsx(Xt,{children:i("kyc.table.actions")})]})}),o.jsx(Hx,{children:O.map(U=>{const ne=T(U),ee=l?.requirements.find(me=>me.categoryId===U.category_id),ke=U.approval_status==="approved"?"approved":U.approval_status==="rejected"?"rejected":"uploaded";return o.jsxs(qx,{status:ke,verified:ne,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},children:[o.jsx(Zt,{className:"filename",children:o.jsxs(jo,{children:[K(U.original_filename),o.jsx("span",{title:U.original_filename,children:U.original_filename.length>30?`${U.original_filename.substring(0,30)}...`:U.original_filename})]})}),o.jsx(Zt,{children:ee?.categoryName?W(ee.categoryName):i("common.unknown")}),o.jsx(Zt,{className:"status",children:o.jsxs(jo,{children:[o.jsx(Jr,{status:U.approval_status,children:C(U.approval_status)}),o.jsx("span",{style:{color:Ie.getStatusColor(U.approval_status)},children:Ie.getStatusText(U.approval_status,c.language)}),ne&&o.jsxs(Yx,{children:[o.jsx(Cn,{size:10}),i("kyc.verified")]})]})}),o.jsx(Zt,{children:M(U.upload_timestamp)}),o.jsx(Zt,{children:Ie.formatFileSize(U.file_size_bytes)}),o.jsx(Zt,{className:"actions",children:o.jsxs(jo,{className:"actions",children:[o.jsx(_o,{onClick:async()=>{try{const me=await ze.downloadDocument(U.document_id),oe=URL.createObjectURL(me),F=U.createElement("a");F.href=oe,F.download=U.original_filename,F.click(),URL.revokeObjectURL(oe)}catch(me){console.error("Failed to download document:",me),Fe.error(i("kyc.download_failed"))}},title:i("kyc.download_document"),whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(rs,{size:12})}),t&&o.jsx(_o,{variant:"primary",onClick:()=>t(U.category_id),title:i("kyc.replace_document"),whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(pt,{size:12})}),o.jsx(_o,{variant:"danger",disabled:ne,onClick:()=>!ne&&D(U),title:i(ne?"kyc.cannot_delete_verified":"kyc.delete_document"),whileHover:ne?{}:{scale:1.05},whileTap:ne?{}:{scale:.95},children:o.jsx(Tn,{size:12})})]})})]},U.document_id)})})]})};return g?o.jsx(Ea,{className:r,children:o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px 0",color:"var(--color-text-secondary)"},children:[o.jsx(ts,{size:20,className:"animate-spin",style:{marginRight:"8px"}}),i("kyc.loading")]})}):o.jsxs(Ea,{className:r,children:[o.jsxs(jx,{children:[o.jsxs(_x,{children:[o.jsx(hd,{size:24}),i("kyc.title")]}),o.jsx(Cx,{children:i(e==="CONTRACTOR"?"kyc.subtitle.contractor":"kyc.subtitle.user")})]}),o.jsxs(Tx,{children:[o.jsxs(Ax,{children:[o.jsxs(Xr,{children:[o.jsx("div",{className:"value",children:ae.length}),o.jsx("div",{className:"label",children:i("kyc.stats.completed")})]}),o.jsxs(Xr,{children:[o.jsx("div",{className:"value",children:X.length-ae.length}),o.jsx("div",{className:"label",children:i("kyc.stats.remaining")})]}),o.jsxs(Xr,{children:[o.jsx("div",{className:"value",children:N.length}),o.jsx("div",{className:"label",children:i("kyc.stats.uploaded")})]}),o.jsxs(Xr,{children:[o.jsxs("div",{className:"value",children:[I,"%"]}),o.jsx("div",{className:"label",children:i("kyc.stats.progress")})]})]}),o.jsxs(Px,{children:[o.jsxs(Rx,{children:[o.jsx("span",{children:i("kyc.progress.overall")}),o.jsxs("span",{children:[I,"%"]})]}),o.jsx(Lx,{progress:I})]})]}),a&&n&&o.jsxs(Vx,{children:[o.jsxs(Ia,{active:v==="cards",onClick:()=>P("cards"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[o.jsx(Ty,{size:16}),i("kyc.view.cards")]}),o.jsxs(Ia,{active:v==="table",onClick:()=>P("table"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[o.jsx(qy,{size:16}),i("kyc.view.table")]})]}),n&&v==="table"?de():o.jsx(Ex,{children:X.map(O=>{const U=k[O.categoryId]||[],ne=V(O.categoryId);return o.jsxs(Mx,{children:[o.jsxs(Ix,{completed:ne==="completed",children:[o.jsxs(Nx,{children:[o.jsx("div",{className:"icon",children:Y(O.categoryName)}),o.jsxs("div",{className:"info",children:[o.jsx("h3",{children:W(O.categoryName)}),o.jsx("p",{children:W(O.categoryName)})]})]}),o.jsxs(zx,{status:ne,children:[C(ne),i(`kyc.status.${ne}`),O.required&&o.jsx("span",{style:{fontSize:"10px",background:"var(--color-error-100)",color:"var(--color-error-700)",padding:"2px 6px",borderRadius:"4px",marginLeft:"8px"},children:i("kyc.required")})]})]}),n&&o.jsx(Bx,{children:(()=>{const ee=U.length>0?U.sort((ke,me)=>new Date(me.upload_timestamp).getTime()-new Date(ke.upload_timestamp).getTime())[0]:null;return ee?o.jsxs(ko,{status:ee.approval_status==="approved"?"approved":ee.approval_status==="rejected"?"rejected":"uploaded",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[o.jsxs(So,{children:[o.jsx(Jr,{status:ee.approval_status,children:K(ee.original_filename)}),o.jsxs("div",{children:[o.jsx("div",{className:"name",children:ee.original_filename}),o.jsxs("div",{className:"details",children:[o.jsx("span",{style:{color:Ie.getStatusColor(ee.approval_status)},children:Ie.getStatusText(ee.approval_status,c.language)})," • ",i("kyc.uploaded_on",{date:new Date(ee.upload_timestamp).toLocaleDateString(c.language)})," • ",Ie.formatFileSize(ee.file_size_bytes)]})]})]}),o.jsxs(Ma,{children:[o.jsx(Zr,{onClick:async()=>{try{const ke=await ze.downloadDocument(ee.document_id),me=URL.createObjectURL(ke),oe=document.createElement("a");oe.href=me,oe.download=ee.original_filename,oe.click(),URL.revokeObjectURL(me)}catch(ke){console.error("Failed to download document:",ke),Fe.error(i("kyc.download_failed"))}},title:i("kyc.download_document"),children:o.jsx(rs,{size:14})}),t&&o.jsxs(Zr,{variant:"primary",onClick:()=>t(O.categoryId),title:"Replace this document",children:[o.jsx(pt,{size:14}),i("kyc.replace")]}),o.jsx(Zr,{onClick:()=>D(ee),title:i("kyc.delete_document"),children:o.jsx(Tn,{size:14})})]})]},ee.document_id):t?o.jsxs(ko,{status:"missing",onClick:()=>t(O.categoryId),whileHover:{scale:1.02},whileTap:{scale:.98},children:[o.jsxs(So,{children:[o.jsx(Jr,{status:"missing",children:o.jsx(pt,{size:20})}),o.jsxs("div",{children:[o.jsx("div",{className:"name",children:i("kyc.upload_document",{category:W(O.categoryName)})}),o.jsx("div",{className:"details",children:i("kyc.click_to_upload")})]})]}),o.jsx(Ma,{children:o.jsxs(Zr,{variant:"primary",children:[o.jsx(pt,{size:14}),i("kyc.upload")]})})]}):o.jsx(ko,{status:"missing",children:o.jsxs(So,{children:[o.jsx(Jr,{status:"missing",children:o.jsx(pt,{size:20})}),o.jsxs("div",{children:[o.jsx("div",{className:"name",children:W(O.categoryName)}),o.jsx("div",{className:"details",children:i("kyc.not_uploaded")})]})]})})})()})]},O.categoryId)})}),_().length>0&&o.jsxs(Dx,{children:[o.jsxs(Ox,{children:[o.jsx(Ey,{size:20}),i("kyc.next_steps.title")]}),o.jsx(Fx,{children:_().map((O,U)=>o.jsx("li",{children:O},U))})]}),o.jsx(Wt,{children:y&&o.jsx(Kx,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:ye,children:o.jsxs(Xx,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:O=>O.stopPropagation(),children:[o.jsx(Zx,{children:o.jsx(es,{size:32})}),o.jsx(Jx,{children:i("kyc.delete_document")}),o.jsxs(Qx,{children:[i("kyc.confirm_delete"),S&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("strong",{children:S.original_filename})]})]}),o.jsxs(e2,{children:[o.jsx(Na,{variant:"secondary",onClick:ye,whileHover:{scale:1.05},whileTap:{scale:.95},children:i("common.cancel")}),o.jsx(Na,{variant:"primary",onClick:ge,whileHover:{scale:1.05},whileTap:{scale:.95},children:i("common.delete")})]})]})})})]})},t2=z.div`
  width: 100%;
  padding: 24px;
  
  @media (max-width: 768px) {
    padding: 16px;
  }
`,r2=z.div`
  margin-bottom: 32px;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(248, 250, 252, 0.8));
  padding: 24px;
  border-radius: 16px;
  box-shadow: 
    0 0 25px rgba(59, 130, 246, 0.1),
    0 8px 32px rgba(0, 0, 0, 0.04);
  border: 1px solid rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
`,n2=z.h1`
  margin: 0 0 8px 0;
  color: var(--color-text-primary);
  font-size: 28px;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 12px;
  
  @media (max-width: 768px) {
    font-size: 24px;
  }
`,o2=z.p`
  margin: 0;
  color: var(--color-text-secondary);
  font-size: 16px;
  line-height: 1.5;
`,s2=z.div`
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 24px;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(249, 250, 251, 0.9));
  padding: 12px 16px;
  border-radius: 16px;
  box-shadow: 
    0 0 20px rgba(59, 130, 246, 0.08),
    0 4px 20px rgba(0, 0, 0, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(8px);
  
  @media (max-width: 768px) {
    overflow-x: auto;
    padding: 8px 12px;
  }
`,i2=z(ce.button)`
  padding: 12px 20px;
  border: none;
  background: transparent;
  color: ${e=>e.active?"var(--color-primary-600)":"var(--color-text-secondary)"};
  font-weight: ${e=>e.active?"600":"500"};
  cursor: pointer;
  border-bottom: 2px solid ${e=>e.active?"var(--color-primary-500)":"transparent"};
  transition: all 0.2s ease;
  white-space: nowrap;
  display: flex;
  align-items: center;
  gap: 8px;
  
  &:hover {
    color: var(--color-primary-600);
  }
`,a2=z(ce.div)`
  min-height: 500px;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.92), rgba(248, 250, 252, 0.85));
  padding: 24px;
  border-radius: 20px;
  box-shadow: 
    0 0 30px rgba(59, 130, 246, 0.12),
    0 10px 40px rgba(0, 0, 0, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(12px);
`;z.div`
  display: flex;
  gap: 12px;
  margin-bottom: 24px;
  
  @media (max-width: 768px) {
    flex-direction: column;
  }
`;z(ce.button)`
  padding: 12px 20px;
  border-radius: 8px;
  font-weight: 500;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.2s ease;
  
  ${e=>{switch(e.variant){case"primary":return`
          background: var(--color-primary-500);
          color: white;
          &:hover { background: var(--color-primary-600); }
        `;default:return`
          background: var(--color-background-secondary);
          color: var(--color-text-primary);
          border: 1px solid var(--color-border-medium);
          &:hover { 
            background: var(--color-neutral-100);
            border-color: var(--color-primary-300);
          }
        `}}}
`;const l2=z(ce.div)`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  padding: 20px;
  
  /* Smooth enter/exit animations */
  &.entering {
    animation: modalFadeIn 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }
  
  &.exiting {
    animation: modalFadeOut 0.2s cubic-bezier(0.4, 0, 1, 1);
  }
  
  /* Mobile-first responsive design */
  @media (max-width: 768px) {
    padding: 16px;
    align-items: flex-end;
  }
  
  /* Accessibility: High contrast mode support */
  @media (prefers-contrast: high) {
    background: rgba(0, 0, 0, 0.9);
  }
  
  /* Performance: GPU acceleration */
  transform: translateZ(0);
  will-change: opacity;
`,c2=z(ce.div)`
  background: var(--color-background-primary);
  border-radius: 20px;
  padding: 0;
  max-width: 640px;
  width: 100%;
  max-height: 90vh;
  position: relative;
  box-shadow: 
    0 32px 64px -12px rgba(0, 0, 0, 0.25),
    0 0 0 1px var(--color-border-light),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  border: 1px solid var(--color-border-light);
  overflow: hidden;
  
  /* SAMA compliance: Enhanced security visual cues */
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, 
      var(--color-primary-500) 0%, 
      var(--color-secondary-500) 50%, 
      var(--color-primary-500) 100%);
    z-index: 1;
  }
  
  /* Mobile-first responsive design */
  @media (max-width: 768px) {
    border-radius: 20px 20px 0 0;
    max-height: 85vh;
    margin-top: auto;
  }
  
  /* RTL support */
  [dir="rtl"] & {
    direction: rtl;
  }
  
  /* Performance: GPU acceleration */
  transform: translateZ(0);
  will-change: transform, opacity;
  
  /* Smooth animations */
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
`,d2=z.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 24px 32px 0 32px;
  margin-bottom: 24px;
  position: relative;
  z-index: 2;
  
  /* Mobile responsive */
  @media (max-width: 768px) {
    padding: 20px 24px 0 24px;
    margin-bottom: 20px;
  }
  
  /* RTL support */
  [dir="rtl"] & {
    direction: rtl;
  }
`,u2=z.h2`
  margin: 0;
  color: var(--color-text-primary);
  font-size: 24px;
  font-weight: 700;
  line-height: 1.3;
  letter-spacing: -0.02em;
  
  /* SAMA compliance: Professional typography */
  font-family: var(--font-primary, 'Inter', system-ui, sans-serif);
  
  /* Mobile responsive */
  @media (max-width: 768px) {
    font-size: 20px;
  }
  
  /* Accessibility: Ensure proper contrast */
  @media (prefers-contrast: high) {
    font-weight: 800;
  }
`,p2=z(ce.button)`
  padding: 12px;
  border: none;
  background: var(--color-background-secondary);
  border-radius: 12px;
  color: var(--color-text-secondary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  min-width: 44px;
  min-height: 44px;
  
  /* Hover state */
  &:hover {
    background: var(--color-background-tertiary);
    color: var(--color-text-primary);
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  
  /* Active state */
  &:active {
    transform: translateY(0);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  
  /* Focus state for accessibility */
  &:focus {
    outline: 2px solid var(--color-primary-500);
    outline-offset: 2px;
  }
  
  /* High contrast mode */
  @media (prefers-contrast: high) {
    border: 2px solid var(--color-text-primary);
  }
  
  /* Performance optimization */
  will-change: transform;
`,m2=z.div`
  padding: 0 32px 32px 32px;
  position: relative;
  z-index: 2;
  
  /* Mobile responsive */
  @media (max-width: 768px) {
    padding: 0 24px 24px 24px;
  }
  
  /* RTL support */
  [dir="rtl"] & {
    direction: rtl;
  }
`,h2=z.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
  margin-bottom: 24px;
`,Qr=z.div`
  border-radius: 16px;
  padding: 20px;
  text-align: center;
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
  border: 1px solid rgba(255, 255, 255, 0.3);
  
  ${e=>{switch(e.type){case"total":return`
          background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.9));
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06), 0 4px 16px rgba(0, 0, 0, 0.04);
          border: 2px solid #3eb2b1;
          
          &:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(62, 178, 177, 0.15), 0 8px 24px rgba(0, 0, 0, 0.08);
            background: linear-gradient(135deg, rgba(255, 255, 255, 1), rgba(248, 250, 252, 0.95));
            border-color: #2d9a99;
          }
          
          .value { color: #2d7d7c; font-weight: 800; }
          .label { color: #3eb2b1; font-weight: 600; }
        `;case"approved":return`
          background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.9));
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06), 0 4px 16px rgba(0, 0, 0, 0.04);
          border: 2px solid #50c5c3;
          
          &:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(80, 197, 195, 0.15), 0 8px 24px rgba(0, 0, 0, 0.08);
            background: linear-gradient(135deg, rgba(255, 255, 255, 1), rgba(248, 250, 252, 0.95));
            border-color: #3eb2b1;
          }
          
          .value { color: #237e7d; font-weight: 800; }
          .label { color: #2da6a5; font-weight: 600; }
        `;case"pending":return`
          background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.9));
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06), 0 4px 16px rgba(0, 0, 0, 0.04);
          border: 2px solid #7dd3d8;
          
          &:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(125, 211, 216, 0.15), 0 8px 24px rgba(0, 0, 0, 0.08);
            background: linear-gradient(135deg, rgba(255, 255, 255, 1), rgba(248, 250, 252, 0.95));
            border-color: #5cc5ca;
          }
          
          .value { color: #4a9f9e; font-weight: 800; }
          .label { color: #5cb3b2; font-weight: 600; }
        `;case"rejected":return`
          background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.9));
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06), 0 4px 16px rgba(0, 0, 0, 0.04);
          border: 2px solid #a8d8d7;
          
          &:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(168, 216, 215, 0.15), 0 8px 24px rgba(0, 0, 0, 0.08);
            background: linear-gradient(135deg, rgba(255, 255, 255, 1), rgba(248, 250, 252, 0.95));
            border-color: #8bd0cf;
          }
          
          .value { color: #6bb5b4; font-weight: 800; }
          .label { color: #7bc2c1; font-weight: 600; }
        `;default:return`
          background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(248, 250, 252, 0.8));
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06), 0 4px 16px rgba(0, 0, 0, 0.04);
          border: 2px solid rgba(62, 178, 177, 0.3);
          
          &:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(62, 178, 177, 0.1), 0 8px 24px rgba(0, 0, 0, 0.08);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.9));
            border-color: rgba(62, 178, 177, 0.5);
          }
          
          .value { color: var(--color-text-primary); }
          .label { color: var(--color-text-secondary); }
        `}}}
  
  .value {
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 4px;
  }
  
  .label {
    font-size: 14px;
    font-weight: 500;
  }
`,bd=({userType:e="USER"})=>{const{t}=xe(),[r,n]=b.useState("overview"),[s,a]=b.useState(!1),[i,c]=b.useState(""),[l,d]=b.useState([]),[u,p]=b.useState(!0);b.useEffect(()=>{h();const P=localStorage.getItem("token");P&&ze.setAuthToken(P)},[]);const h=async()=>{try{const P=await ze.getDocuments({limit:100});d(P.documents)}catch(P){console.error("Failed to load documents:",P)}finally{p(!1)}},m=P=>{c(P),a(!0)},g=P=>{a(!1),c(""),h(),Fe.success(t("documents.upload.success"))},x=P=>{Fe.error(P)},y=l.length,A=l.filter(P=>P.approval_status==="approved").length,S=l.filter(P=>P.approval_status==="pending").length,f=l.filter(P=>P.approval_status==="rejected").length,v=[{key:"overview",label:t("documents.tabs.overview"),icon:o.jsx(hd,{size:16})},{key:"upload",label:t("documents.tabs.upload"),icon:o.jsx(pt,{size:16})},{key:"manage",label:t("documents.tabs.manage"),icon:o.jsx(Vy,{size:16})}];return o.jsxs(t2,{children:[o.jsxs(r2,{children:[o.jsxs(n2,{children:[o.jsx(it,{size:32}),t("documents.title")]}),o.jsx(o2,{children:t(e==="CONTRACTOR"?"documents.subtitle.contractor":"documents.subtitle.user")})]}),o.jsx(s2,{children:v.map(P=>o.jsxs(i2,{active:r===P.key,onClick:()=>n(P.key),whileHover:{y:-1},whileTap:{y:0},children:[P.icon,P.label]},P.key))}),o.jsx(Wt,{mode:"wait",children:o.jsxs(a2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[r==="overview"&&o.jsxs("div",{children:[o.jsxs(h2,{children:[o.jsxs(Qr,{type:"total",children:[o.jsx("div",{className:"value",children:y}),o.jsx("div",{className:"label",children:t("documents.stats.total")})]}),o.jsxs(Qr,{type:"approved",children:[o.jsx("div",{className:"value",children:A}),o.jsx("div",{className:"label",children:t("documents.stats.approved")})]}),o.jsxs(Qr,{type:"pending",children:[o.jsx("div",{className:"value",children:S}),o.jsx("div",{className:"label",children:t("documents.stats.pending")})]}),o.jsxs(Qr,{type:"rejected",children:[o.jsx("div",{className:"value",children:f}),o.jsx("div",{className:"label",children:t("documents.stats.rejected")})]})]}),o.jsx("div",{"data-kyc-progress":!0,children:o.jsx(za,{userType:e,onUploadRequest:void 0,showDocuments:!0})})]}),r==="upload"&&o.jsx(za,{userType:e,onUploadRequest:m,showDocuments:!0}),r==="manage"&&o.jsx(wx,{onDocumentSelect:P=>{console.log("Selected document:",P)}})]},r)}),o.jsx(Wt,{mode:"wait",children:s&&o.jsx(l2,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:[.16,1,.3,1]},onClick:P=>{P.target===P.currentTarget&&(a(!1),c(""))},role:"dialog","aria-modal":"true","aria-labelledby":"upload-modal-title","aria-describedby":"upload-modal-description",children:o.jsxs(c2,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:10},transition:{duration:.3,ease:[.16,1,.3,1],delay:.05},onClick:P=>P.stopPropagation(),children:[o.jsxs(d2,{children:[o.jsx(u2,{id:"upload-modal-title",children:t("documents.upload.modal_title")}),o.jsx(p2,{onClick:()=>{a(!1),c("")},whileHover:{scale:1.05,transition:{duration:.15}},whileTap:{scale:.95,transition:{duration:.1}},"aria-label":t("common.close"),children:o.jsx(Tn,{size:20})})]}),o.jsx(m2,{children:o.jsx(Jb,{onUploadComplete:g,onUploadError:x,allowedCategories:i?[i]:void 0})})]})})})]})};var et=(e=>(e.RESIDENTIAL="RESIDENTIAL",e.COMMERCIAL="COMMERCIAL",e))(et||{}),dt=(e=>(e.MONTHLY_CONSUMPTION="MONTHLY_CONSUMPTION",e.MONTHLY_BILL="MONTHLY_BILL",e))(dt||{});const f2="/api/solar-calculator";class g2{async makeRequest(t,r){const n=await fetch(`${f2}${t}`,{headers:{"Content-Type":"application/json",...r?.headers},...r});if(!n.ok){const s=await n.json().catch(()=>null);if(s?.details&&Array.isArray(s.details)){const i=s.details.map(c=>`${c.field}: ${c.message}`).join(", ");throw new Error(i)}const a=s?.error?.message||s?.error||s?.message||`HTTP ${n.status}: ${n.statusText}`;throw new Error(a)}return n.json()}async calculateSolar(t){return this.makeRequest("/calculate",{method:"POST",body:JSON.stringify(t)})}async getInstallmentOptions(){return this.makeRequest("/installment-options")}}const y2=new g2,Jt=({icon:e,gradient:t,size:r=24})=>o.jsx(ce.div,{style:{padding:"0.75rem",borderRadius:"0.75rem",background:t,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",display:"flex",alignItems:"center",justifyContent:"center",minWidth:`${r+24}px`,minHeight:`${r+24}px`},whileHover:{scale:1.1,rotate:5},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},children:o.jsx(e,{size:r,color:"white",stroke:"white",fill:"none",strokeWidth:"2",style:{display:"block",minWidth:`${r}px`,minHeight:`${r}px`}})}),xd=({onClose:e})=>{const{t,i18n:r}=xe(),[n,s]=b.useState(et.RESIDENTIAL),[a,i]=b.useState(dt.MONTHLY_CONSUMPTION),[c,l]=b.useState(""),[d,u]=b.useState(""),[p,h]=b.useState(30),[m,g]=b.useState(!1),[x,y]=b.useState(null),[A,S]=b.useState(""),f=()=>{if(a===dt.MONTHLY_CONSUMPTION){if(!c||c.trim()==="")return t("solarCalculator.validation.consumptionRequired","Monthly consumption is required");const R=parseFloat(c);if(isNaN(R))return t("solarCalculator.validation.consumptionMustBeNumber","Monthly consumption must be a valid number");if(R<6e3)return t("solarCalculator.validation.consumptionMinimum","Monthly consumption must be at least 6,000 KWH");if(R>24e3)return t("solarCalculator.validation.consumptionMaximum","Monthly consumption cannot exceed 24,000 KWH")}else{if(!d||d.trim()==="")return t("solarCalculator.validation.billRequired","Monthly bill is required");const R=parseFloat(d);if(isNaN(R))return t("solarCalculator.validation.billMustBeNumber","Monthly bill must be a valid number");const k=n===et.RESIDENTIAL?1080:1200;if(R<k)return t("solarCalculator.validation.billMinimum",{min:k.toLocaleString(),defaultValue:`Monthly bill must be at least ${k} SAR`})}return null},v=async()=>{S("");const R=f();if(R){S(R);return}g(!0);try{const k={mode:a,clientType:n,numberOfInstallments:p};a===dt.MONTHLY_CONSUMPTION?k.monthlyConsumption=parseFloat(c):k.monthlyBill=parseFloat(d);const I=await y2.calculateSolar(k);y(I.data)}catch(k){k.message&&k.message.includes("Validation failed")?S(t("solarCalculator.validationError","Please check your inputs")):k.message?S(k.message):S(t("solarCalculator.calculationFailed","Calculation failed. Please try again."))}finally{g(!1)}},P=R=>(console.log("Simple Calculator formatting currency:",R,"Language:",r.language),new Intl.NumberFormat(r.language==="ar"?"ar-SA":"en-US",{style:"currency",currency:"SAR",minimumFractionDigits:0,numberingSystem:"latn"}).format(R));return o.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",maxWidth:"800px",width:"100%",margin:"0 auto",direction:r.language==="ar"?"rtl":"ltr"},children:[o.jsx("div",{style:{background:"linear-gradient(to right, #3eb2b1, #22d3db)",padding:"1.5rem",borderRadius:"1rem",marginBottom:"2rem",color:"white",position:"relative"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[o.jsx(ce.div,{style:{padding:"0.75rem",borderRadius:"0.75rem",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(4px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},whileHover:{scale:1.1,rotate:10},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},children:o.jsx(gy,{size:32,color:"white",stroke:"white",fill:"none",strokeWidth:"2",style:{display:"block",minWidth:"32px",minHeight:"32px"}})}),o.jsxs("div",{children:[o.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",margin:0},children:t("solarCalculator.title","Solar Calculator")}),o.jsx("p",{style:{margin:"0.5rem 0 0 0",opacity:.9,fontSize:"0.875rem"},children:t("solarCalculator.subtitle","Calculate your solar savings instantly")})]})]}),e&&o.jsx("button",{onClick:e,style:{background:"rgba(255, 255, 255, 0.2)",border:"none",color:"white",width:"2rem",height:"2rem",borderRadius:"0.5rem",cursor:"pointer",fontSize:"1.2rem"},children:"×"})]})}),x?o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("h3",{style:{color:"#3eb2b1",fontSize:"1.25rem",margin:"0 0 1rem 0"},children:t("solarCalculator.systemCalculated","Solar System Calculated!")}),o.jsx("p",{style:{color:"#6b7280",margin:0,fontSize:"0.875rem"},children:t("solarCalculator.personalizedSolution","Here's your personalized solar solution")})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[o.jsxs(ce.div,{style:{background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",padding:"1.5rem",borderRadius:"1rem",textAlign:"center"},whileHover:{scale:1.02,y:-4},transition:{type:"spring",stiffness:400,damping:20},children:[o.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:o.jsx(Jt,{icon:Uy,gradient:"linear-gradient(135deg, #facc15 0%, #f97316 50%, #dc2626 100%)",size:24})}),o.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#1e40af"},children:[x.solarPowerKWP," KWP"]}),o.jsx("div",{style:{fontSize:"0.75rem",color:"#3730a3"},children:t("solarCalculator.systemSize","System Size")})]}),o.jsxs(ce.div,{style:{background:"linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%)",padding:"1.5rem",borderRadius:"1rem",textAlign:"center"},whileHover:{scale:1.02,y:-4},transition:{type:"spring",stiffness:400,damping:20},children:[o.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:o.jsx(Jt,{icon:dy,gradient:"linear-gradient(135deg, #4ade80 0%, #10b981 50%, #16a34a 100%)",size:24})}),o.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#15803d"},children:P(x.systemPrice)}),o.jsx("div",{style:{fontSize:"0.75rem",color:"#166534"},children:t("solarCalculator.systemPrice","System Price")})]}),o.jsxs(ce.div,{style:{background:"linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%)",padding:"1.5rem",borderRadius:"1rem",textAlign:"center"},whileHover:{scale:1.02,y:-4},transition:{type:"spring",stiffness:400,damping:20},children:[o.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:o.jsx(Jt,{icon:ud,gradient:"linear-gradient(135deg, #8b5cf6 0%, #a855f7 50%, #c084fc 100%)",size:24})}),o.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#7c3aed"},children:P(x.totalMonthlyPayment)}),o.jsx("div",{style:{fontSize:"0.75rem",color:"#6b21b8"},children:t("solarCalculator.monthlyPayment","Monthly Payment")})]}),o.jsxs(ce.div,{style:{background:"linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%)",padding:"1.5rem",borderRadius:"1rem",textAlign:"center"},whileHover:{scale:1.02,y:-4},transition:{type:"spring",stiffness:400,damping:20},children:[o.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:o.jsx(Jt,{icon:Gy,gradient:"linear-gradient(135deg, #a855f7 0%, #ec4899 50%, #ef4444 100%)",size:24})}),o.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#7c3aed"},children:[x.savingsPercentage,"%"]}),o.jsx("div",{style:{fontSize:"0.75rem",color:"#5b21b6"},children:t("solarCalculator.lifetimeSavings","Lifetime Savings")})]}),o.jsxs(ce.div,{style:{background:"linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%)",padding:"1.5rem",borderRadius:"1rem",textAlign:"center"},whileHover:{scale:1.02,y:-4},transition:{type:"spring",stiffness:400,damping:20},children:[o.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:o.jsx(Jt,{icon:zy,gradient:"linear-gradient(135deg, #ea580c 0%, #fb923c 50%, #fdba74 100%)",size:24})}),o.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#c2410c"},children:P(x.currentMonthlyBill)}),o.jsx("div",{style:{fontSize:"0.75rem",color:"#9a3412"},children:t("solarCalculator.averageElectricityBill","Average Electricity Monthly Bill")})]}),o.jsxs(ce.div,{style:{background:"linear-gradient(135deg, #fefce8 0%, #fef08a 100%)",padding:"1.5rem",borderRadius:"1rem",textAlign:"center"},whileHover:{scale:1.02,y:-4},transition:{type:"spring",stiffness:400,damping:20},children:[o.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:o.jsx(Jt,{icon:ly,gradient:"linear-gradient(135deg, #eab308 0%, #facc15 50%, #fde047 100%)",size:24})}),o.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#ca8a04"},children:[x.monthlyProduction.toLocaleString()," KWH"]}),o.jsx("div",{style:{fontSize:"0.75rem",color:"#a16207"},children:t("solarCalculator.averageMonthlyProduction","Average Monthly Power Production")})]})]}),o.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[o.jsxs("button",{onClick:()=>y(null),style:{flex:1,padding:"0.75rem 1.5rem",border:"2px solid #e5e7eb",background:"white",color:"#374151",borderRadius:"0.75rem",cursor:"pointer",fontWeight:"500"},children:["← ",t("solarCalculator.recalculate","Recalculate")]}),o.jsxs("button",{style:{flex:1,padding:"0.75rem 1.5rem",background:"linear-gradient(to right, #3eb2b1, #22d3db)",color:"white",border:"none",borderRadius:"0.75rem",cursor:"pointer",fontWeight:"500"},children:[t("solarCalculator.getQuote","Get Quote")," →"]})]})]}):o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[o.jsxs("div",{children:[o.jsx("h3",{style:{marginBottom:"1rem",color:"#374151",fontSize:"1rem",fontWeight:"600"},children:t("solarCalculator.selectClientType","Select Client Type")}),o.jsx("div",{style:{display:"flex",gap:"1rem"},children:Object.values(et).map(R=>o.jsx("button",{onClick:()=>s(R),style:{flex:1,padding:"1rem",border:n===R?"2px solid #3eb2b1":"2px solid #e5e7eb",borderRadius:"0.75rem",background:n===R?"#f0fdfa":"white",cursor:"pointer",textAlign:"left"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[o.jsx(ce.div,{style:{padding:"0.5rem",borderRadius:"0.5rem",background:n===R?"linear-gradient(135deg, #3eb2b1, #22d3db)":"linear-gradient(135deg, #e5e7eb, #d1d5db)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:20},children:R===et.RESIDENTIAL?o.jsx(Py,{size:20,color:n===R?"white":"#374151",stroke:n===R?"white":"#374151",fill:"none",strokeWidth:"2",style:{display:"block",minWidth:"20px",minHeight:"20px"}}):o.jsx(py,{size:20,color:n===R?"white":"#374151",stroke:n===R?"white":"#374151",fill:"none",strokeWidth:"2",style:{display:"block",minWidth:"20px",minHeight:"20px"}})}),o.jsx("span",{style:{fontWeight:"600",fontSize:"0.875rem"},children:R===et.RESIDENTIAL?t("solarCalculator.residential","Residential"):t("solarCalculator.commercial","Commercial")})]})},R))})]}),o.jsxs("div",{children:[o.jsx("h3",{style:{marginBottom:"1rem",color:"#374151",fontSize:"1rem",fontWeight:"600"},children:t("solarCalculator.inputMethod","Input Method")}),o.jsx("div",{style:{display:"flex",gap:"1rem"},children:Object.values(dt).map(R=>o.jsx("button",{onClick:()=>i(R),style:{flex:1,padding:"1rem",border:a===R?"2px solid #3eb2b1":"2px solid #e5e7eb",borderRadius:"0.75rem",background:a===R?"#f0fdfa":"white",cursor:"pointer",textAlign:"center"},children:o.jsx("div",{style:{fontWeight:"600",fontSize:"0.875rem"},children:R===dt.MONTHLY_CONSUMPTION?t("solarCalculator.monthlyUsage","Monthly Usage (KWH)"):t("solarCalculator.monthlyBill","Monthly Bill (SAR)")})},R))})]}),o.jsxs("div",{children:[o.jsx("h3",{style:{marginBottom:"1rem",color:"#374151",fontSize:"1rem",fontWeight:"600"},children:t("solarCalculator.enterValue","Enter Value")}),a===dt.MONTHLY_CONSUMPTION?o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",fontSize:"0.875rem"},children:t("solarCalculator.monthlyConsumption","Monthly Electricity Consumption (KWH)")}),o.jsx("input",{type:"number",min:"6000",max:"24000",value:c,onChange:R=>{l(R.target.value),S("")},onBlur:R=>{if(R.target.value){const k=parseFloat(R.target.value);isNaN(k)?S(t("solarCalculator.validation.consumptionMustBeNumber","Monthly consumption must be a valid number")):k<6e3?S(t("solarCalculator.validation.consumptionMinimum","Monthly consumption must be at least 6,000 KWH")):k>24e3&&S(t("solarCalculator.validation.consumptionMaximum","Monthly consumption cannot exceed 24,000 KWH"))}},placeholder:t("solarCalculator.enterKWH","Enter KWH (minimum 6,000)"),style:{width:"100%",padding:"0.75rem",border:A&&a===dt.MONTHLY_CONSUMPTION?"2px solid #dc2626":"2px solid #e5e7eb",borderRadius:"0.5rem",fontSize:"1rem",boxSizing:"border-box"}}),o.jsx("small",{style:{color:"#6b7280",marginTop:"0.25rem",display:"block",fontSize:"0.75rem"},children:t("solarCalculator.consumptionHint","Enter between 6,000 - 24,000 KWH")})]}):o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",fontSize:"0.875rem"},children:t("solarCalculator.monthlyElectricityBill","Monthly Electricity Bill (SAR)")}),o.jsx("input",{type:"number",min:n===et.RESIDENTIAL?1080:1200,value:d,onChange:R=>{u(R.target.value),S("")},onBlur:R=>{if(R.target.value){const k=parseFloat(R.target.value),I=n===et.RESIDENTIAL?1080:1200;isNaN(k)?S(t("solarCalculator.validation.billMustBeNumber","Monthly bill must be a valid number")):k<I&&S(t("solarCalculator.validation.billMinimum",{min:I.toLocaleString(),defaultValue:`Monthly bill must be at least ${I} SAR`}))}},placeholder:`${t("solarCalculator.enterSAR","Enter SAR")} (minimum ${n===et.RESIDENTIAL?"1,080":"1,200"})`,style:{width:"100%",padding:"0.75rem",border:A&&a===dt.MONTHLY_BILL?"2px solid #dc2626":"2px solid #e5e7eb",borderRadius:"0.5rem",fontSize:"1rem",boxSizing:"border-box"}}),o.jsx("small",{style:{color:"#6b7280",marginTop:"0.25rem",display:"block",fontSize:"0.75rem"},children:t("solarCalculator.billHint",{min:n===et.RESIDENTIAL?"1,080":"1,200",defaultValue:`Minimum ${n===et.RESIDENTIAL?"1,080":"1,200"} SAR`})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{style:{marginBottom:"1rem",color:"#374151",fontSize:"1rem",fontWeight:"600"},children:t("solarCalculator.paymentPeriod","Payment Period")}),o.jsx("select",{value:p,onChange:R=>h(parseInt(R.target.value)),style:{width:"100%",padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"0.5rem",fontSize:"1rem",boxSizing:"border-box"},children:[12,18,24].map(R=>o.jsxs("option",{value:R,children:[R," ",t("solarCalculator.months","months")]},R))})]}),A&&o.jsxs(ce.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",border:"1px solid #f87171",color:"#991b1b",padding:"0.75rem 1rem",borderRadius:"0.5rem",display:"flex",alignItems:"center",gap:"0.75rem",boxShadow:"0 2px 4px rgba(220, 38, 38, 0.1)"},children:[o.jsx("div",{style:{width:"24px",height:"24px",background:"#dc2626",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:o.jsx("span",{style:{color:"white",fontSize:"14px",fontWeight:"bold"},children:"!"})}),o.jsx("div",{style:{flex:1},children:A})]}),o.jsx("button",{onClick:v,disabled:m,style:{background:m?"#9ca3af":"linear-gradient(to right, #3eb2b1, #22d3db)",color:"white",padding:"1rem 2rem",borderRadius:"0.75rem",border:"none",fontSize:"1rem",fontWeight:"600",cursor:m?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:m?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{width:"1rem",height:"1rem",border:"2px solid white",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),t("solarCalculator.calculating","Calculating...")]}):o.jsxs(o.Fragment,{children:[o.jsx(ce.div,{style:{padding:"0.25rem",background:"rgba(255, 255, 255, 0.2)",borderRadius:"0.5rem",marginRight:"0.5rem"},whileHover:{rotate:15},children:o.jsx(ob,{size:20,color:"white",stroke:"white",fill:"none",strokeWidth:"2",style:{display:"block",minWidth:"20px",minHeight:"20px"}})}),t("solarCalculator.calculateSolarSavings","Calculate Solar Savings")]})})]}),o.jsx("style",{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]})},b2=({user:e,onLogout:t,initialActiveItem:r="dashboard"})=>{const{t:n,i18n:s}=xe(),a=He(),i=Rr(),c=s.language==="ar",[l,d]=b.useState(r),[u,p]=b.useState(window.innerWidth>=1024);b.useEffect(()=>{const x=()=>{p(window.innerWidth>=1024)};return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),b.useEffect(()=>{const x=i.pathname;x==="/dashboard/profile"?d("profile"):x==="/dashboard/settings"?d("settings"):x==="/dashboard/documents"?d("documents"):x==="/dashboard"&&d("dashboard")},[i.pathname]);const m=e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.first_name?e.first_name:e.last_name?e.last_name:e.email.split("@")[0];e.role==="CONTRACTOR"?n("auth.userTypes.CONTRACTOR"):n("auth.userTypes.USER");const g=x=>{switch(d(x),x){case"profile":a("/dashboard/profile");break;case"settings":a("/dashboard/settings");break;case"documents":a("/dashboard/documents");break;case"dashboard":a("/dashboard");break}};return o.jsxs("div",{style:{minHeight:"100vh",background:w.colors.gradients.primaryLight,color:w.colors.text.primary,fontFamily:w.typography.fonts.primary,direction:c?"rtl":"ltr"},children:[o.jsx(Im,{user:e,onLogout:t,activeItem:l,onItemClick:g}),o.jsxs("main",{style:{minHeight:"100vh",marginLeft:c?"0":u?"280px":"0",marginRight:c&&u?"280px":"0",padding:u?"1.5rem":"4.5rem 1rem 1.5rem 1rem",boxSizing:"border-box",width:u?"calc(100% - 280px)":"100%",transition:w.transitions.normal},children:[l==="profile"&&o.jsx(ii,{user:e,onUpdate:(x,y)=>{console.log("Profile section updated:",x,y)}}),l==="settings"&&o.jsx(ii,{user:e,onUpdate:(x,y)=>{console.log("Profile section updated:",x,y)}}),l==="dashboard"&&o.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",color:"#6b7280"},children:[o.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#1a1a1a",marginBottom:"1rem"},children:n("userApp.sidebar.dashboard")}),o.jsx("p",{children:n("userApp.welcome.title",{name:m})})]}),l==="calculator"&&o.jsx("div",{style:{padding:"1.5rem",width:"100%",display:"flex",justifyContent:"center"},children:o.jsx("div",{style:{width:"100%",maxWidth:"1000px"},children:o.jsx(xd,{})})}),l==="financing"&&e.role==="USER"&&o.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",color:"#6b7280"},children:[o.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#1a1a1a",marginBottom:"1rem"},children:n("userApp.sidebar.financing")}),o.jsx("p",{children:"Financing options will be displayed here"})]}),l==="projects"&&e.role==="CONTRACTOR"&&o.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",color:"#6b7280"},children:[o.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#1a1a1a",marginBottom:"1rem"},children:n("userApp.sidebar.projects")}),o.jsx("p",{children:"Projects will be displayed here"})]}),l==="marketplace"&&o.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",color:"#6b7280"},children:[o.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#1a1a1a",marginBottom:"1rem"},children:n("userApp.sidebar.marketplace")}),o.jsx("p",{children:"Marketplace will be displayed here"})]}),l==="documents"&&o.jsx(bd,{userType:e.role})]})]})},x2=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("polyline",{points:"9,22 9,12 15,12 15,22",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),v2=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("polyline",{points:"14,2 14,8 20,8",stroke:"currentColor",strokeWidth:"2",fill:"none"}),o.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),w2=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("path",{d:"M16 10a4 4 0 0 1-8 0",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),k2=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M9 11H7a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-5a2 2 0 0 0-2-2z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),o.jsx("path",{d:"M17 11h-2a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-5a2 2 0 0 0-2-2z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),o.jsx("path",{d:"M7 16c0-1.5-0.67-2.5-2-3s-2-1.5-2-3 0.67-2.5 2-3 2-1.5 2-3",stroke:"currentColor",strokeWidth:"2",fill:"none"}),o.jsx("path",{d:"M17 16c0-1.5 0.67-2.5 2-3s2-1.5 2-3-0.67-2.5-2-3-2-1.5-2-3",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),S2=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M21 12V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),o.jsx("path",{d:"M3 10h18",stroke:"currentColor",strokeWidth:"2"}),o.jsx("circle",{cx:"7",cy:"15",r:"1",fill:"currentColor"})]}),j2=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("polyline",{points:"13,2 13,9 20,9",stroke:"currentColor",strokeWidth:"2",fill:"none"}),o.jsx("line",{x1:"8",y1:"13",x2:"16",y2:"13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("line",{x1:"8",y1:"17",x2:"16",y2:"17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),Ba=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("circle",{cx:"12",cy:"7",r:"4",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),_2=()=>o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("polyline",{points:"16,17 21,12 16,7",stroke:"currentColor",strokeWidth:"2",fill:"none"}),o.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),C2=()=>o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("polyline",{points:"6,9 12,15 18,9",stroke:"currentColor",strokeWidth:"2",fill:"none"})}),T2=({user:e,onLogout:t,activeItem:r="dashboard",onItemClick:n})=>{const{t:s,i18n:a}=xe(),i=a.language==="ar",[c,l]=b.useState(!1),[d,u]=b.useState(window.innerWidth>=1024),[p,h]=b.useState(!1),m=b.useRef(null);b.useEffect(()=>{const Y=()=>{const V=window.innerWidth>=1024;u(V),V&&l(!1)},K=V=>{m.current&&!m.current.contains(V.target)&&h(!1)};return window.addEventListener("resize",Y),document.addEventListener("mousedown",K),()=>{window.removeEventListener("resize",Y),document.removeEventListener("mousedown",K)}},[]);const g=()=>{if(e.business_name){const Y=e.business_name.split(" ");return Y.length>=2?`${Y[0].charAt(0)}${Y[1].charAt(0)}`.toUpperCase():e.business_name.substring(0,2).toUpperCase()}else return e.first_name&&e.last_name?`${e.first_name.charAt(0)}${e.last_name.charAt(0)}`.toUpperCase():e.first_name?e.first_name.charAt(0).toUpperCase():e.email.charAt(0).toUpperCase()},y=(()=>{const Y=[e.business_name,e.business_type,e.email,e.first_name,e.last_name,e.verification_level?e.verification_level>0:!1,e.status==="active"],K=Y.filter(V=>V&&(typeof V=="boolean"?V:V.toString().trim()!=="")).length;return Math.round(K/Y.length*100)})(),A=y===100,S=A?1:.5,f=28,v=2*Math.PI*f,P=v,R=v-v*y/100,k=()=>e.business_name?e.business_name:e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.first_name?e.first_name:e.email.split("@")[0],I=[{key:"dashboard",translationKey:"contractorApp.sidebar.dashboard",icon:o.jsx(x2,{})},{key:"projects",translationKey:"contractorApp.sidebar.projects",icon:o.jsx(v2,{})},{key:"quotes",translationKey:"contractorApp.sidebar.quotes",icon:o.jsx(k2,{})},{key:"marketplace",translationKey:"contractorApp.sidebar.marketplace",icon:o.jsx(w2,{})},{key:"wallet",translationKey:"contractorApp.sidebar.wallet",icon:o.jsx(S2,{})},{key:"documents",translationKey:"contractorApp.sidebar.documents",icon:o.jsx(j2,{})},{key:"profile",translationKey:"contractorApp.sidebar.profile",icon:o.jsx(Ba,{})}],q=He(),Z=Y=>{if(Y==="settings"){h(!p);return}n?.(Y),l(!1)},X=()=>{q("/contractor/profile"),h(!1)},ae=()=>{h(!1),t()},N={sidebar:{position:"fixed",top:0,[i?"right":"left"]:0,height:"100vh",width:"280px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRight:i?"none":"1px solid rgba(62, 178, 177, 0.2)",borderLeft:i?"1px solid rgba(62, 178, 177, 0.2)":"none",boxShadow:i?"-8px 0 32px rgba(62, 178, 177, 0.15)":"8px 0 32px rgba(62, 178, 177, 0.15)",display:"flex",flexDirection:"column",zIndex:1e3,transform:d||c?"translateX(0)":"translateX(-100%)",transition:w.transitions.normal},logo:{padding:"1.5rem",borderBottom:"1px solid rgba(62, 178, 177, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"0.5rem"},logoIcon:{width:"120px",height:"60px",backgroundImage:"url(/rabhan_logo.svg)",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},contractorBadge:{padding:"0.25rem 0.75rem",background:"linear-gradient(135deg, rgba(62, 178, 177, 0.2) 0%, rgba(34, 211, 219, 0.2) 100%)",color:w.colors.primary,borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase"},nav:{flex:1,padding:"1rem 0",overflowY:"auto"},menuItem:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.875rem 1.5rem",margin:"0.25rem 1rem",borderRadius:"12px",cursor:"pointer",transition:w.transitions.fast,fontSize:"0.875rem",fontWeight:"500",color:"#6b7280",textDecoration:"none",border:"none",background:"transparent",width:"calc(100% - 2rem)",textAlign:i?"right":"left"},menuItemActive:{background:"linear-gradient(135deg, rgba(62, 178, 177, 0.15) 0%, rgba(34, 211, 219, 0.15) 100%)",color:"#3eb2b1",fontWeight:"600",boxShadow:"0 2px 8px rgba(62, 178, 177, 0.2)"},menuItemHover:{background:"rgba(62, 178, 177, 0.1)",color:"#3eb2b1"},menuIcon:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},userSection:{padding:"1rem 1.5rem 1.5rem 1.5rem",borderTop:"1px solid rgba(62, 178, 177, 0.2)",position:"relative"},userButton:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",background:"rgba(62, 178, 177, 0.1)",borderRadius:"16px",width:"100%",border:"none",cursor:"pointer",transition:w.transitions.fast,textAlign:i?"right":"left"},userAvatarWrapper:{position:"relative",width:"64px",height:"64px",display:"flex",alignItems:"center",justifyContent:"center"},progressRing:{position:"absolute",top:0,left:0,transform:"rotate(-90deg)"},userAvatar:{width:"48px",height:"48px",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem",fontWeight:"600",color:"#ffffff",boxShadow:"0 4px 12px rgba(62, 178, 177, 0.3)",position:"relative",zIndex:1},userInfo:{flex:1,minWidth:0,textAlign:i?"right":"left"},userName:{fontSize:"0.875rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"0.25rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},userEmail:{fontSize:"0.75rem",color:"#6b7280",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},chevron:{color:"#6b7280",transition:w.transitions.fast,transform:p?"rotate(180deg)":"rotate(0deg)"},dropdown:{position:"absolute",bottom:"100%",left:"1.5rem",right:"1.5rem",background:"rgba(255, 255, 255, 0.98)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"16px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(62, 178, 177, 0.2)",padding:"0.5rem",opacity:p?1:0,visibility:p?"visible":"hidden",transform:p?"translateY(-8px)":"translateY(8px)",transition:w.transitions.normal,zIndex:1001},dropdownItem:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem 1rem",borderRadius:"12px",cursor:"pointer",transition:w.transitions.fast,fontSize:"0.875rem",fontWeight:"500",color:"#6b7280",width:"100%",border:"none",background:"transparent",textAlign:i?"right":"left"},profileItem:{color:"#3eb2b1"},logoutItem:{color:"#ef4444"},dropdownItemHover:{background:"rgba(62, 178, 177, 0.1)"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:999,display:c?"block":"none"},mobileToggle:{position:"fixed",top:"1rem",[i?"right":"left"]:"1rem",width:"48px",height:"48px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(62, 178, 177, 0.2)",borderRadius:"12px",display:d?"none":"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"1.25rem",zIndex:1001,boxShadow:"0 4px 12px rgba(62, 178, 177, 0.2)",transition:w.transitions.fast}};return o.jsxs(o.Fragment,{children:[o.jsx("button",{style:N.mobileToggle,onClick:()=>l(!c),"aria-label":"Toggle menu",children:c?"✕":"☰"}),o.jsx("div",{style:N.overlay,onClick:()=>l(!1)}),o.jsxs("aside",{style:{...N.sidebar,direction:i?"rtl":"ltr"},children:[o.jsxs("div",{style:N.logo,children:[o.jsx("div",{style:N.logoIcon}),o.jsx("div",{style:N.contractorBadge,children:s("contractorApp.badge.contractor")})]}),o.jsx("nav",{style:N.nav,children:I.map(Y=>o.jsxs("button",{style:{...N.menuItem,...r===Y.key?N.menuItemActive:{}},onClick:()=>Z(Y.key),onMouseEnter:K=>{r!==Y.key&&Object.assign(K.currentTarget.style,N.menuItemHover)},onMouseLeave:K=>{r!==Y.key&&Object.assign(K.currentTarget.style,{background:"transparent",color:"#6b7280"})},children:[o.jsx("span",{style:N.menuIcon,children:Y.icon}),s(Y.translationKey)]},Y.key))}),o.jsxs("div",{style:N.userSection,ref:m,children:[p&&o.jsxs("div",{style:N.dropdown,children:[o.jsxs("button",{style:{...N.dropdownItem,...N.profileItem},onClick:X,onMouseEnter:Y=>{Object.assign(Y.currentTarget.style,N.dropdownItemHover)},onMouseLeave:Y=>{Object.assign(Y.currentTarget.style,{background:"transparent"})},children:[o.jsx("span",{style:N.menuIcon,children:o.jsx(Ba,{})}),s("contractorApp.sidebar.profile")]}),o.jsxs("button",{style:{...N.dropdownItem,...N.logoutItem},onClick:ae,onMouseEnter:Y=>{Object.assign(Y.currentTarget.style,{...N.dropdownItemHover,background:"rgba(239, 68, 68, 0.1)"})},onMouseLeave:Y=>{Object.assign(Y.currentTarget.style,{background:"transparent"})},children:[o.jsx("span",{style:N.menuIcon,children:o.jsx(_2,{})}),s("contractorApp.sidebar.logout")]})]}),o.jsxs("button",{style:N.userButton,onClick:()=>h(!p),onMouseEnter:Y=>{Object.assign(Y.currentTarget.style,{background:"rgba(62, 178, 177, 0.15)",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(62, 178, 177, 0.2)"})},onMouseLeave:Y=>{Object.assign(Y.currentTarget.style,{background:"rgba(62, 178, 177, 0.1)",transform:"translateY(0)",boxShadow:"none"})},children:[o.jsxs("div",{style:N.userAvatarWrapper,children:[o.jsxs("svg",{style:N.progressRing,width:"64",height:"64",children:[o.jsx("circle",{cx:"32",cy:"32",r:f,stroke:"rgba(0, 0, 0, 0.1)",strokeWidth:"3",fill:"none"}),o.jsx("defs",{children:o.jsxs("linearGradient",{id:"contractorProgressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#3eb2b1",stopOpacity:S}),o.jsx("stop",{offset:"100%",stopColor:"#22d3db",stopOpacity:S})]})}),o.jsx("circle",{cx:"32",cy:"32",r:f,stroke:"url(#contractorProgressGradient)",strokeWidth:"3",fill:"none",strokeDasharray:`${P}`,strokeDashoffset:R,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.5s ease-out, opacity 0.3s ease-out",...A?{}:{strokeDasharray:"5 3"}}})]}),o.jsx("div",{style:N.userAvatar,children:g()})]}),o.jsxs("div",{style:N.userInfo,children:[o.jsx("div",{style:N.userName,children:k()}),o.jsx("div",{style:N.userEmail,children:e.email})]}),o.jsx("div",{style:N.chevron,children:o.jsx(C2,{})})]})]})]})]})};var A2={};class P2{constructor(){Oe(this,"baseURL",A2.REACT_APP_CONTRACTOR_SERVICE_URL||"http://localhost:3006/api/contractors")}async registerContractor(t){try{return(await xt.post(`${this.baseURL}/register`,t)).data.data}catch(r){throw console.error("Error registering contractor:",r),new Error(r.response?.data?.error?.message||"Failed to register contractor")}}async getProfile(){try{return(await xt.get(`${this.baseURL}/profile`)).data.data}catch(t){throw console.error("Error getting contractor profile:",t),new Error(t.response?.data?.error?.message||"Failed to get contractor profile")}}async getDashboardStats(){try{return(await xt.get(`${this.baseURL}/dashboard/stats`)).data.data}catch(t){throw console.error("Error getting dashboard stats:",t),new Error(t.response?.data?.error?.message||"Failed to get dashboard statistics")}}async searchContractors(t={}){try{const r={...t};return r.service_categories&&Array.isArray(r.service_categories)&&(r.service_categories=r.service_categories.join(",")),(await xt.get(`${this.baseURL}/search`,{params:r})).data.data}catch(r){throw console.error("Error searching contractors:",r),new Error(r.response?.data?.error?.message||"Failed to search contractors")}}async getContractorById(t){try{return(await xt.get(`${this.baseURL}/${t}`)).data.data}catch(r){throw console.error("Error getting contractor by ID:",r),new Error(r.response?.data?.error?.message||"Failed to get contractor")}}async updateProfile(t,r,n){try{console.log(`💾 Saving contractor ${r} data for user ${t}:`,n);const s=await xt.put(`${this.baseURL}/profile`,n);console.log(`✅ Successfully saved ${r} data via API:`,s.data);const a=`contractor_${t}_${r}`;return localStorage.setItem(a,JSON.stringify(n)),{success:!0}}catch(s){if(console.error(`Error updating contractor ${r}:`,s),s.response?.status===404||s.response?.data?.error?.code==="ROUTE_NOT_FOUND"){console.log("🔄 Contractor profile not found. Attempting to register first...");try{const i=this.prepareRegistrationData(n,r);if(i){console.log("📝 Registering contractor with data:",i),await this.registerContractor(i),console.log("🔄 Retrying profile update after registration...");const c=await xt.put(`${this.baseURL}/profile`,n);console.log(`✅ Successfully saved ${r} data after registration:`,c.data);const l=`contractor_${t}_${r}`;return localStorage.setItem(l,JSON.stringify(n)),{success:!0}}}catch(i){console.error("Failed to register contractor:",i)}}const a=`contractor_${t}_${r}`;throw localStorage.setItem(a,JSON.stringify(n)),new Error(`Failed to update ${r}: ${s.response?.data?.error?.message||s.message}`)}}prepareRegistrationData(t,r){let n="temp";try{n=window.authService?.getCurrentUser()?.id||"temp"}catch{console.warn("Could not get current user for loading saved data")}const s=this.loadAllSavedData(n),a={business_name:t.business_name||s.business?.business_name||"My Business",business_type:t.business_type||s.business?.business_type||"INDIVIDUAL",email:t.email||s.contact?.email||"contractor@example.com",phone:t.phone||s.contact?.phone||"+966500000000",address_line1:t.address_line1||s.address?.address_line1||"Address",city:t.city||s.address?.city||"Riyadh",region:t.region||s.address?.region||"Riyadh Region",service_categories:t.service_categories||s.services?.service_categories||["SOLAR_INSTALLATION"],service_areas:t.service_areas||s.services?.service_areas||["Riyadh"],years_experience:t.years_experience||s.services?.years_experience||1};return a.business_name&&a.email&&a.phone?a:(console.warn("Insufficient data for contractor registration"),null)}loadSavedData(t,r){try{const n=`contractor_${t}_${r}`,s=localStorage.getItem(n);return s?JSON.parse(s):null}catch(n){return console.warn(`Failed to load saved data for ${r}:`,n),null}}loadAllSavedData(t){const r=["business","contact","address","services","verification","financial","preferences"],n={};return r.forEach(s=>{const a=this.loadSavedData(t,s);a&&(n[s]=a)}),n}clearSavedData(t){["business","contact","address","services","verification","financial","preferences"].forEach(n=>{const s=`contractor_${t}_${n}`;localStorage.removeItem(s)})}async healthCheck(){try{return(await xt.get(`${this.baseURL}/health`)).data}catch(t){throw console.error("Error checking contractor service health:",t),new Error("Contractor service is unavailable")}}}const R2=new P2,vd=`
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Custom Checkbox Styles */
.custom-checkbox {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  width: 18px;
  height: 18px;
  border: 2px solid #d1d5db;
  border-radius: 4px;
  background: white;
  cursor: pointer;
  position: relative;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.custom-checkbox:hover {
  border-color: #3eb2b1;
}

.custom-checkbox:checked {
  background: #3eb2b1;
  border-color: #3eb2b1;
}

.custom-checkbox:checked::after {
  content: '';
  position: absolute;
  left: 5px;
  top: 2px;
  width: 4px;
  height: 8px;
  border: solid white;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

.custom-checkbox:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.custom-checkbox:disabled:hover {
  border-color: #d1d5db;
}

/* Language Toggle Switch Styles */
.language-toggle {
  position: relative;
  display: inline-flex;
  align-items: center;
  background: #f3f4f6;
  border-radius: 25px;
  padding: 4px;
  border: 2px solid #e5e7eb;
  transition: all 0.3s ease;
  cursor: pointer;
  min-width: 140px;
  height: 44px;
}

.language-toggle:hover {
  border-color: #3eb2b1;
}

.language-toggle.disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.language-toggle.disabled:hover {
  border-color: #e5e7eb;
}

.language-option {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 8px 12px;
  border-radius: 20px;
  font-size: 0.875rem;
  font-weight: 600;
  transition: all 0.3s ease;
  cursor: pointer;
  position: relative;
  z-index: 2;
}

.language-option.active {
  background: #3eb2b1;
  color: white;
  box-shadow: 0 2px 4px rgba(62, 178, 177, 0.3);
}

.language-option.inactive {
  color: #6b7280;
  background: transparent;
}

/* Responsive Layout Styles */
.profile-layout {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
}

@media (min-width: 768px) {
  .profile-layout {
    grid-template-columns: 280px 1fr;
    gap: 2rem;
  }
  
  .profile-layout.rtl {
    grid-template-columns: 1fr 280px;
  }
}

@media (max-width: 767px) {
  .profile-navigation {
    order: 2;
  }
  
  .profile-content {
    order: 1;
  }
}

/* Responsive Grid Layouts */
.responsive-grid-2 {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
}

@media (min-width: 640px) {
  .responsive-grid-2 {
    grid-template-columns: 1fr 1fr;
  }
}

.responsive-grid-auto {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 0.5rem;
}

@media (max-width: 639px) {
  .responsive-grid-auto {
    grid-template-columns: 1fr;
  }
}

/* Language Toggle Responsive */
@media (max-width: 480px) {
  .language-toggle {
    min-width: 120px;
    height: 40px;
  }
  
  .language-option {
    padding: 6px 8px;
    font-size: 0.8rem;
  }
}

/* Mobile Optimizations */
@media (max-width: 767px) {
  .profile-header {
    padding: 1rem !important;
  }
  
  .profile-title {
    font-size: 1.5rem !important;
    line-height: 1.3 !important;
  }
  
  .profile-badges {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 0.75rem !important;
  }
  
  .profile-card {
    padding: 1.5rem !important;
    margin-bottom: 1rem !important;
  }
  
  .section-title {
    font-size: 1.125rem !important;
    margin-bottom: 1rem !important;
  }
  
  .action-buttons {
    justify-content: center !important;
    flex-direction: column-reverse !important;
  }
  
  .action-buttons button {
    width: 100% !important;
  }
}

/* Tablet Optimizations */
@media (min-width: 768px) and (max-width: 1023px) {
  .profile-layout {
    gap: 1.5rem;
  }
  
  .profile-card {
    padding: 1.75rem;
  }
}

/* Responsive Layout for Unified Card */
.contractor-profile-layout {
  display: flex;
  gap: 2rem;
}

@media (max-width: 767px) {
  .contractor-profile-layout {
    flex-direction: column;
    gap: 1.5rem;
  }
}

@media (min-width: 768px) and (max-width: 1023px) {
  .contractor-profile-layout {
    gap: 1.5rem;
  }
}

/* Profile Header Responsive */
@media (max-width: 767px) {
  .profile-header-content {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 1rem !important;
  }
  
  .profile-header-content h1 {
    font-size: 1.5rem !important;
  }
  
  .profile-header-content h2 {
    font-size: 1.125rem !important;
  }
}

@media (max-width: 480px) {
  .profile-header-content h1 {
    font-size: 1.25rem !important;
  }
  
  .profile-header-content h2 {
    font-size: 1rem !important;
  }
}

/* Tag Input Styles */
.tag-input-container {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  align-items: center;
  padding: 0.75rem;
  border: 1px solid #d1d5db;
  border-radius: 12px;
  background: #ffffff;
  min-height: 44px;
  cursor: text;
  transition: all 0.2s ease;
}

.tag-input-container:focus-within {
  border-color: #3eb2b1;
  box-shadow: 0 0 0 3px rgba(62, 178, 177, 0.1);
}

.tag-input-container.disabled {
  background: #f9fafb;
  cursor: not-allowed;
  opacity: 0.7;
}

.tag-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  background: linear-gradient(135deg, #3eb2b1 0%, #22d3ee 100%);
  color: white;
  padding: 0.375rem 0.75rem;
  border-radius: 20px;
  font-size: 0.875rem;
  font-weight: 500;
  white-space: nowrap;
  animation: tagFadeIn 0.2s ease-out;
}

.tag-item:hover {
  background: linear-gradient(135deg, #0891b2 0%, #0ea5e9 100%);
}

.tag-remove {
  background: none;
  border: none;
  color: white;
  cursor: pointer;
  padding: 0;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  line-height: 1;
  transition: background 0.2s ease;
}

.tag-remove:hover {
  background: rgba(255, 255, 255, 0.2);
}

.tag-input {
  flex: 1;
  min-width: 120px;
  border: none;
  outline: none;
  background: transparent;
  font-size: 0.875rem;
  padding: 0;
}

.tag-input::placeholder {
  color: #9ca3af;
}

.tag-input:disabled {
  cursor: not-allowed;
}

@keyframes tagFadeIn {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Responsive tag layout */
@media (max-width: 767px) {
  .tag-input-container {
    padding: 0.625rem;
  }
  
  .tag-item {
    padding: 0.25rem 0.625rem;
    font-size: 0.8125rem;
  }
  
  .tag-input {
    min-width: 100px;
    font-size: 0.8125rem;
  }
}
`;if(!document.querySelector("#contractor-profile-styles")){const e=document.createElement("style");e.id="contractor-profile-styles",e.textContent=vd,document.head.appendChild(e)}const L2=({user:e,onUpdate:t})=>{const{t:r,i18n:n}=xe(),s=n.language==="ar",[a,i]=b.useState("business"),[c,l]=b.useState(null),[d,u]=b.useState(!1),[p,h]=b.useState(null),[m,g]=b.useState(e),[x,y]=b.useState(""),{location:A,error:S}=yl();b.useEffect(()=>ie.subscribe(B=>{B.user&&(console.log("🔄 Contractor data updated from auth service:",B.user),g(B.user))}),[]),b.useEffect(()=>{const j=localStorage.getItem("preferred_language");j&&j!==n.language&&(console.log(`🔄 Loading saved language: ${j}`),n.changeLanguage(j),k("preferences","preferred_language",j))},[]);const[f,v]=b.useState({business:{business_name:m.business_name||"",business_name_ar:m.business_name_ar||"",business_type:m.business_type||"individual",commercial_registration:m.commercial_registration||"",vat_number:m.vat_number||"",description:m.description||"",description_ar:m.description_ar||"",website:m.website||"",established_year:m.established_year||"",employee_count:m.employee_count||""},contact:{email:m.email||"",phone:m.phone||"",whatsapp:m.whatsapp||""},address:{address_line1:m.address_line1||"",address_line2:m.address_line2||"",city:m.city||"",region:m.region||"",postal_code:m.postal_code||"",country:m.country||"SA"},services:{service_categories:m.service_categories||[],service_areas:m.service_areas||[],years_experience:m.years_experience||0,specializations:m.specializations||[]},verification:{status:m.status||"pending",verification_level:m.verification_level||0,bank_account_verified:m.bank_account_verified||!1,tax_clearance_verified:m.tax_clearance_verified||!1,financial_standing_verified:m.financial_standing_verified||!1},financial:{bank_name:m.bank_name||"",custom_bank_name:m.custom_bank_name||""},preferences:{preferred_language:m.preferred_language||"ar",email_notifications:m.email_notifications!==!1,sms_notifications:m.sms_notifications!==!1,marketing_consent:m.marketing_consent||!1}});b.useEffect(()=>{console.log("📋 Updating contractor form data with new user data:",m),v({business:{business_name:m.business_name||"",business_name_ar:m.business_name_ar||"",business_type:m.business_type||"individual",commercial_registration:m.commercial_registration||"",vat_number:m.vat_number||"",description:m.description||"",description_ar:m.description_ar||"",website:m.website||"",established_year:m.established_year||"",employee_count:m.employee_count||""},contact:{email:m.email||"",phone:m.phone||"",whatsapp:m.whatsapp||""},address:{address_line1:m.address_line1||"",address_line2:m.address_line2||"",city:m.city||"",region:m.region||"",postal_code:m.postal_code||"",country:m.country||"SA"},services:{service_categories:m.service_categories||[],service_areas:m.service_areas||[],years_experience:m.years_experience||0,specializations:m.specializations||[]},verification:{status:m.status||"pending",verification_level:m.verification_level||0,bank_account_verified:m.bank_account_verified||!1,tax_clearance_verified:m.tax_clearance_verified||!1,financial_standing_verified:m.financial_standing_verified||!1},financial:{bank_name:m.bank_name||"",custom_bank_name:m.custom_bank_name||""},preferences:{preferred_language:m.preferred_language||"ar",email_notifications:m.email_notifications!==!1,sms_notifications:m.sms_notifications!==!1,marketing_consent:m.marketing_consent||!1}})},[m]);const R=(()=>{const j=m.verification_level||0;return j>=4?{text:r("contractorApp.verification.verified"),color:"#10b981",icon:o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M20 6L9 17L4 12",stroke:"#10b981",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})})}:j>=2?{text:r("contractorApp.verification.partial"),color:"#f59e0b",icon:o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M12 9V13M12 17H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"#f59e0b",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}:{text:r("contractorApp.verification.pending"),color:"#ef4444",icon:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"#ef4444",strokeWidth:"2"}),o.jsx("path",{d:"M8 12H16",stroke:"#ef4444",strokeWidth:"2",strokeLinecap:"round"})]})}})(),k=(j,B,H)=>{v(J=>({...J,[j]:{...J[j],[B]:H}}))},I=(j,B,H)=>{const J=H.split(",").map($=>$.trim()).filter($=>$);v($=>({...$,[j]:{...$[j],[B]:J}}))};b.useEffect(()=>{A&&!S&&(v(j=>({...j,address:{...j.address,gps_latitude:A.latitude.toString(),gps_longitude:A.longitude.toString()}})),A.city&&v(j=>({...j,address:{...j.address,city:A.city||j.address.city}})))},[A,S]);const q=async j=>{console.log(`🔧 handleSaveSection called with section: ${j}`);try{console.log("🔧 Setting isLoading to true"),u(!0);const B=f[j];console.log(`💾 Saving contractor ${j} data:`,B);const H=ie.getCurrentUser();if(!H?.id){console.error("No user found for saving contractor data"),h(r("contractorApp.profile.updateError")||"Error updating profile"),u(!1);return}let J={};if(j==="business")J={business_name:B.business_name,business_name_ar:B.business_name_ar,business_type:B.business_type,commercial_registration:B.commercial_registration,vat_number:B.vat_number,description:B.description,description_ar:B.description_ar,website:B.website,established_year:B.established_year?parseInt(B.established_year):null,employee_count:B.employee_count?parseInt(B.employee_count):null};else if(j==="contact")J={email:B.email,phone:B.phone,whatsapp:B.whatsapp};else if(j==="address")J={address_line1:B.address_line1,address_line2:B.address_line2,city:B.city,region:B.region,postal_code:B.postal_code,country:B.country};else if(j==="services"){J={service_categories:B.service_categories,service_areas:B.service_areas,years_experience:B.years_experience||0};const be=`contractor_${H.id}_specializations`;localStorage.setItem(be,JSON.stringify(B.specializations||[]))}else{const be=`contractor_${H.id}_${j}`;localStorage.setItem(be,JSON.stringify(B)),console.log(`✅ Successfully saved ${j} data locally`);return}if(console.log("🌐 Calling contractor service API with data:",J),(await R2.updateProfile(H.id,j,J)).success){console.log(`✅ Successfully saved ${j} data via API`);const be=`contractor_${H.id}_${j}`;localStorage.setItem(be,JSON.stringify(B))}else throw new Error("API returned unsuccessful response");h(r("contractorApp.profile.updateSuccess")||"Profile updated successfully"),l(null);try{t?.(j,B)}catch(be){console.warn("Error in onUpdate callback:",be)}setTimeout(()=>h(null),3e3),console.log(`🔧 Save process completed successfully for ${j}`)}catch(B){console.error(`Error saving contractor ${j}:`,B),h(r("contractorApp.profile.updateError")||"Error updating profile"),setTimeout(()=>h(null),5e3)}finally{console.log("🔧 Setting isLoading to false"),u(!1),console.log(`🔧 handleSaveSection completed for ${j}`)}},Z=async j=>{console.log(`🌍 handleLanguageChange called with: ${j}`),console.log("🔍 Current form data before change:",f.preferences);try{u(!0),k("preferences","preferred_language",j),console.log("✅ Form data updated"),await n.changeLanguage(j),console.log("✅ i18n language changed"),localStorage.setItem("preferred_language",j),console.log("✅ Language saved to localStorage"),console.log(`🌍 Language changed to: ${j}`),await new Promise(H=>setTimeout(H,500));const B={...f.preferences,preferred_language:j};console.log("💾 Calling onUpdate with:",B),t?.("preferences",B),h(r("contractorApp.profile.languageUpdated")),setTimeout(()=>h(null),2e3)}catch(B){console.error("❌ Error changing language:",B),h(r("contractorApp.profile.updateError")||"Error updating profile"),setTimeout(()=>h(null),3e3)}finally{u(!1)}},X=j=>{const B=j.trim();if(B&&!f.services.specializations.includes(B)){const H=[...f.services.specializations,B];k("services","specializations",H),y("")}},ae=j=>{const B=f.services.specializations.filter(H=>H!==j);k("services","specializations",B)},N=j=>{if(j.key==="Enter"||j.key===",")j.preventDefault(),X(x);else if(j.key==="Backspace"&&x===""&&f.services.specializations.length>0){const B=f.services.specializations[f.services.specializations.length-1];ae(B)}},Y=j=>{const B=j.target.value;if(B.includes(",")){const H=B.replace(",","").trim();H?X(H):y("")}else y(B)},K=[{id:"business",label:r("contractorApp.profile.tabs.business"),icon:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M9 22V12H15V22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},{id:"contact",label:r("contractorApp.profile.tabs.contact"),icon:o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.18999 12.85C3.49997 10.2412 2.44824 7.27099 2.11999 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.10999 2H7.10999C7.59531 1.99522 8.06579 2.16708 8.43376 2.48353C8.80173 2.79999 9.04207 3.23945 9.10999 3.72C9.23662 4.68007 9.47144 5.62273 9.80999 6.53C9.94454 6.88792 9.97366 7.27691 9.8939 7.65088C9.81415 8.02485 9.62886 8.36811 9.35999 8.64L8.08999 9.91C9.51355 12.4135 11.5865 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5775C21.8437 15.9518 22.0122 16.4296 22 16.92Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},{id:"address",label:r("contractorApp.profile.tabs.address"),icon:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},{id:"services",label:r("contractorApp.profile.tabs.services"),icon:o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},{id:"verification",label:r("contractorApp.profile.tabs.verification"),icon:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.7088 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18455 2.99721 7.13631 4.39828 5.49706C5.79935 3.85781 7.69279 2.71537 9.79619 2.24013C11.8996 1.7649 14.1003 1.98232 16.07 2.86",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M22 4L12 14.01L9 11.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},{id:"financial",label:r("contractorApp.profile.tabs.financial"),icon:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2",stroke:"currentColor",strokeWidth:"2"}),o.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10",stroke:"currentColor",strokeWidth:"2"})]})},{id:"preferences",label:r("contractorApp.profile.tabs.preferences"),icon:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"2"}),o.jsx("path",{d:"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.258 9.77251 19.9887C9.5799 19.7194 9.31074 19.5143 9 19.4C8.69838 19.2669 8.36381 19.2272 8.03941 19.286C7.71502 19.3448 7.41568 19.4995 7.18 19.73L7.12 19.79C6.93425 19.976 6.71368 20.1235 6.47088 20.2241C6.22808 20.3248 5.96783 20.3766 5.705 20.3766C5.44217 20.3766 5.18192 20.3248 4.93912 20.2241C4.69632 20.1235 4.47575 19.976 4.29 19.79C4.10405 19.6043 3.95653 19.3837 3.85588 19.1409C3.75523 18.8981 3.70343 18.6378 3.70343 18.375C3.70343 18.1122 3.75523 17.8519 3.85588 17.6091C3.95653 17.3663 4.10405 17.1457 4.29 16.96L4.35 16.9C4.58054 16.6643 4.73519 16.365 4.794 16.0406C4.85282 15.7162 4.81312 15.3816 4.68 15.08C4.55324 14.7842 4.34276 14.532 4.07447 14.3543C3.80618 14.1766 3.49179 14.0813 3.17 14.08H3C2.46957 14.08 1.96086 13.8693 1.58579 13.4942C1.21071 13.1191 1 12.6104 1 12.08C1 11.5496 1.21071 11.0409 1.58579 10.6658C1.96086 10.2907 2.46957 10.08 3 10.08H3.09C3.42099 10.0723 3.742 9.96512 4.0113 9.77251C4.28059 9.5799 4.48572 9.31074 4.6 9C4.73312 8.69838 4.77282 8.36381 4.714 8.03941C4.65519 7.71502 4.50054 7.41568 4.27 7.18L4.21 7.12C4.02405 6.93425 3.87653 6.71368 3.77588 6.47088C3.67523 6.22808 3.62343 5.96783 3.62343 5.705C3.62343 5.44217 3.67523 5.18192 3.77588 4.93912C3.87653 4.69632 4.02405 4.47575 4.21 4.29C4.39575 4.10405 4.61632 3.95653 4.85912 3.85588C5.10192 3.75523 5.36217 3.70343 5.625 3.70343C5.88783 3.70343 6.14808 3.75523 6.39088 3.85588C6.63368 3.95653 6.85425 4.10405 7.04 4.29L7.1 4.35C7.33568 4.58054 7.63502 4.73519 7.95941 4.794C8.28381 4.85282 8.61838 4.81312 8.92 4.68H9C9.29577 4.55324 9.54802 4.34276 9.72569 4.07447C9.90337 3.80618 9.99872 3.49179 10 3.17V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}],V=[{value:"",label:s?"اختر البنك":"Select Bank"},{value:"al_rajhi_bank",label:s?"مصرف الراجحي":"Al Rajhi Bank"},{value:"saudi_national_bank",label:s?"البنك الأهلي السعودي":"Saudi National Bank"},{value:"riyad_bank",label:s?"بنك الرياض":"Riyad Bank"},{value:"banque_saudi_fransi",label:s?"البنك السعودي الفرنسي":"Banque Saudi Fransi"},{value:"samba_financial_group",label:s?"مجموعة سامبا المالية":"Samba Financial Group"},{value:"arab_national_bank",label:s?"البنك العربي الوطني":"Arab National Bank"},{value:"saudi_british_bank",label:s?"البنك السعودي البريطاني":"Saudi British Bank"},{value:"alinma_bank",label:s?"بنك الإنماء":"Alinma Bank"},{value:"saudi_investment_bank",label:s?"البنك السعودي للاستثمار":"Saudi Investment Bank"},{value:"alawwal_bank",label:s?"البنك الأول":"Alawwal Bank"},{value:"gulf_international_bank",label:s?"بنك الخليج الدولي":"Gulf International Bank"},{value:"al_bilad_bank",label:s?"بنك البلاد":"Al Bilad Bank"},{value:"bank_aljazira",label:s?"بنك الجزيرة":"Bank AlJazira"},{value:"national_commercial_bank",label:s?"البنك الأهلي التجاري":"National Commercial Bank"},{value:"other",label:s?"أخرى":"Other"}],C=[{value:"individual",label:r("contractorApp.profile.businessTypes.individual")},{value:"llc",label:r("contractorApp.profile.businessTypes.llc")},{value:"corporation",label:r("contractorApp.profile.businessTypes.corporation")},{value:"partnership",label:r("contractorApp.profile.businessTypes.partnership")}],_=["residential_solar","commercial_solar","industrial_solar","maintenance","consultation","design","installation","monitoring"],T=["riyadh","makkah","eastern","asir","jazan","medina","qassim","hail","northern_borders","najran","tabuk","bahah","jouf"],M={width:"100%",padding:"0.875rem 1rem",borderRadius:"12px",border:"1px solid rgba(62, 178, 177, 0.3)",background:"rgba(255, 255, 255, 0.8)",fontSize:"0.875rem",fontFamily:w.typography.fonts.primary,transition:w.transitions.fast,direction:s?"rtl":"ltr"},W={display:"flex",alignItems:"center",justifyContent:"center",padding:"0.75rem 1.5rem",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",color:"white",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:w.transitions.fast,fontFamily:w.typography.fonts.primary,whiteSpace:"nowrap"},D=()=>o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1a1a1a"},children:r("contractorApp.profile.sections.businessInfo")}),o.jsxs("div",{className:"responsive-grid-2",style:{marginBottom:"1rem"},children:[o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:[r("contractorApp.profile.fields.businessName")," *"]}),o.jsx("input",{type:"text",value:f.business.business_name,onChange:j=>k("business","business_name",j.target.value),style:M,placeholder:r("contractorApp.profile.placeholders.businessName"),disabled:c!=="business"})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.businessNameAr")}),o.jsx("input",{type:"text",value:f.business.business_name_ar,onChange:j=>k("business","business_name_ar",j.target.value),style:M,placeholder:r("contractorApp.profile.placeholders.businessNameAr"),disabled:c!=="business"})]})]}),o.jsxs("div",{className:"responsive-grid-2",style:{marginBottom:"1rem"},children:[o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:[r("contractorApp.profile.fields.businessType")," *"]}),o.jsxs("select",{value:f.business.business_type,onChange:j=>k("business","business_type",j.target.value),style:M,disabled:c!=="business",children:[o.jsx("option",{value:"",children:r("contractorApp.profile.placeholders.selectBusinessType")}),C.map(j=>o.jsx("option",{value:j.value,children:j.label},j.value))]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.establishedYear")}),o.jsx("input",{type:"number",value:f.business.established_year,onChange:j=>k("business","established_year",j.target.value),style:M,placeholder:"2020",min:"1950",max:new Date().getFullYear(),disabled:c!=="business"})]})]}),o.jsxs("div",{className:"responsive-grid-2",style:{marginBottom:"1rem"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.employeeCount")}),o.jsxs("select",{value:f.business.employee_count,onChange:j=>k("business","employee_count",j.target.value),style:M,disabled:c!=="business",children:[o.jsx("option",{value:"",children:r("contractorApp.profile.placeholders.selectEmployeeCount")}),o.jsxs("option",{value:"1-5",children:["1-5 ",r("contractorApp.profile.employees")]}),o.jsxs("option",{value:"6-15",children:["6-15 ",r("contractorApp.profile.employees")]}),o.jsxs("option",{value:"16-50",children:["16-50 ",r("contractorApp.profile.employees")]}),o.jsxs("option",{value:"51-100",children:["51-100 ",r("contractorApp.profile.employees")]}),o.jsxs("option",{value:"100+",children:["100+ ",r("contractorApp.profile.employees")]})]})]}),o.jsx("div",{})]}),o.jsxs("div",{className:"responsive-grid-2",style:{marginBottom:"1rem"},children:[o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:[r("contractorApp.profile.fields.crNumber")," *"]}),o.jsx("input",{type:"text",value:f.business.commercial_registration,onChange:j=>k("business","commercial_registration",j.target.value),style:M,placeholder:"1010000000",disabled:c!=="business"})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:[r("contractorApp.profile.fields.vatNumber")," *"]}),o.jsx("input",{type:"text",value:f.business.vat_number,onChange:j=>k("business","vat_number",j.target.value),style:M,placeholder:"300000000000003",disabled:c!=="business"})]})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.website")}),o.jsx("input",{type:"url",value:f.business.website,onChange:j=>k("business","website",j.target.value),style:M,placeholder:"https://www.company.com",disabled:c!=="business"})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.description")}),o.jsx("textarea",{value:f.business.description,onChange:j=>k("business","description",j.target.value),style:{...M,minHeight:"100px",resize:"vertical"},placeholder:r("contractorApp.profile.placeholders.description"),disabled:c!=="business"})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.descriptionAr")}),o.jsx("textarea",{value:f.business.description_ar,onChange:j=>k("business","description_ar",j.target.value),style:{...M,minHeight:"100px",resize:"vertical"},placeholder:r("contractorApp.profile.placeholders.descriptionAr"),disabled:c!=="business"})]})]}),ge=()=>o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1a1a1a"},children:r("contractorApp.profile.sections.contactInfo")}),o.jsxs("div",{className:"responsive-grid-2",style:{marginBottom:"1rem"},children:[o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:[r("contractorApp.profile.fields.firstName")," *"]}),o.jsx("input",{type:"text",value:f.contact.first_name,onChange:j=>k("contact","first_name",j.target.value),style:M,placeholder:r("contractorApp.profile.placeholders.firstName"),disabled:c!=="contact"})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:[r("contractorApp.profile.fields.lastName")," *"]}),o.jsx("input",{type:"text",value:f.contact.last_name,onChange:j=>k("contact","last_name",j.target.value),style:M,placeholder:r("contractorApp.profile.placeholders.lastName"),disabled:c!=="contact"})]})]}),o.jsxs("div",{className:"responsive-grid-2",style:{marginBottom:"1rem"},children:[o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:[r("contractorApp.profile.fields.email")," *"]}),o.jsx("input",{type:"email",value:f.contact.email,onChange:j=>k("contact","email",j.target.value),style:M,placeholder:"contact@company.com",disabled:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:[r("contractorApp.profile.fields.phone")," *"]}),o.jsx("input",{type:"tel",value:f.contact.phone,onChange:j=>k("contact","phone",j.target.value),style:M,placeholder:"+966501234567",disabled:c!=="contact"})]})]}),o.jsxs("div",{className:"responsive-grid-2",style:{marginBottom:"1rem"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.businessPhone")}),o.jsx("input",{type:"tel",value:f.contact.business_phone,onChange:j=>k("contact","business_phone",j.target.value),style:M,placeholder:"+966112345678",disabled:c!=="contact"})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.businessEmail")}),o.jsx("input",{type:"email",value:f.contact.business_email,onChange:j=>k("contact","business_email",j.target.value),style:M,placeholder:"info@company.com",disabled:c!=="contact"})]})]}),o.jsxs("div",{className:"responsive-grid-2",style:{marginBottom:"1rem"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.contactPerson")}),o.jsx("input",{type:"text",value:f.contact.contact_person,onChange:j=>k("contact","contact_person",j.target.value),style:M,placeholder:r("contractorApp.profile.placeholders.contactPerson"),disabled:c!=="contact"})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.contactPosition")}),o.jsx("input",{type:"text",value:f.contact.contact_position,onChange:j=>k("contact","contact_position",j.target.value),style:M,placeholder:r("contractorApp.profile.placeholders.contactPosition"),disabled:c!=="contact"})]})]})]}),ye=()=>o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1a1a1a"},children:r("contractorApp.profile.sections.addressInfo")}),o.jsxs("div",{className:"responsive-grid-2",style:{marginBottom:"1rem"},children:[o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:[r("contractorApp.profile.fields.region")," *"]}),o.jsxs("select",{value:f.address.region,onChange:j=>k("address","region",j.target.value),style:M,disabled:c!=="address",children:[o.jsx("option",{value:"",children:r("contractorApp.profile.placeholders.selectRegion")}),T.map(j=>o.jsx("option",{value:j,children:r(`contractorApp.profile.regions.${j}`)},j))]})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:[r("contractorApp.profile.fields.city")," *"]}),o.jsx("input",{type:"text",value:f.address.city,onChange:j=>k("address","city",j.target.value),style:M,placeholder:r("contractorApp.profile.placeholders.city"),disabled:c!=="address"})]})]}),o.jsxs("div",{className:"responsive-grid-2",style:{marginBottom:"1rem"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.district")}),o.jsx("input",{type:"text",value:f.address.district,onChange:j=>k("address","district",j.target.value),style:M,placeholder:r("contractorApp.profile.placeholders.district"),disabled:c!=="address"})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.postalCode")}),o.jsx("input",{type:"text",value:f.address.postal_code,onChange:j=>k("address","postal_code",j.target.value),style:M,placeholder:"12345",disabled:c!=="address"})]})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.streetAddress")}),o.jsx("input",{type:"text",value:f.address.address_line1,onChange:j=>k("address","address_line1",j.target.value),style:M,placeholder:r("contractorApp.profile.placeholders.streetAddress"),disabled:c!=="address"})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.addressLine2")}),o.jsx("input",{type:"text",value:f.address.address_line2,onChange:j=>k("address","address_line2",j.target.value),style:M,placeholder:r("contractorApp.profile.placeholders.addressLine2"),disabled:c!=="address"})]})]}),de=()=>o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1a1a1a"},children:r("contractorApp.profile.sections.serviceInfo")}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:[r("contractorApp.profile.fields.serviceCategories")," *"]}),o.jsx("div",{className:"responsive-grid-auto",children:_.map(j=>o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",className:"custom-checkbox",checked:f.services.service_categories.includes(j),onChange:B=>{const H=f.services.service_categories,J=B.target.checked?[...H,j]:H.filter($=>$!==j);k("services","service_categories",J)},disabled:c!=="services"}),o.jsx("span",{style:{fontSize:"0.875rem"},children:r(`contractorApp.profile.serviceCategories.${j}`)})]},j))})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:[r("contractorApp.profile.fields.serviceAreas")," *"]}),o.jsx("input",{type:"text",value:f.services.service_areas.join(", "),onChange:j=>I("services","service_areas",j.target.value),style:M,placeholder:r("contractorApp.profile.placeholders.serviceAreas"),disabled:c!=="services"}),o.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:r("contractorApp.profile.hints.separateWithComma")})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:[r("contractorApp.profile.fields.yearsExperience")," *"]}),o.jsx("input",{type:"number",value:f.services.years_experience,onChange:j=>k("services","years_experience",parseInt(j.target.value)||0),style:M,placeholder:"5",min:"0",max:"50",disabled:c!=="services"})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.specializations")}),o.jsxs("div",{className:`tag-input-container ${c!=="services"?"disabled":""}`,onClick:()=>{c==="services"&&document.querySelector(".tag-input")?.focus()},children:[f.services.specializations.map((j,B)=>o.jsxs("div",{className:"tag-item",children:[o.jsx("span",{children:j}),c==="services"&&o.jsx("button",{type:"button",className:"tag-remove",onClick:H=>{H.stopPropagation(),ae(j)},"aria-label":`Remove ${j} tag`,children:"×"})]},B)),c==="services"&&o.jsx("input",{type:"text",className:"tag-input",value:x,onChange:Y,onKeyDown:N,placeholder:f.services.specializations.length===0?r("contractorApp.profile.placeholders.specializations"):r("contractorApp.profile.placeholders.addSpecialization"),disabled:c!=="services"})]}),o.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:r(c==="services"?"contractorApp.profile.hints.tagInput":"contractorApp.profile.hints.separateWithComma")})]})]}),O=()=>o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1a1a1a"},children:r("contractorApp.profile.sections.verification")}),o.jsxs("div",{style:{background:`linear-gradient(135deg, ${R.color}20 0%, ${R.color}10 100%)`,border:`1px solid ${R.color}40`,borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[o.jsx("span",{style:{fontSize:"1.25rem"},children:R.icon}),o.jsx("span",{style:{fontWeight:"600",color:R.color},children:R.text})]}),o.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:r("contractorApp.profile.verificationDescription")})]}),o.jsxs("div",{className:"responsive-grid-2",style:{marginBottom:"1rem"},children:[o.jsxs("div",{style:{padding:"1rem",border:"1px solid rgba(62, 178, 177, 0.2)",borderRadius:"12px",background:f.verification.sama_verified?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[o.jsx("span",{children:f.verification.sama_verified?"✅":"❌"}),o.jsx("span",{style:{fontWeight:"600"},children:r("contractorApp.profile.verifications.sama")})]}),o.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:r("contractorApp.profile.verificationStatuses.sama")})]}),o.jsxs("div",{style:{padding:"1rem",border:"1px solid rgba(62, 178, 177, 0.2)",borderRadius:"12px",background:f.verification.nafath_verified?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[o.jsx("span",{children:f.verification.nafath_verified?"✅":"❌"}),o.jsx("span",{style:{fontWeight:"600"},children:r("contractorApp.profile.verifications.nafath")})]}),o.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:r("contractorApp.profile.verificationStatuses.nafath")})]})]}),o.jsxs("div",{className:"responsive-grid-2",style:{marginBottom:"1rem"},children:[o.jsxs("div",{style:{padding:"1rem",border:"1px solid rgba(62, 178, 177, 0.2)",borderRadius:"12px",background:f.verification.saso_certified?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[o.jsx("span",{children:f.verification.saso_certified?"✅":"❌"}),o.jsx("span",{style:{fontWeight:"600"},children:r("contractorApp.profile.verifications.saso")})]}),o.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:r("contractorApp.profile.verificationStatuses.saso")})]}),o.jsxs("div",{style:{padding:"1rem",border:"1px solid rgba(62, 178, 177, 0.2)",borderRadius:"12px",background:f.verification.sec_licensed?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[o.jsx("span",{children:f.verification.sec_licensed?"✅":"❌"}),o.jsx("span",{style:{fontWeight:"600"},children:r("contractorApp.profile.verifications.sec")})]}),o.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:r("contractorApp.profile.verificationStatuses.sec")})]})]}),o.jsxs("div",{style:{padding:"1rem",background:"rgba(62, 178, 177, 0.1)",border:"1px solid rgba(62, 178, 177, 0.2)",borderRadius:"12px"},children:[o.jsxs("h4",{style:{margin:"0 0 0.5rem 0",fontWeight:"600"},children:[r("contractorApp.profile.verificationLevel"),": ",f.verification.verification_level,"/4"]}),o.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:r("contractorApp.profile.adminControlled")})]})]}),U=()=>o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1a1a1a"},children:r("contractorApp.profile.sections.financialInfo")}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.bankName")}),o.jsx("select",{value:f.financial.bank_name,onChange:j=>k("financial","bank_name",j.target.value),style:{...M,backgroundImage:`url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e")`,backgroundRepeat:"no-repeat",backgroundPosition:s?"left 0.75rem center":"right 0.75rem center",backgroundSize:"1rem",paddingLeft:s?"2.5rem":"0.75rem",paddingRight:s?"0.75rem":"2.5rem",appearance:"none",cursor:c==="financial"?"pointer":"default"},disabled:c!=="financial",children:V.map(j=>o.jsx("option",{value:j.value,children:j.label},j.value))})]}),f.financial.bank_name==="other"&&o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.customBankName")}),o.jsx("input",{type:"text",value:f.financial.custom_bank_name||"",onChange:j=>k("financial","custom_bank_name",j.target.value),style:M,placeholder:r("contractorApp.profile.placeholders.customBankName"),disabled:c!=="financial"})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.iban")}),o.jsx("input",{type:"text",value:f.financial.iban,onChange:j=>k("financial","iban",j.target.value),style:M,placeholder:"SA0000000000000000000000",disabled:c!=="financial"})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.accountHolderName")}),o.jsx("input",{type:"text",value:f.financial.account_holder_name,onChange:j=>k("financial","account_holder_name",j.target.value),style:M,placeholder:r("contractorApp.profile.placeholders.accountHolderName"),disabled:c!=="financial"})]}),o.jsxs("div",{style:{padding:"1rem",background:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)",borderRadius:"12px"},children:[o.jsxs("h4",{style:{margin:"0 0 0.5rem 0",fontWeight:"600",color:"#d97706"},children:["⚠️ ",r("contractorApp.profile.securityNote")]}),o.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:r("contractorApp.profile.financialSecurityNote")})]})]}),ne=()=>o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1.5rem",color:"#1a1a1a"},children:r("contractorApp.profile.sections.preferences")}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsx("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"500",color:"#374151"},children:r("contractorApp.profile.fields.preferredLanguage")}),o.jsxs("div",{className:`language-toggle ${c!=="preferences"?"disabled":""}`,style:{opacity:c!=="preferences"?.5:1,pointerEvents:c!=="preferences"?"none":"auto"},children:[o.jsx("div",{className:`language-option ${n.language==="ar"?"active":"inactive"}`,onClick:()=>c==="preferences"&&Z("ar"),children:"العربية"}),o.jsx("div",{className:`language-option ${n.language==="en"?"active":"inactive"}`,onClick:()=>c==="preferences"&&Z("en"),children:"English"})]})]}),o.jsx("div",{style:{marginBottom:"1rem"},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",className:"custom-checkbox",checked:f.preferences.email_notifications,onChange:j=>k("preferences","email_notifications",j.target.checked),disabled:c!=="preferences"}),o.jsx("span",{style:{fontWeight:"500"},children:r("contractorApp.profile.fields.emailNotifications")})]})}),o.jsx("div",{style:{marginBottom:"1rem"},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",className:"custom-checkbox",checked:f.preferences.sms_notifications,onChange:j=>k("preferences","sms_notifications",j.target.checked),disabled:c!=="preferences"}),o.jsx("span",{style:{fontWeight:"500"},children:r("contractorApp.profile.fields.smsNotifications")})]})}),o.jsx("div",{style:{marginBottom:"1rem"},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",className:"custom-checkbox",checked:f.preferences.marketing_consent,onChange:j=>k("preferences","marketing_consent",j.target.checked),disabled:c!=="preferences"}),o.jsx("span",{style:{fontWeight:"500"},children:r("contractorApp.profile.fields.marketingConsent")})]})})]}),ee=()=>{switch(a){case"business":return D();case"contact":return ge();case"address":return ye();case"services":return de();case"verification":return O();case"financial":return U();case"preferences":return ne();default:return D()}},ke={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"20px",border:"1px solid rgba(62, 178, 177, 0.2)",boxShadow:"0 8px 32px rgba(62, 178, 177, 0.1)",padding:"2rem",minHeight:"600px"},me={width:"280px",marginRight:s?"0":"2rem",marginLeft:s?"2rem":"0"},oe={flex:1,minHeight:"600px"},F={display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.875rem 1rem",margin:"0.25rem 0",background:"transparent",border:"none",borderRadius:"12px",cursor:"pointer",transition:w.transitions.fast,fontSize:"0.875rem",fontWeight:"500",color:"#6b7280",textDecoration:"none",width:"100%",textAlign:s?"right":"left"},hr={background:"linear-gradient(135deg, rgba(62, 178, 177, 0.15) 0%, rgba(34, 211, 219, 0.15) 100%)",color:"#3eb2b1",fontWeight:"600",boxShadow:"0 2px 8px rgba(62, 178, 177, 0.2)"},L=(()=>{const j=[f.business.business_name,f.business.business_name_ar,f.business.business_type,f.business.commercial_registration,f.business.vat_number,f.business.established_year,f.business.employee_count,f.business.website,f.business.description,f.business.description_ar,f.contact.email,f.contact.phone,f.contact.whatsapp,f.address.address_line1,f.address.address_line2,f.address.city,f.address.region,f.address.postal_code,f.address.country,f.services.service_categories?.length>0?"filled":null,f.services.service_areas?.length>0?"filled":null,f.services.years_experience,f.financial.bank_name,f.financial.bank_name==="other"?f.financial.custom_bank_name:"filled",f.preferences.preferred_language],B=j.filter(H=>H!=null&&H!==""&&H!==0).length;return Math.round(B/j.length*100)})(),he=f.business.business_name||m?.first_name+" "+m?.last_name||m?.email||r("contractorApp.profile.defaultName");return!w||!w.colors?(console.error("Theme not available, returning basic layout"),o.jsx("div",{children:"Loading..."})):(console.log("ContractorProfile rendering, activeSection:",a,"isLoading:",d),o.jsxs("div",{style:{direction:s?"rtl":"ltr",padding:"1.5rem",minHeight:"100vh",background:w.colors?.gradients?.primaryLight},children:[o.jsx("style",{children:vd}),p&&o.jsx("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:p.includes("Error")||p.includes("error")?"rgba(244, 67, 54, 0.1)":"rgba(16, 185, 129, 0.1)",border:`1px solid ${p.includes("Error")||p.includes("error")?"rgba(244, 67, 54, 0.3)":"rgba(16, 185, 129, 0.3)"}`,borderRadius:"8px",color:p.includes("Error")||p.includes("error")?"#dc2626":"#059669",fontSize:"0.875rem",textAlign:"center"},children:p}),o.jsx("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:o.jsxs("div",{style:ke,children:[o.jsxs("div",{style:{marginBottom:"2rem",paddingBottom:"1.5rem",borderBottom:"1px solid rgba(62, 178, 177, 0.2)"},children:[o.jsxs("div",{className:"profile-header-content",style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"1rem",marginBottom:"1.5rem"},children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#1a1a1a",margin:"0 0 0.5rem 0",textAlign:s?"right":"left"},children:r("contractorApp.profile.title")}),o.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#3eb2b1",margin:0,textAlign:s?"right":"left"},children:he})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:m?.verification_level>=3?"rgba(16, 185, 129, 0.1)":"rgba(245, 158, 11, 0.1)",border:`1px solid ${m?.verification_level>=3?"rgba(16, 185, 129, 0.3)":"rgba(245, 158, 11, 0.3)"}`,borderRadius:"12px",fontSize:"0.875rem",fontWeight:"600",color:m?.verification_level>=3?"#059669":"#d97706"},children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M22 12C22 6.477 17.523 2 12 2S2 6.477 2 12s4.477 10 10 10 10-4.477 10-10z",fill:"currentColor",fillOpacity:"0.2"}),o.jsx("path",{d:"M9 12l2 2 4-4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),m?.verification_level>=3?r("contractorApp.profile.verified"):r("contractorApp.profile.pending")]})]}),o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[o.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:r("contractorApp.profile.completionProgress")}),o.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"700",color:"#3eb2b1"},children:[L,"%"]})]}),o.jsx("div",{style:{width:"100%",height:"8px",background:"#f3f4f6",borderRadius:"4px",overflow:"hidden"},children:o.jsx("div",{style:{width:`${L}%`,height:"100%",background:L>=80?"linear-gradient(90deg, #10b981 0%, #059669 100%)":L>=50?"linear-gradient(90deg, #3eb2b1 0%, #0891b2 100%)":"linear-gradient(90deg, #f59e0b 0%, #d97706 100%)",borderRadius:"4px",transition:"width 0.3s ease"}})}),o.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:"0.5rem 0 0 0",textAlign:s?"right":"left"},children:L>=80?r("contractorApp.profile.excellentProgress"):L>=50?r("contractorApp.profile.goodProgress"):r("contractorApp.profile.completeProfile")})]})]}),o.jsxs("div",{className:"contractor-profile-layout",style:{display:"flex",gap:"2rem"},children:[o.jsx("div",{style:me,children:o.jsx("nav",{style:{display:"flex",flexDirection:"column"},children:K.map(j=>o.jsxs("button",{onClick:()=>i(j.id),style:{...F,...a===j.id?hr:{}},onMouseEnter:B=>{a!==j.id&&(B.currentTarget.style.background="rgba(62, 178, 177, 0.08)",B.currentTarget.style.color="#3eb2b1")},onMouseLeave:B=>{a!==j.id&&(B.currentTarget.style.background="transparent",B.currentTarget.style.color="#6b7280")},children:[o.jsx("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:j.icon}),o.jsx("span",{children:j.label})]},j.id))})}),o.jsxs("div",{style:oe,children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"2rem",flexWrap:"wrap",gap:"1rem"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[o.jsx("span",{style:{color:"#3eb2b1"},children:K.find(j=>j.id===a)?.icon}),o.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1a1a1a",margin:0},children:K.find(j=>j.id===a)?.label})]}),o.jsx("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:c===a?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>l(null),style:{...W,background:"transparent",border:"1px solid #d1d5db",color:"#6b7280"},children:[o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:s?"0":"0.5rem",marginLeft:s?"0.5rem":"0"},children:o.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),r("common.cancel")]}),o.jsxs("button",{onClick:()=>q(a),disabled:d,style:{...W,background:d?"#9ca3af":"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",cursor:d?"not-allowed":"pointer"},children:[d?o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:s?"0":"0.5rem",marginLeft:s?"0.5rem":"0",animation:"spin 1s linear infinite"},children:o.jsx("path",{d:"M12 2V6M12 18V22M4.93 4.93L7.76 7.76M16.24 16.24L19.07 19.07M2 12H6M18 12H22M4.93 19.07L7.76 16.24M16.24 7.76L19.07 4.93",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:s?"0":"0.5rem",marginLeft:s?"0.5rem":"0"},children:[o.jsx("path",{d:"M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("polyline",{points:"17,21 17,13 7,13 7,21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("polyline",{points:"7,3 7,8 15,8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),r(d?"common.saving":"common.save")]})]}):o.jsxs("button",{onClick:()=>l(a),style:{...W,background:"linear-gradient(135deg, rgba(62, 178, 177, 0.1) 0%, rgba(34, 211, 219, 0.1) 100%)",border:"1px solid rgba(62, 178, 177, 0.3)",color:"#3eb2b1"},children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{marginRight:s?"0":"0.5rem",marginLeft:s?"0.5rem":"0"},children:[o.jsx("path",{d:"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M18.5 2.50001C18.8978 2.10219 19.4374 1.87869 20 1.87869C20.5626 1.87869 21.1022 2.10219 21.5 2.50001C21.8978 2.89784 22.1213 3.4374 22.1213 4.00001C22.1213 4.56262 21.8978 5.10219 21.5 5.50001L12 15L8 16L9 12L18.5 2.50001Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),r("common.edit")]})})]}),o.jsx("div",{children:ee()})]})]})]})})]}))},E2=({userType:e})=>{const{t}=xe();return o.jsx(bd,{userType:e})},Da=({user:e})=>{const{t,i18n:r}=xe(),n=r.language==="ar",[s,a]=b.useState({totalProjects:0,activeProjects:0,completedProjects:0,totalRevenue:0,pendingPayments:0,averageRating:0,totalReviews:0,monthlyProjects:0}),[i,c]=b.useState(!0);b.useEffect(()=>{(async()=>{try{c(!0),await new Promise(A=>setTimeout(A,1e3)),a({totalProjects:25,activeProjects:3,completedProjects:22,totalRevenue:185e3,pendingPayments:15e3,averageRating:4.7,totalReviews:18,monthlyProjects:5})}catch(A){console.error("Error fetching dashboard data:",A)}finally{c(!1)}})()},[e.id]);const l=()=>e.business_name?e.business_name:e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.first_name?e.first_name:e.email.split("@")[0],d=()=>{const y=e.verification_level||0;return y>=4?{text:t("contractorApp.verification.verified"),color:"#10b981"}:y>=2?{text:t("contractorApp.verification.partial"),color:"#f59e0b"}:{text:t("contractorApp.verification.pending"),color:"#ef4444"}},u=y=>new Intl.NumberFormat(n?"ar-SA":"en-SA",{style:"currency",currency:"SAR",minimumFractionDigits:0}).format(y),p=d(),h={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"20px",border:"1px solid rgba(62, 178, 177, 0.2)",boxShadow:"0 8px 32px rgba(62, 178, 177, 0.1)",padding:"1.5rem",transition:w.transitions.normal},m={...h,textAlign:"center",cursor:"pointer"},g={fontSize:"2rem",fontWeight:"700",color:"#1a1a1a",marginBottom:"0.5rem",textAlign:n?"right":"left"},x={fontSize:"1rem",color:"#6b7280",marginBottom:"2rem",textAlign:n?"right":"left"};return i?o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"400px",flexDirection:"column",gap:"1rem"},children:[o.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid rgba(62, 178, 177, 0.2)",borderTop:"4px solid #3eb2b1",borderRadius:"50%",animation:"spin 1s linear infinite"}}),o.jsx("p",{style:{color:"#6b7280"},children:t("contractorApp.dashboard.loading")})]}):o.jsxs("div",{style:{direction:n?"rtl":"ltr"},children:[o.jsxs("div",{style:{marginBottom:"2rem"},children:[o.jsx("h1",{style:g,children:t("contractorApp.dashboard.welcome",{name:l()})}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[o.jsx("p",{style:x,children:t("contractorApp.dashboard.subtitle")}),o.jsx("div",{style:{padding:"0.25rem 0.75rem",backgroundColor:p.color+"20",color:p.color,borderRadius:"20px",fontSize:"0.875rem",fontWeight:"600"},children:p.text})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(280px, 100%), 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[o.jsxs("div",{style:m,onMouseEnter:y=>{y.currentTarget.style.transform="translateY(-4px)",y.currentTarget.style.boxShadow="0 12px 40px rgba(62, 178, 177, 0.2)"},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0)",y.currentTarget.style.boxShadow="0 8px 32px rgba(62, 178, 177, 0.1)"},children:[o.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #3eb2b1 0%, #22d3db 100%)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem auto",boxShadow:"0 8px 24px rgba(62, 178, 177, 0.3)"},children:o.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z",stroke:"white",strokeWidth:"2",fill:"none"}),o.jsx("polyline",{points:"14,2 14,8 20,8",stroke:"white",strokeWidth:"2",fill:"none"})]})}),o.jsx("h3",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#1a1a1a",margin:"0 0 0.5rem 0"},children:s.totalProjects}),o.jsx("p",{style:{fontSize:"1rem",color:"#6b7280",fontWeight:"600"},children:t("contractorApp.dashboard.stats.totalProjects")})]}),o.jsxs("div",{style:m,onMouseEnter:y=>{y.currentTarget.style.transform="translateY(-4px)",y.currentTarget.style.boxShadow="0 12px 40px rgba(62, 178, 177, 0.2)"},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0)",y.currentTarget.style.boxShadow="0 8px 32px rgba(62, 178, 177, 0.1)"},children:[o.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #10b981 0%, #34d399 100%)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem auto",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:o.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"white",strokeWidth:"2",fill:"none"}),o.jsx("path",{d:"M12 6v6l4 2",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})]})}),o.jsx("h3",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#1a1a1a",margin:"0 0 0.5rem 0"},children:s.activeProjects}),o.jsx("p",{style:{fontSize:"1rem",color:"#6b7280",fontWeight:"600"},children:t("contractorApp.dashboard.stats.activeProjects")})]}),o.jsxs("div",{style:m,onMouseEnter:y=>{y.currentTarget.style.transform="translateY(-4px)",y.currentTarget.style.boxShadow="0 12px 40px rgba(62, 178, 177, 0.2)"},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0)",y.currentTarget.style.boxShadow="0 8px 32px rgba(62, 178, 177, 0.1)"},children:[o.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #8b5cf6 0%, #a78bfa 100%)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem auto",boxShadow:"0 8px 24px rgba(139, 92, 246, 0.3)"},children:o.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23",stroke:"white",strokeWidth:"2"}),o.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",stroke:"white",strokeWidth:"2",fill:"none"})]})}),o.jsx("h3",{style:{fontSize:"1.75rem",fontWeight:"700",color:"#1a1a1a",margin:"0 0 0.5rem 0"},children:u(s.totalRevenue)}),o.jsx("p",{style:{fontSize:"1rem",color:"#6b7280",fontWeight:"600"},children:t("contractorApp.dashboard.stats.totalRevenue")})]}),o.jsxs("div",{style:m,onMouseEnter:y=>{y.currentTarget.style.transform="translateY(-4px)",y.currentTarget.style.boxShadow="0 12px 40px rgba(62, 178, 177, 0.2)"},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0)",y.currentTarget.style.boxShadow="0 8px 32px rgba(62, 178, 177, 0.1)"},children:[o.jsx("div",{style:{width:"64px",height:"64px",background:"linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%)",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem auto",boxShadow:"0 8px 24px rgba(245, 158, 11, 0.3)"},children:o.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",fill:"white"})})}),o.jsx("h3",{style:{fontSize:"2.5rem",fontWeight:"700",color:"#1a1a1a",margin:"0 0 0.5rem 0"},children:s.averageRating.toFixed(1)}),o.jsxs("p",{style:{fontSize:"1rem",color:"#6b7280",fontWeight:"600"},children:[t("contractorApp.dashboard.stats.averageRating")," (",s.totalReviews," ",t("contractorApp.dashboard.stats.reviews"),")"]})]})]}),o.jsxs("div",{style:h,children:[o.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1a1a1a",marginBottom:"1.5rem",textAlign:n?"right":"left"},children:t("contractorApp.dashboard.quickActions.title")}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[o.jsx("button",{style:{padding:"1rem",background:"linear-gradient(135deg, rgba(62, 178, 177, 0.1) 0%, rgba(34, 211, 219, 0.1) 100%)",border:"1px solid rgba(62, 178, 177, 0.3)",borderRadius:"12px",color:"#3eb2b1",fontWeight:"600",cursor:"pointer",transition:w.transitions.fast},onMouseEnter:y=>{y.currentTarget.style.background="linear-gradient(135deg, rgba(62, 178, 177, 0.2) 0%, rgba(34, 211, 219, 0.2) 100%)",y.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:y=>{y.currentTarget.style.background="linear-gradient(135deg, rgba(62, 178, 177, 0.1) 0%, rgba(34, 211, 219, 0.1) 100%)",y.currentTarget.style.transform="translateY(0)"},children:t("contractorApp.dashboard.quickActions.newProject")}),o.jsx("button",{style:{padding:"1rem",background:"linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(52, 211, 153, 0.1) 100%)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"12px",color:"#10b981",fontWeight:"600",cursor:"pointer",transition:w.transitions.fast},onMouseEnter:y=>{y.currentTarget.style.background="linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(52, 211, 153, 0.2) 100%)",y.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:y=>{y.currentTarget.style.background="linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(52, 211, 153, 0.1) 100%)",y.currentTarget.style.transform="translateY(0)"},children:t("contractorApp.dashboard.quickActions.manageProducts")}),o.jsx("button",{style:{padding:"1rem",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(167, 139, 250, 0.1) 100%)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"12px",color:"#8b5cf6",fontWeight:"600",cursor:"pointer",transition:w.transitions.fast},onMouseEnter:y=>{y.currentTarget.style.background="linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(167, 139, 250, 0.2) 100%)",y.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:y=>{y.currentTarget.style.background="linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(167, 139, 250, 0.1) 100%)",y.currentTarget.style.transform="translateY(0)"},children:t("contractorApp.dashboard.quickActions.viewWallet")})]})]}),o.jsxs("div",{style:{...h,marginTop:"1.5rem"},children:[o.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1a1a1a",marginBottom:"1.5rem",textAlign:n?"right":"left"},children:t("contractorApp.dashboard.recentActivity.title")}),o.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"3rem",color:"#6b7280",fontSize:"1rem"},children:t("contractorApp.dashboard.recentActivity.noActivity")})]})]})},M2=({user:e})=>{const{t,i18n:r}=xe(),n=r.language==="ar",s={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"20px",border:"1px solid rgba(62, 178, 177, 0.2)",boxShadow:"0 8px 32px rgba(62, 178, 177, 0.1)",padding:"2rem",marginBottom:"1.5rem"};return o.jsxs("div",{style:{direction:n?"rtl":"ltr"},children:[o.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#1a1a1a",marginBottom:"2rem",textAlign:n?"right":"left"},children:t("contractorApp.projects.title")}),o.jsx("div",{style:s,children:o.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",color:"#6b7280"},children:[o.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"1rem"},children:t("contractorApp.projects.management")}),o.jsx("p",{children:t("contractorApp.projects.comingSoon")})]})})]})},I2=({user:e})=>{const{t,i18n:r}=xe(),n=r.language==="ar",s={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"20px",border:"1px solid rgba(62, 178, 177, 0.2)",boxShadow:"0 8px 32px rgba(62, 178, 177, 0.1)",padding:"2rem",marginBottom:"1.5rem"};return o.jsxs("div",{style:{direction:n?"rtl":"ltr"},children:[o.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#1a1a1a",marginBottom:"2rem",textAlign:n?"right":"left"},children:t("contractorApp.marketplace.title")}),o.jsx("div",{style:s,children:o.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",color:"#6b7280"},children:[o.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"1rem"},children:t("contractorApp.marketplace.productListing")}),o.jsx("p",{children:t("contractorApp.marketplace.comingSoon")})]})})]})},N2=({user:e})=>{const{t,i18n:r}=xe(),n=r.language==="ar",s={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"20px",border:"1px solid rgba(62, 178, 177, 0.2)",boxShadow:"0 8px 32px rgba(62, 178, 177, 0.1)",padding:"2rem",marginBottom:"1.5rem"};return o.jsxs("div",{style:{direction:n?"rtl":"ltr"},children:[o.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#1a1a1a",marginBottom:"2rem",textAlign:n?"right":"left"},children:t("contractorApp.quotes.title")}),o.jsx("div",{style:s,children:o.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",color:"#6b7280"},children:[o.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"1rem"},children:t("contractorApp.quotes.management")}),o.jsx("p",{children:t("contractorApp.quotes.comingSoon")})]})})]})},z2=({user:e})=>{const{t,i18n:r}=xe(),n=r.language==="ar",s={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:"20px",border:"1px solid rgba(62, 178, 177, 0.2)",boxShadow:"0 8px 32px rgba(62, 178, 177, 0.1)",padding:"2rem",marginBottom:"1.5rem"};return o.jsxs("div",{style:{direction:n?"rtl":"ltr"},children:[o.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#1a1a1a",marginBottom:"2rem",textAlign:n?"right":"left"},children:t("contractorApp.wallet.title")}),o.jsx("div",{style:s,children:o.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",color:"#6b7280"},children:[o.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#1a1a1a",marginBottom:"1rem"},children:t("contractorApp.wallet.paymentTracking")}),o.jsx("p",{children:t("contractorApp.wallet.comingSoon")})]})})]})},B2=({user:e,onLogout:t,initialActiveItem:r="dashboard"})=>{const{t:n,i18n:s}=xe(),a=He(),i=Rr(),c=s.language==="ar",[l,d]=b.useState(r),[u,p]=b.useState(window.innerWidth>=1024);b.useEffect(()=>{const g=()=>{p(window.innerWidth>=1024)};return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),b.useEffect(()=>{const g=i.pathname;g==="/contractor/dashboard"?d("dashboard"):g==="/contractor/profile"?d("profile"):g==="/contractor/projects"?d("projects"):g==="/contractor/marketplace"?d("marketplace"):g==="/contractor/quotes"?d("quotes"):g==="/contractor/wallet"?d("wallet"):g==="/contractor/documents"&&d("documents")},[i.pathname]);const h=g=>{switch(d(g),g){case"dashboard":a("/contractor/dashboard");break;case"profile":a("/contractor/profile");break;case"projects":a("/contractor/projects");break;case"marketplace":a("/contractor/marketplace");break;case"quotes":a("/contractor/quotes");break;case"wallet":a("/contractor/wallet");break;case"documents":a("/contractor/documents");break;default:a("/contractor/dashboard");break}},m=()=>{switch(l){case"dashboard":return o.jsx(Da,{user:e});case"profile":return o.jsx(L2,{user:e,onUpdate:(g,x)=>{console.log("Contractor profile section updated:",g,x)}});case"projects":return o.jsx(M2,{user:e});case"marketplace":return o.jsx(I2,{user:e});case"quotes":return o.jsx(N2,{user:e});case"wallet":return o.jsx(z2,{user:e});case"documents":return o.jsx(E2,{userType:"CONTRACTOR"});default:return o.jsx(Da,{user:e})}};return o.jsxs("div",{style:{minHeight:"100vh",background:w.colors.gradients.primaryLight,color:w.colors.text.primary,fontFamily:w.typography.fonts.primary,direction:c?"rtl":"ltr"},children:[o.jsx(T2,{user:e,onLogout:t,activeItem:l,onItemClick:h}),o.jsx("main",{style:{minHeight:"100vh",marginLeft:c?"0":u?"280px":"0",marginRight:c&&u?"280px":"0",padding:u?"1.5rem":"4.5rem 1rem 1.5rem 1rem",boxSizing:"border-box",width:u?"calc(100% - 280px)":"100%",transition:w.transitions.normal},children:m()})]})},D2=Bu();Object.entries(D2).forEach(([e,t])=>{document.documentElement.style.setProperty(e,t)});const Qe=({children:e})=>{const t=He(),[r,n]=b.useState(null),[s,a]=b.useState(null);return Le.useEffect(()=>{const i=ie.getState();if(console.log("🔍 AuthGuard: Initial auth state:",{isAuthenticated:i.isAuthenticated,hasUser:!!i.user}),n(i.isAuthenticated),a(i.user),!i.isAuthenticated){console.log("🔍 AuthGuard: Not authenticated, redirecting to home"),t("/");return}return ie.subscribe(l=>{console.log("🔍 AuthGuard: Auth state updated:",{isAuthenticated:l.isAuthenticated,hasUser:!!l.user}),n(l.isAuthenticated),a(l.user),l.isAuthenticated||t("/")})},[t]),r===null?o.jsx("div",{children:"Loading..."}):!r||!s?null:o.jsx(o.Fragment,{children:e})},en=()=>{const[e,t]=b.useState(null),r=Rr(),n=He();Le.useEffect(()=>{const i=ie.getState();if(t(i.user),i.user?.role==="CONTRACTOR"&&r.pathname.startsWith("/dashboard")){n("/contractor/dashboard");return}return ie.subscribe(l=>{t(l.user),l.user?.role==="CONTRACTOR"&&r.pathname.startsWith("/dashboard")&&n("/contractor/dashboard")})},[n,r.pathname]);const s=async()=>{await ie.logout()},a=()=>{const i=r.pathname;return i==="/dashboard/profile"?"profile":i==="/dashboard/settings"?"settings":i==="/dashboard/documents"?"documents":"dashboard"};return e?o.jsx(b2,{user:e,onLogout:s,initialActiveItem:a()}):o.jsx("div",{children:"Loading..."})},Lt=()=>{const[e,t]=b.useState(null),r=Rr(),n=He();Le.useEffect(()=>{const i=ie.getState();if(t(i.user),i.user?.role==="USER"&&r.pathname.startsWith("/contractor")){n("/dashboard");return}return ie.subscribe(l=>{t(l.user),l.user?.role==="USER"&&r.pathname.startsWith("/contractor")&&n("/dashboard")})},[n,r.pathname]);const s=async()=>{await ie.logout()},a=()=>{const i=r.pathname;return i==="/contractor/profile"?"profile":i==="/contractor/projects"?"projects":i==="/contractor/marketplace"?"marketplace":i==="/contractor/quotes"?"quotes":i==="/contractor/wallet"?"wallet":i==="/contractor/documents"?"documents":"dashboard"};return e?o.jsx(B2,{user:e,onLogout:s,initialActiveItem:a()}):o.jsx("div",{children:"Loading..."})},O2=()=>{const{i18n:e}=xe(),t=He(),[r,n]=b.useState(!1),[s,a]=b.useState(!1),[i,c]=b.useState(null);Le.useEffect(()=>{const m=ie.getState();return a(m.isAuthenticated),c(m.user),ie.subscribe(x=>{a(x.isAuthenticated),c(x.user)})},[]);const l=()=>{n(!0)},d=()=>{t("/register")},u=m=>{console.log("Login successful:",m),n(!1)},p=async()=>{await ie.logout()},h=()=>{};return o.jsxs("div",{style:{minHeight:"100vh",background:w.colors.gradients.primaryLight,color:w.colors.text.primary,fontFamily:w.typography.fonts.primary,direction:e.language==="ar"?"rtl":"ltr"},children:[o.jsx(Lr,{onLogin:l,onRegister:d,onShowCalculator:h,onHome:()=>t("/"),isAuthenticated:s,user:i,onLogout:p}),o.jsx("main",{style:{minHeight:"calc(100vh - 80px)",padding:"clamp(1rem, 3vw, 2rem)",boxSizing:"border-box",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx("div",{style:{width:"100%",maxWidth:"1000px"},children:o.jsx(xd,{})})}),o.jsx(Ir,{isOpen:r,onClose:()=>n(!1),onLoginSuccess:u,onRegister:d})]})},F2=()=>{const{t:e,i18n:t}=xe(),r=He(),[n,s]=b.useState(!1),[a,i]=b.useState(!1),[c,l]=b.useState(null);Le.useEffect(()=>{const m=ie.getState();if(i(m.isAuthenticated),l(m.user),m.isAuthenticated&&m.user){r("/dashboard");return}return ie.subscribe(x=>{i(x.isAuthenticated),l(x.user),x.isAuthenticated&&x.user&&r("/dashboard")})},[r]);const d=()=>{s(!0)},u=()=>{r("/register")},p=m=>{console.log("Login successful:",m),s(!1)},h=async()=>{await ie.logout()};return o.jsxs("div",{style:{minHeight:"100vh",background:w.colors.gradients.primaryLight,color:w.colors.text.primary,fontFamily:w.typography.fonts.primary,direction:t.language==="ar"?"rtl":"ltr"},children:[o.jsx(Lr,{onLogin:d,onRegister:u,onShowCalculator:()=>r("/solar-calculator"),onHome:()=>r("/"),isAuthenticated:a,user:c,onLogout:h}),o.jsx("main",{style:{minHeight:"calc(100vh - 80px)",padding:"clamp(1rem, 3vw, 2rem)",boxSizing:"border-box",width:"100%"}}),o.jsx(Ir,{isOpen:n,onClose:()=>s(!1),onLoginSuccess:p,onRegister:u})]})},V2=()=>{const{i18n:e}=xe(),t=He(),[r,n]=b.useState(!1),[s,a]=b.useState(!1),[i,c]=b.useState(null);Le.useEffect(()=>{const g=ie.getState();return a(g.isAuthenticated),c(g.user),ie.subscribe(y=>{a(y.isAuthenticated),c(y.user)})},[]);const l=()=>{n(!0)},d=()=>{t("/register")},u=g=>{console.log("Login successful:",g),n(!1)},p=async()=>{await ie.logout()},h=g=>{t(g==="USER"?"/register/user":"/register/contractor")},m=()=>{t("/")};return o.jsxs("div",{style:{minHeight:"100vh",background:w.colors.gradients.primaryLight,color:w.colors.text.primary,fontFamily:w.typography.fonts.primary,direction:e.language==="ar"?"rtl":"ltr"},children:[o.jsx(Lr,{onLogin:l,onRegister:d,onShowCalculator:()=>t("/solar-calculator"),onHome:()=>t("/"),isAuthenticated:s,user:i,onLogout:p}),o.jsx(km,{onUserTypeSelect:h,onBack:m,onLogin:l,onRegister:d}),o.jsx(Ir,{isOpen:r,onClose:()=>n(!1),onLoginSuccess:u,onRegister:d})]})},W2=()=>{const{i18n:e}=xe(),t=He(),[r,n]=b.useState(!1),[s,a]=b.useState(!1),[i,c]=b.useState(null);Le.useEffect(()=>{const g=ie.getState();return a(g.isAuthenticated),c(g.user),ie.subscribe(y=>{a(y.isAuthenticated),c(y.user)})},[]);const l=()=>{n(!0)},d=()=>{t("/register")},u=g=>{console.log("Login successful:",g),n(!1)},p=async()=>{await ie.logout()},h=()=>{t("/register")},m=async g=>{console.log("Registration completed:",g),t("/dashboard")};return o.jsxs("div",{style:{minHeight:"100vh",background:w.colors.gradients.primaryLight,color:w.colors.text.primary,fontFamily:w.typography.fonts.primary,direction:e.language==="ar"?"rtl":"ltr"},children:[o.jsx(Lr,{onLogin:l,onRegister:d,onShowCalculator:()=>t("/solar-calculator"),onHome:()=>t("/"),isAuthenticated:s,user:i,onLogout:p}),o.jsx(Sm,{onBack:h,onLogin:l,onRegister:d,onComplete:m}),o.jsx(Ir,{isOpen:r,onClose:()=>n(!1),onLoginSuccess:u,onRegister:d})]})},$2=()=>{const{i18n:e}=xe(),t=He(),[r,n]=b.useState(!1),[s,a]=b.useState(!1),[i,c]=b.useState(null);Le.useEffect(()=>{const g=ie.getState();return a(g.isAuthenticated),c(g.user),ie.subscribe(y=>{a(y.isAuthenticated),c(y.user)})},[]);const l=()=>{n(!0)},d=()=>{t("/register")},u=g=>{console.log("Login successful:",g),n(!1)},p=async()=>{await ie.logout()},h=()=>{t("/register")},m=async g=>{console.log("Contractor registration completed:",g),t("/contractor/dashboard")};return o.jsxs("div",{style:{minHeight:"100vh",background:w.colors.gradients.primaryLight,color:w.colors.text.primary,fontFamily:w.typography.fonts.primary,direction:e.language==="ar"?"rtl":"ltr"},children:[o.jsx(Lr,{onLogin:l,onRegister:d,onShowCalculator:()=>t("/solar-calculator"),onHome:()=>t("/"),isAuthenticated:s,user:i,onLogout:p}),o.jsx(_m,{onBack:h,onLogin:l,onRegister:d,onComplete:m}),o.jsx(Ir,{isOpen:r,onClose:()=>n(!1),onLoginSuccess:u,onRegister:d})]})},U2=()=>{const{i18n:e}=xe();return Le.useEffect(()=>{document.documentElement.dir=e.language==="ar"?"rtl":"ltr",document.documentElement.lang=e.language},[e.language]),o.jsx(jd,{children:o.jsxs(_d,{children:[o.jsx(Ee,{path:"/",element:o.jsx(F2,{})}),o.jsx(Ee,{path:"/solar-calculator",element:o.jsx(O2,{})}),o.jsx(Ee,{path:"/register",element:o.jsx(V2,{})}),o.jsx(Ee,{path:"/register/user",element:o.jsx(W2,{})}),o.jsx(Ee,{path:"/register/contractor",element:o.jsx($2,{})}),o.jsx(Ee,{path:"/dashboard",element:o.jsx(Qe,{children:o.jsx(en,{})})}),o.jsx(Ee,{path:"/dashboard/profile",element:o.jsx(Qe,{children:o.jsx(en,{})})}),o.jsx(Ee,{path:"/dashboard/settings",element:o.jsx(Qe,{children:o.jsx(en,{})})}),o.jsx(Ee,{path:"/dashboard/documents",element:o.jsx(Qe,{children:o.jsx(en,{})})}),o.jsx(Ee,{path:"/contractor/dashboard",element:o.jsx(Qe,{children:o.jsx(Lt,{})})}),o.jsx(Ee,{path:"/contractor/profile",element:o.jsx(Qe,{children:o.jsx(Lt,{})})}),o.jsx(Ee,{path:"/contractor/projects",element:o.jsx(Qe,{children:o.jsx(Lt,{})})}),o.jsx(Ee,{path:"/contractor/marketplace",element:o.jsx(Qe,{children:o.jsx(Lt,{})})}),o.jsx(Ee,{path:"/contractor/quotes",element:o.jsx(Qe,{children:o.jsx(Lt,{})})}),o.jsx(Ee,{path:"/contractor/wallet",element:o.jsx(Qe,{children:o.jsx(Lt,{})})}),o.jsx(Ee,{path:"/contractor/documents",element:o.jsx(Qe,{children:o.jsx(Lt,{})})})]})})};Co.createRoot(document.getElementById("root")).render(o.jsx(Le.StrictMode,{children:o.jsx(U2,{})}));
